(self.webpackChunk=self.webpackChunk||[]).push([[2143],{16248:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n='<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z"/>\n  <path fill="#ffffff" d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z"/>\n  <path fill="currentColor" d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"/>\n  <path fill="#ffffff" d="M11 16C13.7614 16 16 13.7614 16 11C16 8.23858 13.7614 6 11 6C8.23858 6 6 8.23858 6 11C6 13.7614 8.23858 16 11 16Z"/>\n</svg>\n'},80732:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z"/>\n  <path fill="#ffffff" d="M9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17Z"/>\n  <path fill="currentColor" d="M9 15C12.3137 15 15 12.3137 15 9C15 5.68629 12.3137 3 9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15Z"/>\n  <path fill="#ffffff" fill-opacity="0.5" d="M9 13C11.2091 13 13 11.2091 13 9C13 6.79086 11.2091 5 9 5C6.79086 5 5 6.79086 5 9C5 11.2091 6.79086 13 9 13Z"/>\n</svg>'},32307:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});const n=(0,r(37346).mq)("I18N/WITH_INTL")},51467:(e,t,r)=>{"use strict";function n(){var e;if(null===(e=window.fbqImageTrack)||void 0===e?void 0:e.isImgMethod){(new Image).src=`https://www.facebook.com/tr?id=${window.fbqImageTrack.counterId}&ev=PageView&hash=${Math.random()}`}}r.d(t,{S:()=>n})},54748:(e,t,r)=>{"use strict";r.d(t,{bS:()=>n,Vc:()=>a,cm:()=>i});const n="online5";function a(){window.ga&&window.ga(`${n}.send`,"pageview",{page:window.location.pathname+window.location.search,location:window.location.origin+window.location.pathname+window.location.search,title:document.title})}function i(...e){window.ga&&window.ga.apply(window,[`${n}.send`,"event"].concat(e))}},33250:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});let n="";function a(){function e(){window.tnsCounter2gis_ru.hit(void 0,window.location.href,(n||document.referrer).replace(/\*/g,"%2a")),n=window.location.origin+window.location.pathname}(window.tnsCounter2gis_ru||window.tnscounter_callback)&&(window.tnsCounter2gis_ru?e():window.tnscounter_callback.push(e))}},50705:(e,t,r)=>{"use strict";function n(){window.VK&&window.VK.Retargeting.Hit()}r.d(t,{E:()=>n})},3833:(e,t,r)=>{"use strict";function n(){window.ym_default&&window.ym_default("hit",window.location.origin+window.location.pathname+window.location.search,{title:document.title})}r.d(t,{i:()=>n})},82462:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});const n=(0,r(2784).createContext)("\n  #########\n  ERROR: Забыл добавить конфиг приложения в ConfigContext\n  #########\n")},98872:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n={long:0,short:200,spinner:1e3}},77584:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});const n={default:"4px",minicard:"2px",oval:"50%",rounded:"9999px",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px"}},97264:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});const n={white:"#ffffff",black:"#000000",gray_1a1a1a:"#1a1a1a",gray_262626:"#262626",gray_929292:"#929292",gray_f9f9f9:"#f9f9f9",gray_f6f6f6:"#f6f6f6",gray_f2f2f2:"#f2f2f2",gray_e6e6e6:"#e6e6e6",gray_bbbbbb:"#bbbbbb",gray_b2b2b2:"#b2b2b2",gray_dddddd:"#dddddd",gray_333333:"#333333",gray_5c5c5c:"#5c5c5c",gray_9b9b9b:"#9b9b9b",gray_bfbfbf:"#bfbfbf",gray_dfdfdf:"#dfdfdf",gray_f5f5f5:"#f5f5f5",gray_f0f0f0:"#f0f0f0",gray_4d4d4d:"#4d4d4d",gray_cccccc:"#cccccc",red_fe5000:"#fe5000",orange_ff8800:"#ff8800",orange_ffba00:"#ffba00",orange_fffaeb:"#fffaeb",orange_fff0c8:"#fff0c8",orange_ff8d00:"#ff8d00",yellow_ffb81c:"#ffb81c",yellow_ffc84b:"#ffc84b",green_299400:"#299400",green_227a00:"#227a00",green_30ad00:"#30ad00",green_5bae00:"#5bae00",green_60bf00:"#60bf00",blue_006fab:"#006fab",blue_0072ce:"#0072ce",blue_0070cc:"#0070cc",blue_028eff:"#028eff",blue_c5ebff:"#c5ebff",blue_82bceb:"#82bceb",blue_59b4ff:"#59b4ff",blue_0672ad:"#0672ad",blue_70aee0:"#70aee0",blue_8eb6da:"#8eb6da",blue_0082c8:"#0082c8",blue_f1f6fa:"#f1f6fa",blue_97c9db:"#97c9db",purple_8345fe:"#8345fe",purple_4a15e8:"#4a15e8"}},54042:(e,t,r)=>{"use strict";r.d(t,{a:()=>n,Q:()=>a});const n=["ru","en","es","uk","cs","ar","az","uz"],a=["RU","AE","CL","CY","CZ","IT","KG","KZ","UA","UZ","AZ"]},7905:(e,t,r)=>{"use strict";r.d(t,{q7:()=>n,O_:()=>a,Fx:()=>i,Hs:()=>s,HI:()=>o,ro:()=>c,P9:()=>l});const n=13,a=27,i=32,s=37,o=38,c=39,l=40},82803:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});const n={bottom:-1,base:0,top:1}},3005:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});const n="Ветки метро"},90727:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});const n=["275","295","55693","21039","603","139","571","19487"]},32853:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var n=r(97264),a=r(59297);const i=`inset 0 -1px ${n.O.gray_e6e6e6}`,s=`inset 0 1px ${n.O.gray_e6e6e6}`,o={one:"0 0 1px rgba(0, 0, 0, .25)",logo:"0 0 1px 1px rgba(0, 0, 0, .25)",outerRight:"1px 0 3px 0 rgba(38, 38, 38, 0.25)",outerLeft:"-1px 0 0 0 rgba(38, 38, 38, 0.115)",outerTop:"0 -1px 3px 0 rgba(38, 38, 38, 0.25)",minicardHighLighted:`inset 3px 0 0 0 ${n.O.green_299400}`,minicardHighLightedSingle:`inset 3px 0 0 0 ${n.O.green_299400}, ${i}`,popupBorderBottom:"0 1px 3px 0 rgba(64, 64, 64, 0.5)",darkBorderBottom:"inset 0 -1px 0 0 rgba(255, 255, 255, 0.3)",popup:`0 1px 3px 0 ${(0,a.j)(n.O.gray_262626,.5)}`,innerBorderBase:`inset 0 0 0 1px ${n.O.gray_e6e6e6}`,innerBorderActive:`inset 0 0 0 1px ${n.O.green_299400}`,innerBorderFocus:`inset 0 0 0 1px ${n.O.blue_0072ce}`,innerBorderDisabled:`inset 0 0 0 1px ${n.O.gray_f2f2f2}`,innerBorderBottomBase:i,innerBorderTopBase:s,innerBorderEndBase:`logical inset -1px 0 ${n.O.gray_e6e6e6}`,innerBorderStartBase:`logical inset 1px 0 0 0 ${n.O.gray_e6e6e6}`,innerBorderTopBaseWithCurrentColor:"inset 0 -1px currentColor",innerBorderTopBottom:`${i}, ${s}`,photoItemBorderBottom:`inset -1px 0 0 0 ${n.O.white}`}},15866:(e,t,r)=>{"use strict";r.d(t,{L_:()=>n,yM:()=>a,WB:()=>i});const n=" ",a="–",i="–"},40117:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(60218),a=r(59501);function i(e,t){switch(e.type){case"building":return(0,a.o_)(e,t);case"station":case"station_platform":return(0,n.oA)([s(e,t)]);case"branch":default:return[]}}function s(e,t){const r=e.routes&&e.routes.length||0;if(0!==r)return t._nt(["%% маршрут","%% маршрута","%% маршрутов"],r)}},71456:(e,t,r)=>{"use strict";r.d(t,{Tg:()=>o,O5:()=>d,Ky:()=>c,hd:()=>l,Wx:()=>h});var n=r(60218),a=r(6365),i=r(71687);const s=e=>"branch"===e.type&&(0,i.O)(e);function o(e,t){return l(e,t).map((e=>e.value))}function c(e,t,r){const n=(0,a.so)(e,t,r.alwaysAddNameExtension),i=o(e,r);return{name:n?[n]:i,address:n?i:void 0}}function l(e,t){return d(e.type,m(e)||{},Object.assign(Object.assign({},t),{useBuildingNameForBranch:!s(e)}),p(e))}function d(e,t,r,a){const{separator:i,order:s,useBuildingNameForBranch:o,useSingleComponentForBranch:c}=r,l=(t.components||[]).map((e=>function(e,t,r){const n=function(e,t,r){if(!e)return"";if("street_number"===e.type){return("straight"===r?[e.street,e.number]:[e.number,e.street]).join(t)}if("number"===e.type&&e.number)return e.number;if("location"===e.type&&e.comment)return e.comment;return""}(e,t,r);return n&&e?{value:n,type:e.type}:void 0}(e,i,s)));switch(e){case"branch":return c?(0,n.oA)([o&&u("building_name",t.building_name),l[0]]):(0,n.oA)([o&&u("building_name",t.building_name),...l,u("comment",a)]);case"building":default:return(0,n.oA)(l)}}function u(e,t){return t?{type:e,value:t}:void 0}const p=e=>"branch"===e.type&&"address_comment"in e?e.address_comment:void 0,m=e=>"address"in e?e.address:void 0,h=e=>{const t=m(e);return t&&t.components&&t.components.find((e=>"street_number"===e.type))}},30565:(e,t,r)=>{"use strict";r.d(t,{t:()=>c,I:()=>l});var n=r(34587),a=r(73770);var i=r(89882),s=r(29940),o=r(12230);function c(e){var t,r;const n=null===(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.buy_here_owner)||void 0===r?void 0:r[0];if(n)return{ownedRubricId:n.owned_rubric_id,controlTitle:n.control_title}}function l(e,t,r,c){const l=e?(0,i.k)(e,t):void 0;if(l)return{type:l.type,value:l.value,name:(0,s.M3)(l.caption||l.name||r),href:(0,n.Y)(l),isExternal:(0,a.t)(l.type)};if(!c)return;const d={name:r,type:"open_card",value:c};return{type:d.type,value:d.value,name:r,href:(0,o.B)({id:c,type:"branch",cityAlias:void 0}),isExternal:!1}}},44956:(e,t,r)=>{"use strict";function n(e,t){if(!("adm_div"in e)||!e.adm_div)return"";const r=i(e,t);return s(e.adm_div,r)}function a(e,t){if(!("adm_div"in e)||!e.adm_div)return[];const r=i(e,t);return o(e.adm_div,r).map((e=>e.name))}function i(e,t){const{alwaysIncludeDivision:r=!1,shortenForBranches:n=!1,includeRegion:a=!0,separator:i}=t;return{includeDivision:"adm_div"===e.type||r,includeRegion:a,excludeLivingAreaAndDistrict:"branch"===e.type&&n,separator:i,entityFlags:"flags"in e?e.flags:void 0}}function s(e,t){return function(e,t){return e.map((e=>e.name)).filter(((e,t,r)=>r.indexOf(e)===t)).join(t)}(o(e,t),t.separator)}function o(e,t){const r=function(e,t){const r=e.find((e=>"city"===e.type));return e.filter((e=>{var n,a;return("region"!==e.type||!((null===(n=null==r?void 0:r.flags)||void 0===n?void 0:n.is_region_center)||(null==t?void 0:t.is_region_center)||(null==t?void 0:t.is_default)))&&("district_area"!==e.type||!((null===(a=null==r?void 0:r.flags)||void 0===a?void 0:a.is_district_area_center)||(null==t?void 0:t.is_district_area_center)||(null==t?void 0:t.is_default)))}))}(l(e,c),t.entityFlags),n=t.includeDivision?r:d(r,["division"]),a=t.excludeLivingAreaAndDistrict?d(n,["living_area","district"]):n;return t.includeRegion?a:function(e){if(e.length>1)return e.filter((e=>"region"!==e.type));return e}(a)}r.d(t,{W8:()=>n,hi:()=>a,MS:()=>s,vO:()=>l});const c=["region","district_area","city","settlement","division","district","living_area"];function l(e,t=c){return t.reduce(((t,r)=>{const n=e.find((e=>e.type===r));return n&&t.push(n),t}),[])}function d(e,t){return e.filter((e=>-1===t.indexOf(e.type)))}c.reverse()},54750:(e,t,r)=>{"use strict";r.d(t,{y:()=>i,i:()=>s});var n=r(59501),a=r(40117);function i(e,t){switch(e.type){case"branch":return(0,n.aR)(e);case"route":return(0,n.vs)(e,t);case"station":case"station_platform":case"station_entrance":return(0,n.DO)(e,t);case"point":return(0,n.s8)(e);default:return(0,n.Oc)(e,t)}}function s(e,t){return[...i(e,t),...(0,a.l)(e,t)]}},31666:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var n=r(60218);function a(e){if("address"in e&&e.address)return(0,n.oA)([e.address.postcode,e.address.building_code]).join("/")}},6365:(e,t,r)=>{"use strict";r.d(t,{KY:()=>i,so:()=>s,Y9:()=>o});var n=r(71456),a=r(59501);function i(e,t,r){const{separator:a,order:i}=r,o=s(e,t);return o?[o]:"building"===e.type?(0,n.Tg)(e,{order:i,separator:a,useSingleComponentForBranch:!1}):[t._t("Место")]}function s(e,t,r){switch(e.type){case"branch":return(0,a.Mg)(e,r);case"route":return(0,a.F5)(e,t);case"station":case"station_platform":case"station_entrance":return e.name;default:return(0,a.t1)(e,t)}}function o(e){return e.name_ex.primary}},1514:(e,t,r)=>{"use strict";r.d(t,{O1:()=>v,Vi:()=>g,li:()=>f,g1:()=>y});var n=r(68650),a=r(23437),i=r(51975),s=r(29940),o=r(64806);const c=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function d(e,t,r,n){return(r?c:l).map((r=>function(e,t,r){return Object.assign(Object.assign({},e),{timeIntervals:e.timeIntervals.map((({to:e,from:t})=>(0,o.Eq)(t,e,r))),breaks:e.breaks&&e.breaks.map((({to:e,from:t})=>(0,o.Eq)(t,e,r))),dayName:u(e.dayName,t),breakTypes:e.breakTypes&&e.breakTypes.map((e=>p(e,t)))})}(e.find((e=>e.dayName===r))||e[0],t,n)))}function u(e,t){switch(e){case"Mon":return t._t("Пн");case"Tue":return t._t("Вт");case"Wed":return t._t("Ср");case"Thu":return t._t("Чт");case"Fri":return t._t("Пт");case"Sat":return t._t("Сб");case"Sun":return t._t("Вс");default:return""}}function p(e,t){switch(e){case i.CT.lunch:return t._t("обед");case i.CT.rest:default:return t._t("перерыв")}}function m(e=0,t){const r=Math.floor(e/60),n=e%60,a=t._nt(["%% минуту","%% минуты","%% минут"],n);if(!r)return a;const i=t._nt(["%% час","%% часа","%% часов"],r);return t._pt("%1 время в часах %2 время в минутах","%1 %2",[i,a])}function h(e,t){switch(e){case"Mon":return t._t("в понедельник");case"Tue":return t._t("во вторник");case"Wed":return t._t("в среду");case"Thu":return t._t("в четверг");case"Fri":return t._t("в пятницу");case"Sat":return t._t("в субботу");case"Sun":return t._t("в воскресенье");default:return""}}function g(e,t,r,c,l){return function(e,t,r,n){if(!e)return"";const c=n?a.A0:a.CO;switch(e.type){case i.i8.aroundTheClock:return t?void 0:r._t("Круглосуточно");case i.i8.opened:return t?void 0:r._t("Открыто");case i.i8.willCloseInTime:return r._t("Закроется через %1",[m(e.minutesTo,r)]);case i.i8.willCloseInMinute:return r._t("Закроется через %1",[m(1,r)]);case i.i8.willCloseInTimeForBreak:return r._t("Через %1 закрывается на %2",[m(e.minutesTo,r),p(e.breakType,r)]);case i.i8.willCloseInMinuteForBreak:return r._t("Через %1 закрывается на %2",[m(1,r),p(e.breakType,r)]);case i.i8.willOpenInMinuteFromBreak:return(0,s.Ez)(r._t("%1. Откроется через %2",[p(e.breakType,r),m(1,r)]));case i.i8.willOpenInTimeFromBreak:return(0,s.Ez)(r._t("%1. Откроется через %2",[p(e.breakType,r),m(e.minutesTo,r)]));case i.i8.willOpenAtTimeFromBreak:return(0,s.Ez)(r._t("%1. Откроется в %2",[p(e.breakType,r),(0,o.sx)(e.time,c)]));case i.i8.willOpenAtTime:return r._t("Закрыто до %1",[(0,o.sx)(e.time,c)]);case i.i8.willOpenAtDayAtTime:case i.i8.willOpenTomorrowAtTime:case i.i8.willOpenOvermorrowAtTime:return r._t("Закрыто");case i.i8.willOpenInTime:return r._t("Откроется через %1",[m(e.minutesTo,r)]);case i.i8.willOpenInMinute:return r._t("Откроется через 1 минуту");default:return""}}((0,n.lR)(e,(0,n.Nk)(r)),t,c,l)}function f(e,t,r,s){return function(e,t,r,s=!1){if((0,n.yx)(e))return r._t("Круглосуточно");if((0,n.Ci)(e,(0,n.Nk)(t)))return r._t("Выходной");const c=(0,n.ku)(e),l=(0,n.Nk)(t),d=e[l.day],{from:u,to:m}=(0,n.DL)(d&&d.working_hours||[])[0],h=(0,n.$d)(e,l)[0],g=h?(0,n.rZ)(h):void 0,f=p(g,r),v=(0,o.sx)(u,s?a.A0:a.CO),y=(0,o.sx)(m,s?a.A0:a.CO),b=h&&(0,o.sx)(h.from,s?a.A0:a.CO),w=h&&(0,o.sx)(h.to,s?a.A0:a.CO);if(c)switch(g){case i.CT.lunch:case i.CT.rest:return r._t("Ежедневно&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[v,y,f,b,w]);default:return r._t("Ежедневно с %1 до %2",[v,y])}switch(g){case i.CT.lunch:case i.CT.rest:return r._t("Сегодня&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[v,y,f,b,w]);default:return r._t("Сегодня c %1 до %2",[v,y])}}(e,t,r,s)}function v(e,t,r,c){const l=(0,n.Nk)(t);return function(e,t,r,n){if(!e)return"";const c=n?a.A0:a.CO;switch(e.type){case i.i8.aroundTheClock:return"";case i.i8.opened:return r._t("Открыто");case i.i8.willCloseInTimeForBreak:return r._t("Через %1 закрывается на %2",[m(e.minutesTo,r),p(e.breakType,r)]);case i.i8.willCloseInMinuteForBreak:return r._t("Через минуту закрывается на %1",[p(e.breakType,r)]);case i.i8.willOpenAtTimeFromBreak:return(0,s.Ez)(r._t("%1, откроется в %2",[p(e.breakType,r),(0,o.sx)(e.time,c)]));case i.i8.willOpenInTimeFromBreak:return(0,s.Ez)(r._t("%1, откроется через %2",[p(e.breakType,r),m(e.minutesTo,r)]));case i.i8.willOpenInMinuteFromBreak:return(0,s.Ez)(r._t("%1, откроется через минуту",[p(e.breakType,r)]));case i.i8.willCloseInTime:return r._t("Закроется через %1",[m(e.minutesTo,r)]);case i.i8.willCloseInMinute:return r._t("Закроется через минуту");case i.i8.willOpenInTime:return r._t("Закрыто. Откроется через %1",[m(e.minutesTo,r)]);case i.i8.willOpenInMinute:return r._t("Откроется через минуту");case i.i8.willOpenAtTime:return r._t("Закрыто. Откроется в %1",[(0,o.sx)(e.time,c)]);case i.i8.willOpenTomorrowAtTime:return t?r._t("Откроется завтра в %1",[(0,o.sx)(e.time,c)]):r._t("Закрыто. Откроется завтра в %1",[(0,o.sx)(e.time,c)]);case i.i8.willOpenAtDayAtTime:case i.i8.willOpenOvermorrowAtTime:return t?r._t("Откроется %1 в %2",[h(e.day,r),(0,o.sx)(e.time,c)]):r._t("Закрыто. Откроется %1 в %2",[h(e.day,r),(0,o.sx)(e.time,c)]);default:return""}}((0,n.lR)(e,l),(0,n.Ci)(e,l),r,c)}function y(e,t,r,a,i){return d((0,n.r_)(e,(0,n.Nk)(t)),r,i,a)}},3408:(e,t,r)=>{"use strict";function n(e){return!(!e||!e.length)&&("circular"===e[0].type||"loop"===e[0].type)}r.d(t,{X:()=>n})},40764:(e,t,r)=>{"use strict";function n(e,t){if(e)return Number.isNaN(+e)?t._t("Места: %1",[e.toLowerCase()]):t._nt(["%% место","%% места","%% мест"],+e)}r.d(t,{R:()=>n})},59501:(e,t,r)=>{"use strict";function n(e){switch(e.subtype){case"bus":case"trolleybus":case"tram":case"shuttle_bus":return!0;default:return!1}}r.d(t,{hw:()=>n,Jm:()=>i,Sf:()=>z,aR:()=>o,Mg:()=>c,o_:()=>E,PZ:()=>w,s8:()=>O,he:()=>u,Oc:()=>d,t1:()=>l,lu:()=>h,vs:()=>v,F5:()=>y,DO:()=>C,$q:()=>k});var a=r(29940);function i(e,t){if(!e||!("subtype"in e))return[];if("subtype_specification"in e&&e.subtype_specification)return[e.subtype_specification];const r=e.subtype?"detailed_subtype"in e&&e.detailed_subtype?function(e,t){switch(e){case"microdistrict":return t._t("микрорайон");case"residential_district":return t._t("жилмассив");case"residential_quarter":return t._t("квартал");case"poselok":return t._t("посёлок");case"residential_complex":return t._t("жилой комплекс");case"selo":return t._t("село");case"derevnja":return t._t("деревня");case"cottage_estate":return t._t("коттеджный посёлок");case"urban_settlement":return t._t("посёлок городского типа");case"workers_settlement":return t._t("рабочий посёлок");case"dacha_settlement":return t._t("дачный посёлок");case"resort_settlement":return t._t("курортный посёлок");case"stanitsa":return t._t("станица");case"sloboda":return t._t("слобода");case"khutor":return t._t("хутор");case"aul":return t._t("аул");case"aal":return t._t("аал");case"town":return t._t("военный городок");case"farmstead":return t._t("заимка");case"vyselok":return t._t("выселок");case"municipality":return t._t("муниципальное образование");case"station":return t._t("станция");case"townhouse_settlement":return t._t("посёлок таунхаусов");case"territory":return t._t("территория");case"cooperative":return t._t("кооператив");case"partnership":return t._t("товарищество");default:return}}(e.detailed_subtype,t):function(e,t){switch(e){case"settlement":return t._t("населённый пункт");case"living_area":return t._t("микрорайон");case"city":return t._t("город");case"division":return t._t("округ");case"district":return t._t("район");default:return}}(e.subtype,t):void 0;return r?[(0,a.Ez)(r)]:[]}var s=r(60218);function o(e){const t=(0,s.oA)([k(e.name_ex)?void 0:e.name_ex.extension,e.name_ex.description,e.name_ex.addition]).slice(0,2);return!t.length&&e.rubrics&&e.rubrics.length?[e.rubrics[0].name]:t}function c(e,t){const{name_ex:r}=e;return(k(r)||t)&&r.extension?`${r.primary}, ${r.extension}`:r.primary}function l(e,t){switch(e.type){case"attraction":return e.name||e.subtype_name||"";case"gate":if(!e.barrier)return e.name||"";switch(e.barrier){case"gate":return t._t("Ворота");case"turnstile":return t._t("Турникет");case"wicket":return t._t("Калитка");case"gate_barrier":return t._t("Проход/проезд");default:return""}case"street":case"adm_div":case"crossroad":case"road":return e.name||"";case"parking":if(e.name)return e.name;switch(e.purpose){case"bike":return t._t("Велопарковка");case"motorbike":return t._t("Мотопарковка");case"baby_carriage":return t._t("Парковка для детских колясок");default:return t._t("Парковка")}case"building":return w(e);default:return t._t("Какое-то местечко")}}function d(e,t){switch(e.type){case"adm_div":return i(e,t);case"parking":return h(e,t);case"gate":return u(e,t);case"street":return[t._t("Улица")];case"road":return[t._t("Дорога")];case"crossroad":return[t._t("Перекресток")];default:return[]}}function u(e,t){const r=[p(e.purpose,t)];return e.access&&r.push(function(e,t){switch(e){case"paid":return t._t("платный");case"restricted":return t._t("по пропускам");case"public":default:return t._t("общедоступный")}}(e.access,t)),r}function p(e,t){switch(e){case"additional":return t._t("дополнительный");case"service":return t._t("служебный");case"main":default:return t._t("центральный")}}var m=r(40764);function h(e,t){const r=[];switch(e.access){case"public":r.push(t._t("Общедоступная"));break;case"handicapped_only":r.push(t._t("Только для инвалидов"));break;case"customers_only":r.push(t._t("Только для клиентов"));break;case"residents_only":r.push(t._t("Только для резидентов"))}if(e.is_paid?r.push(t._t("Платная")):r.push(t._t("Бесплатная")),e.capacity){const n=(0,m.R)(e.capacity.total,t);n&&r.push(n)}return r}var g=r(87725),f=r(3408);function v(e,t){switch(e.subtype){case"suburban_train":case"aeroexpress":return[(0,g.F)(e.subtype,t)];default:const r=[];return function(e){return!n(e)&&"metro"!==e.subtype}(e)&&r.push((0,g.F)(e.subtype,t)),r.push(function(e,t){if((0,f.X)(e.directions))return t._t("Кольцевой маршрут");return`${e.from_name} → ${e.to_name}`}(e,t)),r}}function y(e,t){return n(e)?`${(0,g.F)(e.subtype,t)} ${e.name}`:e.name}var b=r(71456);function w(e){if(e.links&&e.links.parking)return e.building_name||e.purpose_name||e.name||"";if(e.building_name)return e.building_name||"";return!(0,b.Wx)(e)&&"purpose_name"in e&&e.purpose_name||""}var I=r(31833);function E(e,t){if(e.purpose_name){const r=e.name!==e.purpose_name;return(0,s.oA)([r&&e.purpose_name,(0,I.X)(e,t)])}return[t._pt("Здание","Дом")]}function C(e,t){return"station_entrance"===e.type?"metro"===e.subtype?[t._t("Вход на станцию метро")]:[t._t("Вход на станцию")]:[x(e,t)]}function x(e,t){switch(e.subtype){case"metro":return t._t("Станция метро");case"premetro":return t._t("Станция");case"light_metro":return t._t("Станция легкого метро");case"funicular_railway":return t._t("Станция фуникулера");case"monorail":return t._t("Станция монорельсовой дороги");case"cable_car":return t._t("Станция канатной дороги");case"river_transport":return t._t("Речной транспорт");case"railway":return t._t("Станция");case"stop":default:return t._t("Остановка наземного транспорта")}}function k(e){const{extension:t,description:r,addition:n}=e;return!(!t||!r&&!n)}var _=r(72654);function O(e){return[(0,_.d)(e.geocoded_by||e.point)]}var S=r(36633);function z(e,t){const r="group"in e?e.group:void 0,n=null==r?void 0:r.find((e=>S.vT.includes(e.type)));return{object_id:n?n.id:e.id,object_type:n?n.type:e.type,point:t||"point"in e&&e.point||void 0}}},72654:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(60218);const a=e=>e?`${(0,n.DB)(e.lat)}° ${(0,n.DB)(e.lon)}°`:""},26125:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(96997);function a(e){const{entity:t,tp:r}=e;switch(!0){case(0,n.i)(t):return{tabLabel:r._pt("Меню в кафе/ресторане","Меню"),title:r._pt("Меню в кафе/ресторане","Меню"),linkToAllOffersTitle:r._t("Посмотреть меню")};case(0,n.X)(t):return{tabLabel:r._pt("Список услуг в банке","Услуги"),title:r._pt("Список услуг в банке","Услуги"),linkToAllOffersTitle:r._pt("Услуги банка","Посмотреть все услуги")};default:return{tabLabel:r._t("Цены"),title:r._t("Товары и услуги"),linkToAllOffersTitle:r._t("Посмотреть все товары и услуги")}}}},21196:(e,t,r)=>{"use strict";r.d(t,{D2:()=>s,iv:()=>a.iv});var n=r(2784),a=r(58365),i=r(29920);function s(e){const t=(0,i.k)(e);return function(e){const r=r=>{const{s:a,dir:s,theme:o}=(0,i.y)(t);return n.createElement(e,Object.assign({dir:s,s:a,theme:o},r))};return r.displayName=`WithStyles(${e.displayName||e.name||"Anonymous"})`,r}}},13536:(e,t,r)=>{"use strict";r.d(t,{j:()=>y});var n=r(14670),a=r(2784),i=r(81870),s=r(28929),o=r(35932),c=r(96421),l=r(26634);const d=(0,i.gQ)("updateCart",(e=>(0,i.xJ)((t=>{var r,n;const a=(0,l.W)(t);let i=Object.assign(Object.assign({},e),{name:"",price:{}});const[d]=a?(0,s.k)(a,e):[void 0];if(d)i=Object.assign(Object.assign({},d),{qty:e.qty});else{const a=null===(r=(0,c.Gt)({state:t,productId:e.productId}).data)||void 0===r?void 0:r.product,s=(0,c.E$)({state:t,branchId:e.branchId,productId:e.productId}).data;a&&s&&(i=Object.assign(Object.assign({},e),{name:a.name,description:a.description,price:null!==(n=s.price_value)&&void 0!==n?n:{}}))}return(0,o.x)({item:i})}))));var u=r(44479),p=r(59663);const m=(0,i.gQ)("clearEmptyItemsInCart",(()=>(0,i.xJ)((e=>{const t=(0,l.W)(e);if(!t)return(0,i.ZT)();let r=!1;const n=t.orders.map((e=>{const t=e.items.filter((e=>e.qty>0));return t.length===e.items.length?e:(r=!0,Object.assign(Object.assign({},e),{items:t}))}));return r?(0,p.j)(Object.assign(Object.assign({},t),{orders:n.filter((e=>e.items.length>0)),showCartButton:!0})):(0,i.ZT)()}))));var h=r(60353),g=r(56460);const f=(0,i.gQ)("removeItemFromCart",(e=>(0,i.xJ)((t=>{const r=(0,l.W)(t);if(!r)return(0,i.ZT)();const n=(0,h.L)(r.orders,e.orgId);if(!n)return(0,i.ZT)();const a=n.items.filter((t=>t!==e));return a.length===n.items.length?(0,i.ZT)():(0,p.j)((0,g.F)(r,n.orgId,(e=>Object.assign(Object.assign({},e),{items:a}))))}))));let v=!1;function y(){const e=(0,n.I0)();(0,a.useEffect)((()=>{v||(e((0,u.R)()),v=!0)}),[e]);return[(0,n.v9)(l.W),{update:(0,a.useCallback)((t=>{e(d(t))}),[e]),removeItem:(0,a.useCallback)((t=>{e(f(t))}),[e]),clearEmptyItems:(0,a.useCallback)((()=>{e(m())}),[e])}]}},20761:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(2784),a=r(82462);function i(){return(0,n.useContext)(a.E)}},66321:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(2784),a=r(24606);function i(e,t){const r=(0,n.useRef)();(0,n.useEffect)((()=>()=>{r.current&&clearTimeout(r.current)}),[]);const i=(0,n.useRef)(e);(0,a.L)((()=>{i.current=e}));return(0,n.useCallback)(((...e)=>{r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{i.current(...e)}),t)}),[t])}},63715:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(2784),a=r(24606);function i(e){const t=(0,n.useRef)((()=>{throw new Error("Cannot call an event callback while rendering")})),r=(0,n.useCallback)(((...e)=>t.current(...e)),[]);return(0,a.L)((()=>{t.current=e})),r}},70289:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2784),a=r(14670),i=r(24606);function s(e,...t){const r=(0,a.I0)(),s=(0,n.useRef)(t),o=(0,n.useCallback)(((...t)=>{const n=s.current.length?s.current:t;r(e(...n))}),[]);return(0,i.L)((()=>{s.current=t})),o}},44728:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(2784);function a(e){const[t,r]=(0,n.useState)(!1),{ref:a,refCallback:i}=function(e){const t=(0,n.useRef)(null),r=e||t,[,a]=(0,n.useState)(r.current),i=(0,n.useCallback)((e=>{r.current=e,a(e)}),[r]);return{ref:r,refCallback:i}}(null==e?void 0:e.ref);return(0,n.useEffect)((()=>{const t=a.current;if(!t)return;const n=()=>r(!0),i=()=>r(!1);return t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",i),(null==e?void 0:e.loseHoverOnClick)&&t.addEventListener("click",i),()=>{t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",i),(null==e?void 0:e.loseHoverOnClick)&&t.removeEventListener("click",i)}}),[null==e?void 0:e.loseHoverOnClick,a.current]),{ref:a,refCallback:i,isHovered:t}}},24606:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var n=r(2784);const a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect},92761:(e,t,r)=>{"use strict";r.d(t,{H:()=>a,S:()=>i});var n=r(2784);const a=(0,n.createContext)({});function i(){return(0,n.useContext)(a)}},29920:(e,t,r)=>{"use strict";r.d(t,{y:()=>o,k:()=>l});var n=r(79017),a=r(58365),i=r(24042),s=r(64440);function o(e){const t=(0,s.Fg)(),r=e.applyTheme(t),n=t.rtl?"rtl":"ltr";return{s:r,dir:n,css:a.iv,theme:t,inline:e=>(0,a.Qo)(e,n)}}const c=e=>{const t=function(){if("undefined"!=typeof Map){const e=new Map;return{set:e.set.bind(e),get:e.get.bind(e)}}let e,t;return{set:(r,n)=>{e=r,t=n},get:r=>{if(r===e)return t}}}();return r=>{const a=t.get(r);if(a)return a;const s=n.mM.create((0,i.i)("function"==typeof e?e(r):e,r.rtl?"rtl":"ltr"));return t.set(r,s),s}},l=e=>({applyTheme:c(e)})},38609:(e,t,r)=>{"use strict";r.d(t,{O:()=>a,T:()=>i});var n=r(2784);const a=n.createContext({}),i=()=>n.useContext(a)},74555:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(2784);function a({color:e="currentColor",width:t=16,height:r=16}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 24 24"},n.createElement("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"}))}},44803:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(2784);const a=({width:e="32",height:t="32"})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 32 32"},n.createElement("path",{fill:"#299400",d:"M16 28c6.6 0 12-5.376 12-12S22.6 4 16 4C9.376 4 4 9.376 4 16s5.376 12 12 12z"}),n.createElement("path",{fill:"#FFF",d:"M16 8.08c4.003 0 6.72 3.048 6.72 6.336 0 1.32-.291 2.472-.97 3.912-3.979 0-4.707 2.616-4.877 4.368l-.12 1.464h-1.505l-.121-1.464c-.17-1.752-.898-4.368-4.877-4.368-.679-1.44-.97-2.592-.97-3.912 0-3.288 2.717-6.336 6.72-6.336z"}))},85858:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},n.createElement("path",{fill:e,fillRule:"evenodd",d:"M12.5 21c1.933 0 3.5 1.567 3.5 3.5S14.433 28 12.5 28 9 26.433 9 24.5s1.567-3.5 3.5-3.5zm10 0c1.933 0 3.5 1.567 3.5 3.5S24.433 28 22.5 28 19 26.433 19 24.5s1.567-3.5 3.5-3.5zm-10 2c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm10 0c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zM5.383 4c1.353 0 2.53.904 2.89 2.193l.044.178 2.257 10.534c.104.488.55.819 1.038.789l.113-.014 13.449-2.373c.438-.077.767-.433.819-.865l.007-.12V10H11V8h17v6.322c0 1.395-.96 2.597-2.302 2.918l-.177.036-13.448 2.374c-1.531.27-3.003-.673-3.412-2.153l-.043-.173L6.361 6.79c-.09-.422-.44-.734-.861-.783L5.383 6H4V4h1.383z"}))}},30875:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},n.createElement("path",{fill:e,d:"M17.89 26.27l-2.7-9.46-9.46-2.7 18.92-6.76zm-5.62-12.38l4.54 1.3 1.3 4.54 3.24-9.08z"}))}},2041:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},n.createElement("path",{fill:e,fillRule:"evenodd",clipRule:"evenodd",d:"M9,6C7.3,6,6,7.3,6,9v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V9\n\tc0-1.7-1.3-3-3-3H9z M8,9c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1v14c0,0.6-0.4,1-1,1H9c-0.6,0-1-0.4-1-1V9z M13,11h-1v1v9h2v-3h2.5\n\tc1.9,0,3.5-1.6,3.5-3.5S18.4,11,16.5,11H13z M14,16v-3h2.5c0.8,0,1.5,0.7,1.5,1.5S17.3,16,16.5,16H14z"}))}},29054:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M16 12a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"}),n.createElement("path",{d:"M21.8 9.24L20.72 6h-9.44L10.2 9.24 5 11.32V23a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V11.32zM25 23a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V12.68l4.8-1.92.92-2.76h6.56l.92 2.76 4.8 1.92z"}))}},69511:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},n.createElement("path",{fill:e,fillRule:"evenodd",d:"M16 24v3a2 2 0 01-2 2h-2.303l-2.806-1.871A1.998 1.998 0 018 25.465v-5.72a7.001 7.001 0 013.088-12.686A5.001 5.001 0 0121 8v.382l5 2.5V22a2 2 0 01-2 2h-8zM7 14a5.002 5.002 0 014-4.9V12a1 1 0 002 0V9.1a5.002 5.002 0 011.5 9.232l-.5.288V27h-1.697L10 25.465V18.62l-.5-.288A5.002 5.002 0 017 14zm10.236-4.646a6.997 6.997 0 00-4.096-2.262A3 3 0 0119 8v.382l-1.447.724a.988.988 0 00-.317.248zM19 14c0-1.092-.25-2.126-.696-3.047.048-.016.096-.035.143-.059L20 10.118l4 2V22h-8v-2.255A6.992 6.992 0 0019 14z",clipRule:"evenodd"}))}},74805:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M13 13a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-6 0a2 2 0 1 1 2 2 2 2 0 0 1-2-2z"}),n.createElement("path",{d:"M24 15.14V10.5a4.5 4.5 0 0 0-9 0v11a2.5 2.5 0 0 1-5 0V19H8v2.5a4.5 4.5 0 0 0 9 0v-11a2.5 2.5 0 0 1 5 0v4.64a4 4 0 1 0 2 0zM23 21a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}))}},42262:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M25.71 24.29l-5.4-5.39A7.92 7.92 0 0 0 22 14a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l5.39 5.4zM8 14a6 6 0 1 1 10.28 4.2l-.08.08A6 6 0 0 1 8 14z"}))}},5408:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(2784);const a={down:"0",up:"180",right:"-90",left:"90"};function i({direction:e,size:t=24,color:r="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:r,style:{transform:`rotate(${a[e||"down"]||0}deg)`}},n.createElement("path",{d:"M15.793 9.4l1.414 1.414L12 16.024l-5.207-5.21L8.207 9.4 12 13.195z"}))}},10979:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(2784);function a({color:e="currentColor",size:t=16}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16"},n.createElement("path",{fill:e,d:"M3 3l2.5 3L8 3l2.5 3L13 3v9H3z"}))}},30642:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(2784);function a({color:e="currentColor",width:t=19,height:r=19}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 19 19",fill:e},n.createElement("path",{d:"M7 15c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm5 0c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zM6.7 7l.6 3.5c0 .3.3.4.6.4l5.7-.8.3-3.1H6.7zm-.2-1h8.6l-.6 4.9-6.5 1c-.8.1-1.5-.4-1.7-1.2l-1-5.2c0-.3-.2-.5-.4-.5H4V4h.9c.7 0 1.3.5 1.5 1.2l.1.8z"}))}},56429:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(2784);function a({color:e="currentColor",size:t=16}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M12.326 14.3l-1.145-4.92L15 6.07 9.966 5.64 8 1 6.034 5.639 1 6.07 4.819 9.38 3.674 14.3 8 11.69z"}))}},26529:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var n=r(2784);function a({lang:e}){switch(e){case"ru":return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"136",height:"40",viewBox:"0 0 136 40"},n.createElement("defs",null,n.createElement("path",{id:"aow2drhsxa",d:"M5 40h126a5 5 0 005-5V5a5 5 0 00-5-5H5a5 5 0 00-5 5v30a5 5 0 005 5z"}),n.createElement("path",{id:"pfehlaovgc",d:"M10.436 7.538c-.291.308-.463.786-.463 1.405v22.116c0 .62.172 1.097.463 1.405l.073.072 12.39-12.389v-.292l-12.39-12.39-.073.073z"}),n.createElement("path",{id:"gkjx4iwjed",d:"M22.899 19.855v.292l4.129 4.132.094-.053 4.893-2.78c1.397-.795 1.397-2.095 0-2.889l-4.893-2.78-.093-.053-4.13 4.131z"}),n.createElement("path",{id:"a8ty8mvoje",d:"M10.436 32.464c.46.488 1.221.548 2.078.061l14.608-8.3-4.223-4.224-12.463 12.463z"}),n.createElement("path",{id:"aql062g65f",d:"M10.436 7.538l12.463 12.463 4.223-4.224-14.608-8.3c-.402-.229-.783-.337-1.121-.337-.384 0-.713.139-.957.398"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"dydn9pci7b",fill:"#fff"},n.createElement("use",{xlinkHref:"#aow2drhsxa"})),n.createElement("use",{fill:"#262626",xlinkHref:"#aow2drhsxa"}),n.createElement("path",{fill:"#FFF",d:"M106.936 30h1.865V17.499h-1.865V30zm16.807-7.998l-2.139 5.42h-.064l-2.22-5.42h-2.01l3.33 7.575-1.899 4.214h1.946l5.131-11.789h-2.075zM113.16 28.58c-.61 0-1.463-.305-1.463-1.061 0-.965 1.062-1.335 1.979-1.335.819 0 1.206.177 1.704.418a2.262 2.262 0 01-2.22 1.978zm.226-6.851c-1.351 0-2.75.595-3.329 1.914l1.656.691c.354-.691 1.013-.916 1.705-.916.965 0 1.946.578 1.962 1.607v.129c-.338-.192-1.062-.482-1.946-.482-1.786 0-3.603.981-3.603 2.814 0 1.673 1.464 2.751 3.104 2.751 1.254 0 1.947-.563 2.38-1.223h.065v.966h1.802v-4.793c0-2.22-1.658-3.458-3.796-3.458zm-11.532 1.795H99.2v-4.285h2.654c1.395 0 2.187 1.155 2.187 2.142 0 .969-.792 2.143-2.187 2.143zm-.048-6.025h-4.471V30H99.2v-4.736h2.606c2.068 0 4.101-1.497 4.101-3.883 0-2.385-2.033-3.882-4.101-3.882zM77.425 28.583c-1.289 0-2.368-1.08-2.368-2.562 0-1.498 1.079-2.594 2.368-2.594 1.272 0 2.271 1.096 2.271 2.594 0 1.482-.999 2.562-2.271 2.562zm2.142-5.881h-.064c-.419-.499-1.225-.95-2.239-.95-2.127 0-4.077 1.869-4.077 4.269 0 2.384 1.95 4.237 4.077 4.237 1.014 0 1.82-.451 2.239-.966h.064v.611c0 1.628-.87 2.497-2.271 2.497-1.144 0-1.853-.821-2.143-1.514l-1.627.677c.467 1.128 1.707 2.513 3.77 2.513 2.191 0 4.044-1.289 4.044-4.43v-7.637h-1.773v.693zM82.629 30h1.868V17.499h-1.868V30zm4.623-4.124c-.048-1.643 1.273-2.481 2.223-2.481.742 0 1.37.371 1.58.902l-3.803 1.579zm5.8-1.418c-.355-.95-1.434-2.706-3.641-2.706-2.191 0-4.012 1.724-4.012 4.253 0 2.384 1.805 4.253 4.221 4.253 1.949 0 3.077-1.192 3.545-1.885l-1.45-.967c-.484.709-1.144 1.177-2.095 1.177-.95 0-1.627-.435-2.061-1.289l5.686-2.352-.193-.484zm-45.308-1.401v1.804h4.317c-.128 1.015-.467 1.756-.982 2.271-.629.629-1.612 1.322-3.335 1.322-2.659 0-4.737-2.143-4.737-4.801 0-2.658 2.078-4.801 4.737-4.801 1.434 0 2.481.564 3.254 1.289l1.273-1.273c-1.08-1.031-2.513-1.821-4.527-1.821-3.642 0-6.703 2.965-6.703 6.606s3.061 6.605 6.703 6.605c1.965 0 3.447-.645 4.607-1.853 1.192-1.192 1.563-2.867 1.563-4.221 0-.418-.032-.805-.097-1.127h-6.073zm11.078 5.526c-1.288 0-2.4-1.064-2.4-2.578 0-1.531 1.112-2.578 2.4-2.578 1.289 0 2.401 1.047 2.401 2.578 0 1.514-1.112 2.578-2.401 2.578zm0-6.831c-2.352 0-4.269 1.788-4.269 4.253 0 2.449 1.917 4.253 4.269 4.253 2.353 0 4.27-1.804 4.27-4.253 0-2.465-1.917-4.253-4.27-4.253zm9.314 6.831c-1.289 0-2.401-1.064-2.401-2.578 0-1.531 1.112-2.578 2.401-2.578 1.289 0 2.4 1.047 2.4 2.578 0 1.514-1.111 2.578-2.4 2.578zm0-6.831c-2.352 0-4.269 1.788-4.269 4.253 0 2.449 1.917 4.253 4.269 4.253 2.352 0 4.269-1.804 4.269-4.253 0-2.465-1.917-4.253-4.269-4.253zm24.728-9.489h1.551a.922.922 0 00.721-.311.997.997 0 00.276-.678.97.97 0 00-.285-.675.976.976 0 00-.746-.306h-1.517v1.97zm0-2.691h1.4c.291 0 .524-.095.7-.289a.916.916 0 00.263-.632.92.92 0 00-.255-.628.862.862 0 00-.674-.286h-1.434v1.835zM92.094 13V7h2.17c.469 0 .876.155 1.219.465.344.31.516.7.516 1.169a1.3 1.3 0 01-.223.754 1.382 1.382 0 01-.591.495v.033c.296.101.54.274.73.52.189.246.285.531.285.855 0 .491-.181.899-.541 1.223-.36.324-.786.486-1.278.486h-2.287zm-7.867-1.278c.445.45.988.675 1.63.675a2.2 2.2 0 001.63-.675c.445-.449.667-1.024.667-1.722s-.222-1.272-.667-1.722a2.199 2.199 0 00-1.63-.674c-.642 0-1.185.224-1.63.674-.443.45-.666 1.024-.666 1.722s.223 1.273.666 1.722zm3.831.503c-.59.606-1.324.909-2.201.909s-1.61-.303-2.199-.909c-.59-.606-.884-1.348-.884-2.225s.294-1.619.884-2.225c.589-.606 1.322-.909 2.199-.909.872 0 1.604.305 2.197.913.591.609.887 1.35.887 2.221 0 .877-.295 1.619-.883 2.225zM77.234 13V7h.771v2.572h3V7h.771v6h-.771v-2.707h-3V13h-.771zm-5.715 0V7h4.341v6h-.771V7.737H72.29V13h-.771zm-.873-6l-2.27 5.062c-.314.714-.779 1.072-1.399 1.072-.185 0-.383-.045-.596-.134l.201-.712a.816.816 0 00.403.109c.178 0 .317-.035.415-.105.097-.07.188-.197.272-.381l.218-.478L65.871 7h.905l1.483 3.444h.033L69.741 7h.905zm-6.969 6h-.771V7.737H61.23V7h4.123v.737h-1.676V13zm-5.498.134c-.883 0-1.623-.299-2.221-.897-.598-.597-.896-1.343-.896-2.237 0-.893.298-1.64.896-2.237.598-.598 1.338-.897 2.221-.897.904 0 1.64.326 2.204.98l-.537.52c-.407-.508-.964-.762-1.667-.762-.654 0-1.206.22-1.655.662-.45.441-.675 1.019-.675 1.734 0 .715.225 1.294.675 1.734.449.442 1.001.663 1.655.663.721 0 1.335-.29 1.844-.872l.536.537a2.93 2.93 0 01-1.031.783 3.15 3.15 0 01-1.349.289zm-8.595-1.412c.445.45.988.675 1.63.675a2.2 2.2 0 001.63-.675c.444-.449.667-1.024.667-1.722s-.223-1.272-.667-1.722a2.199 2.199 0 00-1.63-.674c-.642 0-1.185.224-1.63.674-.443.45-.666 1.024-.666 1.722s.223 1.273.666 1.722zm3.83.503c-.589.606-1.323.909-2.2.909-.877 0-1.61-.303-2.199-.909-.59-.606-.884-1.348-.884-2.225s.294-1.619.884-2.225c.589-.606 1.322-.909 2.199-.909.872 0 1.604.305 2.197.913.591.609.887 1.35.887 2.221 0 .877-.295 1.619-.884 2.225zm-9.918-2.258c.012.949-.178 1.715-.569 2.296h3.033V7.737h-2.464v2.23zm-1.382 4.307h-.738v-2.011h.587c.52-.447.774-1.213.763-2.296V7h4.006v5.263h.67v2.011h-.738V13h-4.55v1.274z",mask:"url(#dydn9pci7b)"}),n.createElement("use",{fill:"#00D4FF",xlinkHref:"#pfehlaovgc"}),n.createElement("use",{fill:"#FFCD00",xlinkHref:"#gkjx4iwjed"}),n.createElement("use",{fill:"#F53349",xlinkHref:"#a8ty8mvoje"}),n.createElement("use",{fill:"#00F076",xlinkHref:"#aql062g65f"})));default:return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"136",height:"40",viewBox:"0 0 136 40"},n.createElement("defs",null,n.createElement("path",{id:"hvcz4j5vma",d:"M5 40h126a5 5 0 005-5V5a5 5 0 00-5-5H5a5 5 0 00-5 5v30a5 5 0 005 5z"}),n.createElement("path",{id:"dzo48k5k4c",d:"M10.436 7.538c-.291.308-.463.786-.463 1.405v22.116c0 .62.172 1.097.463 1.405l.073.072 12.39-12.389v-.292l-12.39-12.39-.073.073z"}),n.createElement("path",{id:"l5jm4jaf4d",d:"M22.899 19.855v.292l4.129 4.132.094-.053 4.893-2.78c1.397-.795 1.397-2.095 0-2.889l-4.893-2.78-.093-.053-4.13 4.131z"}),n.createElement("path",{id:"sttyh0eeee",d:"M10.436 32.464c.46.488 1.221.548 2.078.061l14.608-8.3-4.223-4.224-12.463 12.463z"}),n.createElement("path",{id:"t2eivhn8hf",d:"M10.436 7.538l12.463 12.463 4.223-4.224-14.608-8.3c-.402-.229-.783-.337-1.121-.337-.384 0-.713.139-.957.398"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"6szubt340b",fill:"#fff"},n.createElement("use",{xlinkHref:"#hvcz4j5vma"})),n.createElement("use",{fill:"#262626",xlinkHref:"#hvcz4j5vma"}),n.createElement("path",{fill:"#FFF",d:"M77.264 21.751c.942 0 1.704.39 2.143.845l.096.106h.064v-.693h1.773v7.637c0 3.141-1.853 4.43-4.044 4.43-1.98 0-3.202-1.277-3.71-2.377l-.06-.136 1.627-.677c.29.693.999 1.514 2.143 1.514 1.343 0 2.198-.798 2.266-2.297l.005-.2v-.611h-.064c-.419.515-1.225.966-2.239.966-2.127 0-4.076-1.853-4.076-4.237 0-2.4 1.949-4.27 4.076-4.27zm42.056.251l2.22 5.42h.064l2.139-5.42h2.075l-5.131 11.789h-1.946l1.899-4.214-3.329-7.575h2.009zm-29.909-.251c1.97 0 3.042 1.4 3.501 2.377l.1.225.233.588-5.686 2.352c.434.854 1.111 1.29 2.061 1.29.883 0 1.515-.404 1.989-1.029l.106-.148 1.45.967-.065.093-.152.2c-.56.69-1.633 1.592-3.328 1.592-2.416 0-4.221-1.869-4.221-4.253 0-2.529 1.821-4.254 4.012-4.254zm-21.275 0c2.352 0 4.269 1.789 4.269 4.254 0 2.449-1.917 4.253-4.269 4.253-2.352 0-4.269-1.804-4.269-4.253 0-2.465 1.917-4.254 4.269-4.254zm-9.314 0c2.353 0 4.27 1.789 4.27 4.254 0 2.449-1.917 4.253-4.27 4.253-2.352 0-4.269-1.804-4.269-4.253 0-2.465 1.917-4.254 4.269-4.254zm-11.078-4.704c1.908 0 3.295.709 4.354 1.66l.173.161-1.273 1.273c-.773-.725-1.82-1.289-3.254-1.289-2.659 0-4.737 2.143-4.737 4.801 0 2.658 2.078 4.801 4.737 4.801 1.723 0 2.706-.693 3.335-1.322.472-.472.796-1.134.946-2.023l.037-.248h-4.318v-1.804h6.073c.065.322.097.709.097 1.127 0 1.354-.371 3.029-1.563 4.221-1.16 1.208-2.642 1.853-4.607 1.853-3.641 0-6.702-2.965-6.702-6.605 0-3.641 3.061-6.606 6.702-6.606zm65.642 4.682c2.069 0 3.689 1.16 3.79 3.246l.006.212v4.792h-1.802v-.965h-.065c-.433.66-1.126 1.223-2.379 1.223-1.641 0-3.105-1.078-3.105-2.751 0-1.833 1.817-2.814 3.603-2.814.81 0 1.486.243 1.854.432l.092.05v-.129c-.016-1.029-.997-1.608-1.962-1.608-.642 0-1.257.195-1.625.776l-.08.141-1.656-.691c.579-1.319 1.978-1.914 3.329-1.914zm-28.889-4.23V30h-1.868V17.499h1.868zm17.309 0c2.068 0 4.101 1.497 4.101 3.882 0 2.314-1.912 3.791-3.913 3.879l-.188.004H99.2V30h-1.865V17.499h4.471zm6.996 0V30h-1.865V17.499h1.865zm-40.666 5.928c-1.289 0-2.401 1.047-2.401 2.578 0 1.514 1.112 2.578 2.401 2.578 1.289 0 2.4-1.064 2.4-2.578 0-1.531-1.111-2.578-2.4-2.578zm-9.314 0c-1.288 0-2.4 1.047-2.4 2.578 0 1.514 1.112 2.578 2.4 2.578 1.289 0 2.401-1.064 2.401-2.578 0-1.531-1.112-2.578-2.401-2.578zm18.603 0c-1.289 0-2.368 1.095-2.368 2.594 0 1.482 1.079 2.562 2.368 2.562 1.272 0 2.271-1.08 2.271-2.562 0-1.499-.999-2.594-2.271-2.594zm36.251 2.757c-.917 0-1.979.37-1.979 1.335 0 .755.853 1.061 1.463 1.061 1.078 0 2.075-.82 2.22-1.978l-.29-.136c-.38-.169-.759-.282-1.414-.282zm-24.2-2.789c-.913 0-2.167.771-2.223 2.288l-.001.193 3.803-1.579c-.21-.531-.838-.902-1.579-.902zm12.378-4.156H99.2v4.285h2.654c1.395 0 2.187-1.174 2.187-2.143 0-.944-.725-2.042-2.008-2.136l-.179-.006zM71.409 6.866c.872 0 1.603.304 2.196.913.592.61.888 1.35.888 2.221 0 .877-.295 1.618-.884 2.224-.59.607-1.323.91-2.2.91-.877 0-1.61-.303-2.199-.91-.59-.606-.884-1.347-.884-2.224 0-.877.294-1.619.884-2.225.59-.606 1.322-.909 2.2-.909zm-26.94 0c.43 0 .841.084 1.231.251.392.168.704.391.94.67l-.529.528c-.396-.474-.944-.712-1.642-.712-.632 0-1.178.222-1.639.666-.46.445-.69 1.021-.69 1.731 0 .71.23 1.286.69 1.73a2.282 2.282 0 001.64.666c.67 0 1.227-.223 1.675-.67.29-.29.458-.695.502-1.215H44.47v-.72h2.907c.029.156.043.306.043.452 0 .838-.248 1.505-.745 2.003-.566.592-1.3.888-2.205.888-.866 0-1.602-.3-2.208-.9-.607-.6-.909-1.346-.909-2.234 0-.889.303-1.633.91-2.234.605-.6 1.341-.9 2.207-.9zM52.028 7v.737h-2.732V9.64h2.463v.721h-2.463v1.902h2.732V13h-3.503V7h3.503zm24.485 0l2.916 4.667h.034l-.034-1.156V7h.772v6h-.805l-3.05-4.894h-.034l.034 1.157V13h-.77V7h.937zM65.804 7v.737h-1.676V13h-.77V7.737H61.68V7h4.123zM60.71 7v6h-.771V7h.771zm-3.754 0v.737H55.28V13h-.771V7.737h-1.676V7h4.123zm14.454.603c-.643 0-1.186.225-1.63.675-.443.45-.666 1.024-.666 1.722s.223 1.272.666 1.722a2.2 2.2 0 001.63.674c.642 0 1.186-.224 1.63-.674.444-.45.667-1.024.667-1.722s-.223-1.273-.667-1.722a2.203 2.203 0 00-1.63-.675z",mask:"url(#6szubt340b)"}),n.createElement("use",{fill:"#00D4FF",xlinkHref:"#dzo48k5k4c"}),n.createElement("use",{fill:"#FFCD00",xlinkHref:"#l5jm4jaf4d"}),n.createElement("use",{fill:"#F53349",xlinkHref:"#sttyh0eeee"}),n.createElement("use",{fill:"#00F076",xlinkHref:"#t2eivhn8hf"})))}}},74932:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(2784);function a({lang:e}){switch(e){case"ru":return n.createElement("svg",{width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),n.createElement("mask",{id:"path-3-inside-1",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z",fill:"white",stroke:"white",strokeWidth:"2",mask:"url(#path-3-inside-1)"}));default:return n.createElement("svg",{width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM43.8057 10.1083C45.1177 10.1083 45.9277 10.9923 45.9277 12.4443C45.9277 13.9033 45.1207 14.7843 43.8057 14.7843C42.4877 14.7843 41.6807 13.9033 41.6807 12.4443C41.6807 10.9923 42.4917 10.1083 43.8057 10.1083ZM63.3428 10.1083C64.6548 10.1083 65.4658 10.9923 65.4658 12.4443C65.4658 13.9033 64.6578 14.7843 63.3428 14.7843C62.0248 14.7843 61.2178 13.9033 61.2178 12.4443C61.2178 10.9923 62.0288 10.1083 63.3428 10.1083ZM81.355 10.1083C82.667 10.1083 83.477 10.9923 83.477 12.4443C83.477 13.9033 82.67 14.7843 81.355 14.7843C80.037 14.7843 79.23 13.9033 79.23 12.4443C79.23 10.9923 80.041 10.1083 81.355 10.1083ZM102.806 10.1078C104.059 10.1078 104.815 10.9638 104.815 12.3778V12.6878H101.635V12.7378C101.664 13.5278 102.123 14.0278 102.834 14.0278C103.372 14.0278 103.74 13.8338 103.906 13.4818H104.761C104.559 14.2888 103.839 14.7848 102.81 14.7848C101.52 14.7848 100.73 13.8998 100.73 12.4608C100.73 11.0218 101.536 10.1078 102.806 10.1078ZM75.5531 8.43731V14.6973H74.7021V13.9863H74.6311C74.3631 14.4783 73.8371 14.7723 73.2171 14.7723C72.0721 14.7723 71.3481 13.8703 71.3481 12.4443C71.3481 11.0213 72.0791 10.1203 73.2171 10.1203C73.8331 10.1203 74.3541 10.4133 74.5981 10.9103H74.6641V8.43731H75.5531ZM68.4144 10.1076C69.5434 10.1076 70.1804 10.6696 70.1804 11.6216V14.6976H69.3244V14.0646H69.2544C68.9854 14.5156 68.4934 14.7716 67.9014 14.7716C67.0334 14.7716 66.4004 14.2476 66.4004 13.4246C66.4004 12.6136 67.0044 12.1466 68.0754 12.0806L69.2954 12.0096V11.6216C69.2954 11.1456 68.9814 10.8766 68.3734 10.8766C67.8774 10.8766 67.5334 11.0596 67.4354 11.3776H66.5744C66.6654 10.6036 67.3934 10.1076 68.4144 10.1076ZM93.5152 9.07371V10.2157H94.4912V10.9637H93.5152V13.2797C93.5152 13.7507 93.7092 13.9577 94.1522 13.9577C94.2882 13.9577 94.3672 13.9487 94.4912 13.9367V14.6777C94.3462 14.7017 94.1802 14.7227 94.0072 14.7227C93.0192 14.7227 92.6252 14.3747 92.6252 13.5067V10.9637H91.9112V10.2157H92.6252V9.07371H93.5152ZM37.8267 8.73101C39.5957 8.73101 40.6337 9.81801 40.6337 11.696C40.6337 13.602 39.6037 14.698 37.8267 14.698H35.6707V8.73101H37.8267ZM47.4703 10.1948L48.2773 13.6308H48.3443L49.2693 10.1948H50.1223L51.0483 13.6308H51.1183L51.9213 10.1948H52.8093L51.5733 14.6978H50.6513L49.7203 11.3818H49.6503L48.7233 14.6978H47.8103L46.5693 10.1948H47.4703ZM56.1195 10.1078C57.1245 10.1078 57.6775 10.7118 57.6775 11.7828V14.6978H56.7895V12.0058C56.7895 11.2818 56.4745 10.9228 55.8175 10.9228C55.1605 10.9228 54.7425 11.3608 54.7425 12.0638V14.6978H53.8535V10.1948H54.7085V10.9098H54.7755C54.9945 10.4098 55.4415 10.1078 56.1195 10.1078ZM59.983 8.43701V14.698H59.094V8.43701H59.983ZM86.9355 10.1078C87.9405 10.1078 88.4935 10.7118 88.4935 11.7828V14.6978H87.6055V12.0058C87.6055 11.2818 87.2905 10.9228 86.6335 10.9228C85.9765 10.9228 85.5585 11.3608 85.5585 12.0638V14.6978H84.6695V10.1948H85.5245V10.9098H85.5915C85.8105 10.4098 86.2575 10.1078 86.9355 10.1078ZM96.5856 8.43701V10.918H96.6556C96.8746 10.414 97.3506 10.112 98.0286 10.112C98.9876 10.112 99.5796 10.72 99.5796 11.791V14.698H98.6896V12.01C98.6896 11.291 98.3546 10.926 97.7266 10.926C96.9986 10.926 96.5936 11.386 96.5936 12.068V14.698H95.7046V8.43701H96.5856ZM69.2954 12.6636L68.1954 12.7336C67.5754 12.7746 67.2944 12.9856 67.2944 13.3826C67.2944 13.7886 67.6464 14.0236 68.1294 14.0236C68.7994 14.0236 69.2954 13.5976 69.2954 13.0396V12.6636ZM81.355 10.8973C80.583 10.8973 80.148 11.4683 80.148 12.4443C80.148 13.4283 80.583 13.9943 81.355 13.9943C82.125 13.9943 82.563 13.4243 82.563 12.4443C82.563 11.4683 82.125 10.8973 81.355 10.8973ZM43.8057 10.8973C43.0337 10.8973 42.5987 11.4683 42.5987 12.4443C42.5987 13.4283 43.0337 13.9943 43.8057 13.9943C44.5757 13.9943 45.0137 13.4243 45.0137 12.4443C45.0137 11.4683 44.5757 10.8973 43.8057 10.8973ZM63.3428 10.8973C62.5708 10.8973 62.1358 11.4683 62.1358 12.4443C62.1358 13.4283 62.5708 13.9943 63.3428 13.9943C64.1128 13.9943 64.5508 13.4243 64.5508 12.4443C64.5508 11.4683 64.1128 10.8973 63.3428 10.8973ZM73.4691 10.9183C72.7211 10.9183 72.2661 11.4973 72.2661 12.4443C72.2661 13.3993 72.7161 13.9743 73.4691 13.9743C74.2181 13.9743 74.6811 13.3913 74.6811 12.4483C74.6811 11.5093 74.2131 10.9183 73.4691 10.9183ZM37.7227 9.57401H36.5977V13.854H37.7227C38.9707 13.854 39.6907 13.077 39.6907 11.708C39.6907 10.36 38.9587 9.57401 37.7227 9.57401ZM102.801 10.8638C102.144 10.8638 101.685 11.3278 101.635 12.0308H103.909C103.889 11.3238 103.459 10.8638 102.801 10.8638Z",fill:"white"}))}}},30261:(e,t,r)=>{"use strict";r.d(t,{m:()=>b});var n=r(2784),a=r(491);function i({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M10.8 11L9.6 7.6 8 10.1 6.4 7.7 5.2 11h-2l2.9-7.2L8 6.7l1.9-2.9 2.9 7.2h-2z"}))}function s({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M10.9 11.8l-.9-1.2c1.5-1.1 1.7-3.3.6-4.7l-.3-.3L8 10.9 5.7 5.6c-1.3 1.3-1.3 3.5 0 4.8l.3.3-.9 1.2C4 10.9 3.2 9.5 3.2 8c0-1.7.9-3.4 2.4-4.2l.7-.4 1.6 3.8 1.6-3.8.7.4c1.5.9 2.4 2.5 2.4 4.2.2 1.5-.6 2.9-1.7 3.8z"}))}function o({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M11 12L9.5 9 8 12 6.5 9 5 12 3 8l2-4 1.5 3L8 4l1.5 3L11 4l2 4-2 4z"}))}function c({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M11 7V3h-1L8 5 6 3H5v4H3v1l5 5 5-5V7h-2zm-3 3.9L5.6 8.5h.9V5.6l.4.4L8 7.1 9.1 6l.4-.4v2.9h.9L8 10.9z"}))}function l({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M13 11h-3v-1h.4l-.9-2.4L8 10.1 6.4 7.7 5.6 10H6v1H3v-1h.6l2.5-6.2L8 6.7l1.9-2.9 2.5 6.2h.6v1z"}))}function d({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M10.3 11l-.9-2.3L8 10.5 6.6 8.6 5.7 11l-2.3-.5c0-2.3.8-4.5 2-6.5L8 6.3 10.6 4c1.3 2 2 4.2 2.1 6.5l-2.4.5z"}))}function u({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M10 10.5l1-1V3.8c-.9-.6-2-.8-3-.8s-2.1.2-3 .8v5.8l1 1-1.1 1.6 1.2.9 1.1-1.5h1.6l1.1 1.5 1.2-1-1.1-1.6zm-2-1L6 8V5h4v3L8 9.5z"}))}function p({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3z"}))}function m({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M8.47 24h3.43a9 9 0 0 1-1.32-15.18L16 24l5.42-15.18A9 9 0 0 1 20.1 24h3.43A11 11 0 0 0 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58A11 11 0 0 0 8.47 24z"}))}function h({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M18.22 14.1L16 10.65l-2.28 3.55-2.28-3.55L8 16l3.44 5.35 2.28-3.55L16 21.35l2.22-3.45 2.22 3.45L23.88 16l-3.44-5.35zm-6.78 3.55L10.38 16l1.06-1.65L12.5 16zm4.56 0L14.94 16 16 14.35 17 16v.05zm4.44 0l-1-1.6v-.1l1-1.6L21.5 16z"}),n.createElement("path",{d:"M16 6C8.83 6 3 10.49 3 16s5.83 10 13 10 13-4.49 13-10S23.17 6 16 6zm0 18c-6.07 0-11-3.59-11-8s4.93-8 11-8 11 3.59 11 8-4.93 8-11 8z"}))}function g({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M16 26.64L6 16.41V14h4V6h2.43L16 9.76 19.57 6H22v8h4v2.41zM8.4 16l7.6 7.78L23.6 16H20V8.45l-4 4.21-4-4.21V16z"}))}function f({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22z"}))}function v({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M20.38 24.14L18.73 20 16 23.67 13.27 20l-1.65 4.12L5 22.82V22A29.28 29.28 0 0 1 9.66 7.46l.64-1 5.7 5.19 5.7-5.19.64 1A29.28 29.28 0 0 1 27 22v.82zM19.27 16l2.35 5.88 3.38-.69a28.47 28.47 0 0 0-3.72-11.64L16 14.35l-5.28-4.8A28.47 28.47 0 0 0 7 21.19l3.34.67L12.73 16 16 20.33z"}))}function y({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M24 7.15a15.39 15.39 0 0 0-8-2 15.39 15.39 0 0 0-8 2v12l3.66 2.92-3.37 3.37 1.42 1.41 3.7-3.7h5.18l3.7 3.7 1.42-1.41-3.37-3.37L24 19.15zm-14 4h12v2.42L16 17l-6-3.43zm6-4a15 15 0 0 1 6 1.2v.8H10v-.8a14.89 14.89 0 0 1 6-1.2zm2.3 14h-4.6l-3.7-3v-2.28l6 3.43 6-3.43v2.32z"}))}class b extends n.PureComponent{render(){const{size:e}=this.props;switch(e){case 16:return this.getIcon16();case 32:return this.getIcon32()}}getIcon16(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return n.createElement(u,{color:t});case"kharkov":return n.createElement(d,{color:t});case"moscow":return n.createElement(l,{color:t});case"praha":return n.createElement(c,{color:t});case"santiago":return n.createElement(o,{color:t});case"spb":return n.createElement(s,{color:t});default:return n.createElement(i,{color:t})}}getIcon32(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return n.createElement(y,{color:t});case"kharkov":return n.createElement(v,{color:t});case"moscow":return n.createElement(f,{color:t});case"praha":return n.createElement(g,{color:t});case"santiago":return n.createElement(h,{color:t});case"spb":return n.createElement(m,{color:t});default:return n.createElement(p,{color:t})}}}b.displayName=(0,a.I)("../common/src/icons/mappings/metro")},71347:(e,t,r)=>{"use strict";r.d(t,{O:()=>f});var n=r(2784),a=r(58365),i=r(21196),s=r(97264),o=r(93043),c=r(491),l=r(89565),d=r(5408),u=r(82803),p=r(60218),m=r(32853);class h extends n.PureComponent{constructor(){super(...arguments),this.state={arrows:"none"},this.scroller=n.createRef(),this.moveScroll=(e,t)=>{const{dir:r}=this.props,n=this.scroller.current;if(!n)return;const{offsetWidth:a,scrollLeft:i}=n,s=t+e;"rtl"!==r?i>t?n.scrollLeft=0:s>a&&(n.scrollLeft=s-a+e):i>=t?n.scrollLeft=Math.abs(s)-a:Math.abs(s)>a-t&&(n.scrollLeft=a+e)},this.detectScroll=()=>{const e=this.scroller.current;if(e){e.scrollWidth-e.clientWidth<=4?this.setState({arrows:"none"}):"none"===this.state.arrows&&this.onScroll()}},this.onScroll=()=>{if(!this.scroller.current)return;const{dir:e}=this.props,t="rtl"===e,{scrollLeft:r,scrollWidth:n,clientWidth:a}=this.scroller.current,i=Math.abs(r),s=n-a,o=i===s;0===r||i<4&&!o?this.setState({arrows:t?"left":"right"}):o||i>=s-4?this.setState({arrows:t?"right":"left"}):this.setState({arrows:"both"})},this.renderArrows=()=>{const{s:e,bgColor:t}=this.props;if("none"!==this.state.arrows){const r="right"!==this.state.arrows?n.createElement("div",Object.assign({className:(0,a.iv)(e.arrow)},o.dx.n("wat-arrow-left")),n.createElement(d.E,{direction:"left",color:t===s.O.white?s.O.gray_dddddd:s.O.black})):null,i="left"!==this.state.arrows?n.createElement("div",Object.assign({className:(0,a.iv)(e.arrow,e._right)},o.dx.n("wat-arrow-right")),n.createElement(d.E,{direction:"right",color:t===s.O.white?s.O.gray_dddddd:s.O.black})):null;return n.createElement(l.e,{left:r,right:i,currentIndex:this.getArrowIndex(),maxIndex:2,minIndex:0,onChange:this.scroll})}return null},this.getArrowIndex=()=>{let e=1;return"right"===this.state.arrows?e=0:"left"===this.state.arrows&&(e=2),e},this.scroll=e=>{const t=this.scroller.current,{dir:r}=this.props,n="rtl"===r;if(t){let r=0;switch(e){case 0:r=n?-t.scrollWidth:0;break;case 1:"right"===this.state.arrows?r=t.scrollWidth:"left"===this.state.arrows&&(r=n?-t.scrollWidth:0);break;case 2:r=t.scrollWidth}t.scrollLeft=r}}}componentDidMount(){setTimeout(this.detectScroll,0)}componentDidUpdate(){this.detectScroll()}render(){const{children:e,s:t,showDivider:r=!1,bgColor:i}=this.props;return n.createElement("div",Object.assign({className:(0,a.iv)(t.wrapper,r&&t._divider)},o.dx.n("wat-wrapper-tabs"),{style:{"--bg-color":i}}),this.renderArrows(),n.createElement("div",Object.assign({className:(0,a.iv)(t.content),ref:this.scroller,onScroll:"none"!==this.state.arrows?this.onScroll:p.ZT},o.dx.n("wat-contents-tabs"),o.dx.s(this.state.arrows)),e(this.moveScroll)))}}h.displayName=(0,c.I)("../common/src/kit/arrowedScrollWrapper");const g={wrapper:{position:"relative",display:"flex",alignItems:"center",height:48,zIndex:u.W.base,background:"var(--bg-color)"},content:{zIndex:u.W.base,margin:"0 24px",width:"100%",height:"100%",overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},arrow:{position:"absolute",background:"var(--bg-color)",top:12,height:24,width:24,left:0,paddingLeft:8,zIndex:u.W.top,"::before":{content:'""',backgroundImage:"linear-gradient(to right, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))",pointerEvents:"none",height:44,width:72,position:"absolute",left:0,paddingLeft:8,top:-12}},_divider:{boxShadow:m.q.innerBorderBottomBase},_right:{left:"auto",right:0,paddingRight:8,paddingLeft:0,"::before":{left:"auto",right:0,paddingRight:8,paddingLeft:0,backgroundImage:"linear-gradient(to left, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))"}}},f=(0,i.D2)(g)(h)},82322:(e,t,r)=>{"use strict";r.d(t,{C:()=>p});var n=r(2784),a=r(491),i=r(21196),s=r(98872),o=r(97264),c=r(93043),l=r(59297);class d extends n.PureComponent{constructor(){super(...arguments),this.state={isError:!this.props.src,isComplete:!1},this.renderImage=()=>{const{src:e,backgroundColor:t,backgroundPosition:r,contain:a,overlay:s,onClick:o,s:l,width:d,height:u,borderRadius:p="0"}=this.props;return n.createElement("div",Object.assign({className:(0,i.iv)(l.image,a&&l._imageContain,s&&l._imageOverlay,o&&l._imageClickable),style:{backgroundImage:`url(${e})`,backgroundColor:t,backgroundPosition:r,width:d||"100%",height:u||"100%",maxWidth:"100%",maxHeight:"100%",borderRadius:p},onClick:this.handleClick},c.dx.n("wat-image")))},this.renderPlaceholder=e=>{const{renderPlaceholder:t,width:r,height:a}=this.props;return t?n.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:r||"100%",height:a||"100%",maxWidth:"100%",maxHeight:"100%"}},t(e)):null},this.onLoad=()=>{var e,t;null===(t=(e=this.props).onLoad)||void 0===t||t.call(e),this.image&&this.setState({isError:!1,isComplete:this.image.complete})},this.onError=()=>{this.props.onError&&this.props.onError(),this.image&&this.setState({isError:!0,isComplete:this.image.complete})},this.handleClick=()=>{const{id:e,src:t,onClick:r}=this.props;r&&r({id:e,src:t})}}componentDidMount(){this.props.isLoadingForced||(this.image=new Image,this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src,this.setState({isComplete:this.image.complete}))}componentDidUpdate(e){e.src!==this.props.src&&(this.image=new Image,this.setState({isError:!this.props.src,isComplete:this.image.complete}),this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src)}componentWillUnmount(){delete this.image}render(){if(this.props.isLoadingForced)return this.renderImage();const{isError:e,isComplete:t}=this.state;return e||!t?this.renderPlaceholder(e?"error":"loading"):this.renderImage()}}d.displayName=(0,a.I)("../common/src/kit/backgroundImg");const u={image:{backgroundBlendMode:"multiply",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},_imageContain:{backgroundSize:"contain"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${s.l.short}ms ease-out`,background:(0,l.j)(o.O.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}},p=(0,i.D2)(u)(d)},46846:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var n=r(2784),a=r(93043),i=r(29920),s=r(74555),o=r(97264),c=r(77584);const l=({isChecked:e,dataN:t,isInvalid:r,backgroundColor:c,tickColor:l,onClick:u,disabled:p})=>{const{css:m,s:h}=(0,i.y)(d),g=(0,n.useCallback)((()=>{p||u(!e)}),[e,u,p]);return n.createElement("div",Object.assign({},a.dx.n(t),{tabIndex:0,onClick:g,style:{background:c||"transparent"},className:m(h.checkbox,r&&h._invalid,p&&h._disabled)}),e&&n.createElement("span",{className:m(h.icon)},n.createElement(s.J,{width:24,height:24,color:l||o.O.gray_262626})))},d=(0,i.k)({checkbox:{position:"relative",display:"inline-flex",borderRadius:c.E.default,cursor:"pointer",minWidth:20,height:20,border:`1px solid ${o.O.gray_e6e6e6}`,boxSizing:"border-box",marginEnd:12,outline:"none"},icon:{position:"absolute",top:-3,start:-3},_invalid:{border:`1px solid ${o.O.red_fe5000}`},_disabled:{filter:"grayscale(1)",cursor:"default"}})},90777:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(20761);const a=e=>{const{featureReadOnly:t}=(0,n.Z)();return t?null:e.children||null}},6938:(e,t,r)=>{"use strict";r.d(t,{E:()=>p});var n=r(2784),a=r(491),i=r(21196),s=r(93043),o=r(98872),c=r(97264),l=r(59297);class d extends n.PureComponent{constructor(){super(...arguments),this.state={imgWidth:0,imgHeight:0,isError:!this.props.src,isComplete:!1},this.renderImage=()=>{const{src:e,onClick:t,s:r,width:a,height:o,alt:c,srcSet:l,borderRadius:d="0",cover:u=!1,overlay:p=!1}=this.props,{imgWidth:m,imgHeight:h}=this.state,g=u?"100%":h>=m?"auto":"100%",f=u||h>=m?"100%":"auto";return n.createElement("div",Object.assign({className:(0,i.iv)(r.imageWrapper,p&&r._imageOverlay,t&&r._imageClickable),style:{width:a||"100%",height:o||"100%",borderRadius:d},onClick:this.handleClick},s.dx.n("wat-image")),n.createElement("img",{src:e,srcSet:l,alt:c,style:{objectFit:u?"cover":void 0,width:g,height:f}}))},this.renderPlaceholder=e=>{const{renderPlaceholder:t,width:r,height:a}=this.props;return t?n.createElement("div",Object.assign({},s.dx.n("wat-image-placeholder"),{style:{display:"flex",justifyContent:"center",alignItems:"center",width:r||"100%",height:a||"100%",maxWidth:"100%",maxHeight:"100%"}}),t(e)):null},this.onLoad=()=>{this.image&&this.setState({isError:!1,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.onError=()=>{this.props.onError&&this.props.onError(),this.image&&this.setState({isError:!0,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.handleClick=()=>{const{id:e,src:t,onClick:r}=this.props;r&&r({id:e,src:t})}}componentDidMount(){this.props.isLoadingForced||(this.image=new Image,this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src,this.setState({isComplete:this.image.complete}))}componentDidUpdate(e){e.src!==this.props.src&&(this.image=new Image,this.setState({isError:!this.props.src,isComplete:this.image.complete}),this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src)}componentWillUnmount(){delete this.image}render(){if(this.props.isLoadingForced)return this.renderImage();const{isError:e,isComplete:t}=this.state;return e||!t?this.renderPlaceholder(e?"error":"loading"):this.renderImage()}}d.displayName=(0,a.I)("../common/src/kit/img");const u={imageWrapper:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${o.l.short}ms ease-out`,background:(0,l.j)(c.O.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}},p=(0,i.D2)(u)(d)},97232:(e,t,r)=>{"use strict";r.d(t,{v:()=>d});var n=r(2784),a=r(21196),i=r(491),s=r(97264);class o extends n.PureComponent{render(){const{children:e,s:t,maxHeight:r,inline:i=!1,__experimentalStyles:s}=this.props;return 1===e.length&&e[0]?n.createElement("span",{className:(0,a.iv)(t.single,s)},e[0]):n.createElement("span",{className:(0,a.iv)(t.kebabs,s),style:r?{maxHeight:r}:void 0},e.map(((e,r)=>{if(e)return n.createElement("span",{className:(0,a.iv)(t.item,this.themeToStyle(),i&&t._inline),key:r},"​",e)})))}themeToStyle(){return"dark"===this.props.dotTheme?this.props.s._dark:void 0}}o.displayName=(0,i.I)("../common/src/kit/kebab");const c={position:"relative",marginStart:"-12px",paddingStart:"12px",marginEnd:"12px"},l={kebabs:{overflow:"hidden",display:"block"},single:Object.assign({},c),item:Object.assign(Object.assign({},c),{display:"inline-block","::before":{position:"absolute",display:"inline-block",start:"0",width:"12px",textAlign:"center",color:s.O.gray_e6e6e6,content:'"•"'},":last-child":{marginEnd:0},":first-child":{"::before":{content:"none"}}}),_inline:{display:"inline"},_dark:{"::before":{color:s.O.gray_262626}}},d=(0,a.D2)(l)(o)},67751:(e,t,r)=>{"use strict";r.d(t,{r:()=>m,Z:()=>h});var n=r(2784),a=r(58365),i=r(21196),s=r(97264),o=r(93043);const c=/^([^[\]]*)\[([^[\]]+)\]([^[\]]*)$/;function l(e){return e.replace(/[[\]]/g,"")}var d=r(44025);class u extends n.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,onClick:r}=this.props;(t||r)&&e.stopPropagation(),t||e.preventDefault(),r&&r(e)}}render(){return this.props.templated?this.renderTemplated(this.props.children):this.renderLink(this.props.children)}renderTemplated(e){if("string"!=typeof e)return this.renderLink(e);const t=function(e){const t=e.match(c);return t&&4===t.length?""===t[1]&&""===t[3]?[t[2]]:t.slice(1):[l(e)]}(e);return 1===t.length?this.renderLink(t[0]):n.createElement("span",null,t[0],this.renderLink(t[1]),t[2])}renderLink(e){const{href:t,color:r,s:i,external:s,dataN:c="wat-kit-link",dataT:l,ariaLabel:u,block:p,styles:m}=this.props,h=o.dx.n(c),g=l?o.dx.t(l):void 0,f=(0,a.iv)(i.link,"dark"===r&&i._dark,"gray"===r&&i._gray,"inherit"===r&&i._inherit,p&&i._block,m);return t?n.createElement("a",Object.assign({href:t,target:s?"_blank":void 0,className:f,onClick:this.handleClick},h,g,(0,d.P)({label:u})),e):n.createElement("button",Object.assign({className:f,onClick:this.handleClick},h,g,(0,d.P)({label:u})),e)}}const p={link:{color:s.O.blue_0072ce,textDecoration:"none",cursor:"pointer",userSelect:"text",display:"inline",textAlign:"inherit",border:"none",padding:0,backgroundColor:"transparent",":hover":{color:s.O.gray_262626}},_dark:{color:s.O.gray_262626,":hover":{color:s.O.gray_929292}},_gray:{color:s.O.gray_929292,":hover":{color:s.O.gray_262626}},_inherit:{cursor:"inherit",color:"inherit",":hover":{color:"inherit",opacity:1}},_block:{display:"block"}},m=(0,i.D2)(p)(u),h=m},89565:(e,t,r)=>{"use strict";r.d(t,{e:()=>d});var n=r(2784),a=r(21196),i=r(97264),s=r(491),o=r(59297);class c extends n.PureComponent{constructor(){super(...arguments),this.onNextArrowClick=()=>{if("maxIndex"in this.props){this.checkIs("last")||this.props.onChange(this.props.currentIndex+1)}else this.props.onChange(this.props.currentIndex+1)},this.onPrevArrowClick=()=>{if("minIndex"in this.props){this.checkIs("first")||this.props.onChange(this.props.currentIndex-1)}else this.props.onChange(this.props.currentIndex-1)}}render(){const{s:e,children:t}=this.props;return t?n.createElement("div",{className:(0,a.iv)(e.main)},n.createElement("div",{className:(0,a.iv)(e.arrowWrapper)},n.createElement("div",{className:(0,a.iv)(e.arrow,e.arrowLeft,this.checkIs("first")&&e._hidden),onClick:this.onPrevArrowClick},this.props.left),n.createElement("div",{className:(0,a.iv)(e.arrow,e.arrowRight,this.checkIs("last")&&e._hidden),onClick:this.onNextArrowClick},this.props.right)),n.createElement("div",{className:(0,a.iv)(e.childrenWrapper)},t)):n.createElement(n.Fragment,null,n.createElement("div",{className:(0,a.iv)(e.arrow,this.checkIs("first")&&e._disabledArrow),onClick:this.onPrevArrowClick},this.props.left),n.createElement("div",{className:(0,a.iv)(e.arrow,this.checkIs("last")&&e._disabledArrow),onClick:this.onNextArrowClick},this.props.right))}checkIs(e){return"last"===e?"maxIndex"in this.props&&this.props.currentIndex===this.props.maxIndex:"minIndex"in this.props&&this.props.currentIndex===this.props.minIndex}}c.displayName=(0,s.I)("../common/src/kit/prevNextArrows");const l={main:{position:"relative"},arrowWrapper:{display:"flex",justifyContent:"space-between",height:"100%",position:"absolute",width:"100%"},arrow:{cursor:"pointer"},arrowLeft:{display:"flex",alignItems:"center",color:i.O.white,background:`linear-gradient(90deg, ${(0,o.j)(i.O.black,.5)} 0%, ${(0,o.j)(i.O.black,0)} 100%)`,zIndex:1},arrowRight:{display:"flex",alignItems:"center",color:i.O.white,backgroundImage:`linear-gradient(270deg, ${(0,o.j)(i.O.black,.5)} 0%, ${(0,o.j)(i.O.black,0)} 100%)`,zIndex:1},childrenWrapper:{height:"100%",marginTop:0,marginBottom:12,marginStart:24,marginEnd:24},_hidden:{visibility:"hidden"},_disabledArrow:{color:i.O.gray_e6e6e6}},d=(0,a.D2)(l)(c)},12015:(e,t,r)=>{"use strict";r.d(t,{i:()=>d});var n=r(2784),a=r(93043),i=r(59297),s=r(58365),o=r(21196),c=r(56429);class l extends n.PureComponent{constructor(){super(...arguments),this.STAR_SIZE="small"===this.props.size?10:"medium"===this.props.size?16:this.props.size,this.renderStars=()=>{const{rating:e,s:t}=this.props,r=Math.ceil(e),a=Array(r).fill(""),i=this.STAR_SIZE*e+"px";return n.createElement("div",{className:(0,s.iv)(t.ratingStars),style:{width:i}},a.map(((e,t)=>this.renderStar(t,{isInactive:!1}))))},this.renderBackgroundStars=()=>{const{s:e,rating:t,dir:r}=this.props,a=Math.floor(t),i=5-a,o=a*this.STAR_SIZE+"px",c=Array(i).fill("");return n.createElement("div",{className:(0,s.iv)(e.backgroundStars),style:(0,s.Qo)({marginStart:o},r)},c.map(((e,t)=>this.renderStar(t,{isInactive:!0}))))}}render(){const{s:e}=this.props;return n.createElement("div",Object.assign({},a.dx.n("wat-kit-rating"),{className:(0,s.iv)(e.rating),style:{height:this.STAR_SIZE}}),this.renderStars(),this.renderBackgroundStars())}renderStar(e,t){const{color:r,inactiveColor:a}=this.props;return n.createElement("span",{key:e,style:{width:this.STAR_SIZE,height:this.STAR_SIZE}},n.createElement(c.U,{color:t.isInactive?(0,i.j)(a||r,.3):r,size:this.STAR_SIZE}))}}const d=(0,o.D2)({rating:{position:"relative",marginBottom:2,fontSize:0},ratingStars:{position:"absolute",start:0,margin:"auto",whiteSpace:"nowrap",overflow:"hidden",display:"flex",alignItems:"baseline"},backgroundStars:{display:"flex",alignItems:"baseline"}})(l)},34823:(e,t,r)=>{"use strict";r.d(t,{o:()=>l});var n=r(2784),a=r(58365),i=r(21196),s=r(5408),o=r(93043);class c extends n.PureComponent{constructor(){super(...arguments),this.handleShevronClick=()=>{const{isExpanded:e=!1,handleExpandClick:t}=this.props;t(e)},this.handleExpandClick=()=>{const{isExpanded:e=!1,handleExpandClick:t}=this.props;e||t(e)}}render(){const{children:e,isExpanded:t=!1,withoutShevron:r,dataN:i,s:c}=this.props;return n.createElement("div",Object.assign({className:(0,a.iv)(c.container,!t&&c._showPointer,!r&&c._shevronOffset)},o.dx.n(i||"wat-kit-spoiler"),o.dx.s(`wat-toggle-${t}`)),!r&&n.createElement("div",Object.assign({className:(0,a.iv)(c.shevron)},o.dx.n("wat-kit-spoiler-shevron"),{onClick:this.handleShevronClick}),n.createElement(s.E,{direction:t?"up":"down"})),n.createElement("div",Object.assign({},o.dx.n("wat-toggle"),{onClick:this.handleExpandClick}),e))}}const l=(0,i.D2)({container:{position:"relative"},shevron:{cursor:"pointer",position:"absolute",end:-4,top:-5,width:24,height:24,userSelect:"none"},_showPointer:{cursor:"pointer"},_shevronOffset:{paddingEnd:20}})(c)},56373:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(2784),a=r(34823);class i extends n.Component{constructor(){super(...arguments),this.state={isExpanded:this.props.initiallyExpanded||!1},this.toggle=e=>{const t=!e;this.props.onToggle&&this.props.onToggle(t),this.setState({isExpanded:t})}}render(){return n.createElement(a.o,{isExpanded:this.state.isExpanded,handleExpandClick:this.toggle,withoutShevron:this.props.withoutShevron,dataN:this.props.dataN},this.props.children(this.state.isExpanded,(()=>this.toggle(this.state.isExpanded))))}}},21989:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(2784);const a=({template:e,render:t})=>{const r=(0,n.useMemo)((()=>i(e)),[e]);return n.createElement(n.Fragment,null,r.map(((e,r)=>{var a;return n.createElement(n.Fragment,{key:r},"string"==typeof e?e:(null===(a=t[e.name])||void 0===a?void 0:a.call(t,e.text))||e.text)})))};function i(e){const t=[];let r="",n="",a=!1;for(const i of e)switch(i){case"$":a=!0,n&&(t.push(n),n="");break;case"[":a=!1,n&&(t.push(n),n="");break;case"]":t.push({name:r||"default",text:n}),n="",r="";break;default:" "===i&&a&&(t.push({name:r,text:""}),a=!1,r=""),a?r+=i:n+=i}return n&&t.push(n),r&&t.push({name:r,text:""}),t}},18547:(e,t,r)=>{"use strict";function n(e,t,r){const n=e.concat([]);return n.splice(r,0,t),n}r.d(t,{_:()=>n})},54629:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(2784);const a=e=>{let t=e;const r=()=>t,a=(()=>{let e,t;return{notify(t){let r=e;for(;r;)r.fn(t),r=r.next},subscribe(r){const n={fn:r};return e&&t?(t.next=n,n.prev=t,t=n):(e=n,t=n),()=>{n.prev&&n.next?n.prev.next=n.next:n.prev?(t=n.prev,t.next=void 0):n.next?(e=n.next,e.prev=void 0):(e=void 0,t=void 0)}}}})(),i=e=>e;return{use:(e=i)=>{const[t,s]=(0,n.useState)((()=>e(r())));return(0,n.useEffect)((()=>a.subscribe((t=>s(e(t))))),[e]),t},get:r,set:e=>{"undefined"!=typeof window?(t=e(r()),a.notify(t)):console.error("Нельзя менять состояние атомов на сервере!",(new Error).stack)}}}},52297:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(14670),a=r(94822);function i(e,t,r){return(0,n.e$)((r=>{let n,i={},s={};return(o,c)=>{const l=e?e(o,c):{};if((0,a.w)(n,l)&&(0,a.w)(i,c))return s;const d=t?t(r,Object.assign(Object.assign({},c),l)):void 0;return i=c,n=l,s=Object.assign({},c,n,d),s}}),r)}},31137:(e,t,r)=>{"use strict";function n(e,t){return new Date(e+6e4*(new Date(e).getTimezoneOffset()+t))}r.d(t,{t:()=>n})},491:(e,t,r)=>{"use strict";function n(e){const t=e.split("/");return t[t.length-1]}r.d(t,{I:()=>n})},6990:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var n=r(66878);function a(e,t){return"ru"!==e&&t.includes(e)?("cs"!==e&&"it"!==e&&"es"!==e||(e="en"),r(73515)(`./${e}.po`).then((e=>JSON.stringify(e)))):Promise.resolve(n.Z)}},88919:(e,t,r)=>{"use strict";r.d(t,{o:()=>m});var n=r(5163),a=r(83583),i=r(99385),s=r(64687),o=r(89969),c=r(19322),l=r(68680);class d{setLocaleData(e){this.currentLocaleData=e}format(e,t){return(0,c.Z)(e,t,{locale:this.currentLocaleData})}formatDistanceStrict(e,t,r){return(0,l.Z)(e,t,{locale:this.currentLocaleData,addSuffix:null==r?void 0:r.addSuffix})}}function u(e){return function(e){switch(e){case"ru":return r.e(1623).then(r.bind(r,28837));case"az":return r.e(9973).then(r.bind(r,59722));case"uz":return r.e(9018).then(r.bind(r,67031));case"uk":return r.e(5400).then(r.bind(r,90759));case"cs":return r.e(6601).then(r.bind(r,82502));case"es":return r.e(4462).then(r.bind(r,84963));case"ar":return r.e(6088).then(r.bind(r,89675));case"en":default:return Promise.resolve().then(r.bind(r,26842))}}(e).then((e=>e.default))}var p=r(15252);class m{constructor(e,t=new d){this.getLang=()=>this.lang,this.getLocale=()=>this.locale,this.translationController=e,this.tp=this.replaceEntitiesInProvider(new a.TranslationProvider(this.translationController)),this.dateFns=t,this.lang="ru",this.locale="ru_RU"}setLocale(e){return(0,n.mG)(this,void 0,void 0,(function*(){const{lang:t,countryCode:r}=e,[n,a]=yield Promise.all([this.fetchTranslations(t),this.fetchDateFnsLocaleData(t)]);this.dateFns.setLocaleData(a),this.lang=n,this.locale=(0,o.$)(n,r)}))}fetchTranslations(e){return new Promise((t=>{this.translationController.setLocale(e,(e=>{t(e)}),(r=>{(0,p.H)({message:`Set locale '${e}' error (${r})`,level:"fatal",id:"VQExy",payload:{type:"exception",subtype:"setLocale",data:r.stack}}),this.translationController.setLocale("ru",t)}))}))}replaceEntitiesInProvider(e){return{_t:(0,i.Z)(e._t,s.yX),_pt:(0,i.Z)(e._pt,s.yX),_nt:(0,i.Z)(e._nt,s.yX),_npt:(0,i.Z)(e._npt,s.yX),_gg:(0,i.Z)(e._gg,s.yX),_pgg:(0,i.Z)(e._pgg,s.yX),_ngg:(0,i.Z)(e._ngg,s.yX),_npgg:(0,i.Z)(e._npgg,s.yX)}}fetchDateFnsLocaleData(e){return u(e)}}},69190:(e,t,r)=>{"use strict";r.d(t,{f:()=>a,Z:()=>i});var n=r(2784);const a=n.createContext({});class i extends n.Component{getChildContext(){return{i18n:this.props.i18n}}render(){return n.Children.only(this.props.children)}}i.childContextTypes={i18n:()=>{}}},89969:(e,t,r)=>{"use strict";function n(e,t){const[r,n=t]=e.split(/[-_]/);return`${r.toLowerCase()}_${n.toUpperCase()}`}r.d(t,{$:()=>n})},64687:(e,t,r)=>{"use strict";r.d(t,{C_:()=>a,yX:()=>i});var n=r(15866);const a=e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;function i(e){return e.replace(/&nbsp;/g,n.L_)}},66878:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n='{"meta":{"pluralForms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);", "language":"ru_RU"},"items":[]}'},186:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var n=r(2784);const a=(0,n.createContext)({addComponent:e=>{}});class i extends n.Component{constructor(e){super(e)}render(){return n.createElement(a.Provider,{value:{addComponent:e=>{this.props.lazyProviderStore.addComponent(e)}}},this.props.children)}}let s;i.displayName="LazyProvider",s=r;function o(e){var t;return(t=class extends n.PureComponent{render(){return n.createElement(e,Object.assign({},this.props))}}).displayName="LazyComponentWrapper",t}const c=new class{getExistsModuleByModuleId(e){return s(e)}getModuleByModuleId(e){return r.c[e]?this.getExistsModuleByModuleId(e):void 0}};function l(e){var t;return(t=class extends n.Component{constructor(e){super(e),this._mutableIsMounted=!1;const t=this.getExistsComponent();this.state={error:!1,isLoading:!1,chunkName:this.props.loader.chunkName,component:t?o(t):void 0}}static getDerivedStateFromProps(e,t){const r=c.getModuleByModuleId(e.loader.moduleID.toString());return t.chunkName!==e.loader.chunkName?{chunkName:e.loader.chunkName,isLoading:!1,error:!1,component:r?o(r.UnlazyComponent):void 0}:null}componentWillUnmount(){this._mutableIsMounted=!1}componentDidMount(){this._mutableIsMounted=!0,this.onUpdateAndMountActions()}componentDidUpdate(){this.onUpdateAndMountActions()}render(){return this.state.error?this.props.renderPlaceholder("error"):this.state.isLoading||!this.state.component?this.props.renderPlaceholder("loading"):this.props.render(this.state.component)}onUpdateAndMountActions(){if(this.state.component||this.state.isLoading||this.state.error)return;const t=this.getExistsComponent();if(t)return this.setState({component:o(t)});this.setState({isLoading:!0,error:!1}),Promise.all([this.importWithRetries(),this.preventFlick()]).then((([e])=>{this._mutableIsMounted&&(e.UnlazyComponent?this.setState({component:o(e.UnlazyComponent),isLoading:!1,error:!1}):this.setState({component:void 0,error:!0,isLoading:!1}))})).catch((t=>{e(t,this.props.loader.chunkName),this._mutableIsMounted&&this.setState({component:void 0,error:!0,isLoading:!1})}))}preventFlick(){return new Promise((e=>{setTimeout((()=>{e()}),200)}))}importWithRetries(e=5,t=500){return new Promise(((r,n)=>{this.props.loader.asyncImport().then(r).catch((a=>{0!==e?setTimeout((()=>{this.importWithRetries(e-1,t).then(r,n)}),t):n(a)}))}))}getExistsComponent(){const e=c.getModuleByModuleId(this.props.loader.moduleID.toString());return e?e.UnlazyComponent:void 0}}).displayName="LazyComponentLoader",t}},99116:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,d:()=>i});var n=r(24973);function a({center:e,zoom:t,mapSize:r,rotation:a,pitch:i}){const s=[e.lon,e.lat],o=[r.width,r.height];return[(0,n.screenPointToLonLat)([0,0],{zoom:t,center:s,mapSize:o,rotation:a,pitch:i}),(0,n.screenPointToLonLat)([o[0],0],{zoom:t,center:s,mapSize:o,rotation:a,pitch:i}),(0,n.screenPointToLonLat)([0,o[1]],{zoom:t,center:s,mapSize:o,rotation:a,pitch:i}),(0,n.screenPointToLonLat)([o[0],o[1]],{zoom:t,center:s,mapSize:o,rotation:a,pitch:i})]}function i({center:e,zoom:t,mapSize:r,pitch:n,rotation:i}){const[s,o,c,l]=a({center:e,zoom:t,mapSize:r,pitch:n,rotation:i});return`POLYGON((${s[0]} ${s[1]},${o[0]} ${o[1]},${l[0]} ${l[1]},${c[0]} ${c[1]},${s[0]} ${s[1]}))`}},67974:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=(0,r(2784).createContext)({})},51763:(e,t,r)=>{"use strict";r.d(t,{_:()=>s,tT:()=>o});var n=r(2784),a=r(67974);const i={isPending:!1},s={isPending:!0,data:void 0,error:void 0};function o(e){const t=(0,n.useContext)(a.T).dispatch,r=e?t(e):void 0,[s,o]=(0,n.useState)(r?r.getState():i);return(0,n.useEffect)((()=>{if(!r)return void o(i);let e=s.data;const t=()=>{const{isPending:t,data:n,error:a}=r.getState();t&&void 0===n?o({isPending:t,error:a,data:e}):(o({isPending:t,data:n,error:a}),e=n)},n=r.subscribe(t);return t(),()=>{n()}}),[r]),s}},56677:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,i:()=>s});var n=r(2784),a=r(17783);const i=(0,r(54629).c)(!1),s=n.memo((()=>{const e=i.use();return n.createElement(a.ReactQueryDevtools,{initialIsOpen:!1,toggleButtonProps:{style:{display:e?"block":"none"}}})}))},15887:(e,t,r)=>{"use strict";r.d(t,{r:()=>o});var n=r(20761),a=r(92761),i=r(82066),s=r(68611);function o(e,t,r){return{use:(n,a)=>{const i=r?Object.assign(Object.assign({},r),a):a,s=(()=>{if(!n)return[void 0,void 0,void 0];const r=t(n);return[l(r,e,n),d(r),i]})();return c(...s)},prefetch:r=>{const n=t(r);return(0,s.pT)(l(n,e,r),d(n))},withQueryState:(r,n)=>{const a=t(r);return(0,s.i_)(l(a,e,r),n)},invalidate:r=>{const n=t(r);return(0,s.Dm)(l(n,e,r))}}}const c=(e,t,r)=>{const s=(0,n.Z)(),o=(0,a.S)(),c=(()=>{if(!t||!e)return["void",()=>{throw 1},{enabled:!1}];return[e,()=>t({config:s,services:o}),r]})();return(0,i.useQuery)(...c)},l=(e,t,r)=>Array.isArray(e)&&e[0]?[t,e[0]]:[t,r],d=e=>"function"==typeof e?e:e[1]},68611:(e,t,r)=>{"use strict";r.d(t,{pT:()=>a,Dm:()=>i,i_:()=>s,qg:()=>o});var n=r(5163);const a=(e,t)=>({type:"query:prefetch",payload:(r,a)=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield r.prefetchQuery(e,(()=>t(a)))}))}),i=e=>({type:"query:invalidate",payload:(t,r)=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield t.invalidateQueries(e)}))}),s=(e,t)=>({type:"query:getQueryState",payload:r=>t(r.getQueryState(e))}),o=(e,t)=>({dispatch:r})=>n=>a=>"query:getQueryState"===a.type?r(a.payload(e)):"query:prefetch"===a.type||"query:invalidate"===a.type?a.payload(e,t):n(a)},23437:(e,t,r)=>{"use strict";r.d(t,{K2:()=>a,U4:()=>i,CO:()=>s,A0:()=>o,hI:()=>c,V7:()=>l,oG:()=>d,TM:()=>u,Vk:()=>p});var n=r(15866);const a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sun","Sat"],s="HH:mm",o="h:mm a",c=n.yM,l="00:00",d=60,u=1440,p=60},68650:(e,t,r)=>{"use strict";r.d(t,{r_:()=>m,rZ:()=>a.rZ,$d:()=>h,DL:()=>a.DL,Nk:()=>g,lR:()=>p,yx:()=>l,y1:()=>d,Ci:()=>c,ku:()=>u});var n=r(23437),a=r(64806),i=r(51975),s=r(71951),o=r(60218);function c(e,t){return!l(e)&&!e[t.day]}function l(e){return e.is_24x7||!n.K2.find((t=>{const r=e[t];if(r){const e=r.working_hours[0];return!(e&&"00:00"===e.from&&"24:00"===e.to)}return!0}))}function d(e){const t=n.K2[0],r=e[t];return!l(e)&&(!!r&&(2!==r.working_hours.length&&n.K2.every((n=>{if(n===t)return!0;const a=e[n];return!!a&&(a.working_hours[0].from===r.working_hours[0].from&&a.working_hours[0].to===r.working_hours[0].to)}))))}function u(e){const t=(0,o.CE)(e,["comment","is_24x7"]),r=Object.keys(t).reduce(((t,r)=>e[r]?[...t,r]:t),[]),a=e[r[0]];return!(!a||r.length<7)&&n.K2.every((t=>{const r=e[t];return!!r&&function(e,t,r){if(e.length!==t.length)return!1;const n=[...t];return e.every((e=>{const t=n.findIndex((t=>r?r(e,t):e===t));return-1!==t&&(n.splice(t,1),!0)}))}(r.working_hours,a.working_hours,((e,t)=>e.from===t.from&&e.to===t.to))}))}function p(e,t){if(l(e))return{type:i.i8.aroundTheClock};const r=function(e,t){const r=[],i=n.K2.indexOf(t.day),o=r.concat(n.K2.slice(i),n.K2.slice(0,i+1)),c=(0,a.PE)(t.day,6),l=e[c],d=l?l.working_hours:[],u=(0,a.__)((0,a.NU)(d)),p=function(e,t){return t.map((t=>e[t])).map(((e,t)=>e?e.working_hours.map((e=>Object.assign(Object.assign({},e),{dayOffset:t}))):[])).reduce(((e,t)=>(null!=e?e:[]).concat(null!=t?t:[])))}(e,o);return function(e,t,r){return e.reduce(((e,t)=>e.concat((0,a.__)(t))),(0,s.Z)(t)).filter((e=>e.dayOffset>0||e.time>r.time))}(p,u,t).slice(0,2)}(e,t),o=r[0],c=r[1],d=(0,a.OK)(t.time,o.time,o.dayOffset);if(o.type===i.tw.close){if(d>=n.Vk)return{type:i.i8.opened};const e=c?(0,a.xm)(o,c):void 0;return d<=1?{type:void 0!==e?i.i8.willCloseInMinuteForBreak:i.i8.willCloseInMinute,breakType:e}:{type:void 0!==e?i.i8.willCloseInTimeForBreak:i.i8.willCloseInTime,breakType:e,minutesTo:d}}if(o.type===i.tw.open){const r=o.dayOffset,s=-1!==n.U4.indexOf(t.day);if(0===r){const r=h(e,t),s=(0,a.HG)(r,t.time),c=s&&(0,a.rZ)(s);return d>=n.Vk?{type:void 0!==c?i.i8.willOpenAtTimeFromBreak:i.i8.willOpenAtTime,breakType:c,time:o.time}:d<=1?{type:void 0!==c?i.i8.willOpenInMinuteFromBreak:i.i8.willOpenInMinute,breakType:c}:{type:void 0!==c?i.i8.willOpenInTimeFromBreak:i.i8.willOpenInTime,breakType:c,minutesTo:d}}return 1===r?{type:i.i8.willOpenTomorrowAtTime,time:o.time}:2!==r||s?{type:i.i8.willOpenAtDayAtTime,day:(0,a.PE)(t.day,o.dayOffset),time:o.time}:{type:i.i8.willOpenOvermorrowAtTime,day:(0,a.PE)(t.day,o.dayOffset),time:o.time}}}function m(e,t){const r=n.K2.indexOf(t.day);return n.K2.map(((t,n)=>{const i=e[t],s=i?i.working_hours:[],o=!s||!s.length,c=(0,a.DL)(s),l=(0,a.uR)(s),d=r===n;return{dayName:t,timeIntervals:c,breaks:l,breakTypes:l.map((e=>(0,a.rZ)(e))),closed:o,present:d}}))}function h(e,t){const r=e[t.day],n=r?r.working_hours:[];return(0,a.uR)(n)}function g(e){return{day:n.K2[e.getDay()],time:f(e)}}function f(e){return`${(0,a.jU)(e.getHours())}:${(0,a.jU)(e.getMinutes())}`}},51975:(e,t,r)=>{"use strict";var n,a,i;r.d(t,{i8:()=>n,CT:()=>a,tw:()=>i}),function(e){e[e.aroundTheClock=0]="aroundTheClock",e[e.opened=1]="opened",e[e.willCloseInMinuteForBreak=2]="willCloseInMinuteForBreak",e[e.willCloseInMinute=3]="willCloseInMinute",e[e.willCloseInTimeForBreak=4]="willCloseInTimeForBreak",e[e.willCloseInTime=5]="willCloseInTime",e[e.willOpenAtTime=6]="willOpenAtTime",e[e.willOpenAtDayAtTime=7]="willOpenAtDayAtTime",e[e.willOpenTomorrowAtTime=8]="willOpenTomorrowAtTime",e[e.willOpenOvermorrowAtTime=9]="willOpenOvermorrowAtTime",e[e.willOpenInMinute=10]="willOpenInMinute",e[e.willOpenInTime=11]="willOpenInTime",e[e.willOpenInMinuteFromBreak=12]="willOpenInMinuteFromBreak",e[e.willOpenInTimeFromBreak=13]="willOpenInTimeFromBreak",e[e.willOpenAtTimeFromBreak=14]="willOpenAtTimeFromBreak"}(n||(n={})),function(e){e[e.lunch=0]="lunch",e[e.rest=1]="rest"}(a||(a={})),function(e){e[e.open=0]="open",e[e.close=1]="close"}(i||(i={}))},64806:(e,t,r)=>{"use strict";r.d(t,{HG:()=>o,PE:()=>d,NU:()=>u,__:()=>p,OK:()=>m,xm:()=>g,rZ:()=>f,uR:()=>v,jU:()=>y,DL:()=>b,Eq:()=>w,sx:()=>I,Wl:()=>E});var n=r(51975),a=r(23437),i=r(98651),s=r(55824);function o(e=[],t){return e.find((e=>c(t,e)))}function c(e,t){const r=t.from,n=t.to>t.from?t.to:l(t.to);return e>=r&&e<n}function l(e){const t=e.split(":");return`${Number(t[0])+24}:${t[1]}`}function d(e,t){return a.K2[(a.K2.indexOf(e)+t)%7]}function u(e){const t=(0,i.Z)(e,(e=>e.from>e.to));if(t)return{from:a.V7,to:t.to}}function p(e){if(!e)return[];const t=e.to<e.from;return[{type:n.tw.open,time:e.from,dayOffset:e.dayOffset||0},{type:n.tw.close,time:e.to,dayOffset:(e.dayOffset||0)+Number(t)}]}function m(e,t,r){const n=h(e),i=h(t);return i.m-n.m+(i.h-n.h)*a.oG+r*a.TM}function h(e){const t=e.split(":");return{h:+t[0],m:+t[1]}}function g(e,t){if(e.dayOffset===t.dayOffset)return f({from:e.time,to:t.time})}function f(e){const t=e.to!==a.V7?e.to:l(e.to);return e.from>="12:00"&&t<="16:00"?n.CT.lunch:n.CT.rest}function v(e=[]){return e.reduce(((e,t)=>{const r=(0,s.Z)(e);return r&&(r.to=t.from),e.concat({from:t.to,to:""})}),[]).slice(0,-1)}function y(e){return e<10?`0${e}`:`${e}`}function b(e){return e.length?[e.reduce(((e,t)=>(e.from||(e.from=t.from),e.to=t.to,e)),{from:"",to:""})]:[]}function w(e,t,r,n=!0){const i=I(e,r?a.A0:a.CO),s=I(t,r?a.A0:a.CO);return r&&n?`${i} ${s}`:`${i}${a.hI}${s}`}function I(e,t){return t!==a.CO&&e?E(e):e}function E(e){const[t,r]=e.split(":").map((e=>Number(e))),n=t>=12&&t<24?"pm":"am";return`${t%12?y(t%12):12}:${r<10?y(r):r}&nbsp;${n}`}},61834:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});const n=e=>btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(parseInt("0x"+t,16)))))},29940:(e,t,r)=>{"use strict";function n(e){const{str:t,start:r=0,end:n=e.str.length,letterInTheEnd:a=!1}=e;if(!t)return t;const i=t.slice(r,n);return a?s(i):i}function a(e,t,r){const n=e.split(/<br\s*\/?>/),a=[];let o=0;for(let e=0;e<n.length&&o<t;e++){const s=i(n[e]),c=s.replace(/&[-#0-9a-z]+;/gi," "),l=Math.ceil(c.length/r)||1;if(o+l>t){const e=r*(t-o);let n=s.substr(0,e);if(/&[-#0-9a-z]*$/.test(n)){const t=s.substr(e).match(/^[-#0-9a-z]*;/);t&&(n+=t[0]||"")}a.push(n);break}a.push(s),o+=l}for(;a.length>0&&!a[a.length-1];)a.pop();return a.length?((a.length<n.length||a[a.length-1].length<n[n.length-1].length)&&(a[a.length-1]=s(a[a.length-1])+"…"),a.join("<br>")):""}function i(e){return e.replace(/<[^>]*>/g,"")}function s(e){return e.replace(/(&[-#0-9a-z]+;|[^0-9a-zа-яё])+$/i,"")}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function c(e){return e.trim().split("\n").map((e=>e.trim())).join("\n").replace(/(\n\n\n+)/g,"\n\n\n").replace(/[^\S\n]+/g," ")}function l(e){return i(e.replace(/<br[^>]*>/g,"\n"))}function d(e){const t=e.charAt(1);return(r=t).toUpperCase()!==r||function(e){return/^\s$/.test(e)}(t)||!t?function(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e):e;var r}r.d(t,{tW:()=>n,Sf:()=>a,M3:()=>i,Ez:()=>o,Y2:()=>c,s9:()=>l,gs:()=>d})},79017:(e,t,r)=>{"use strict";r.d(t,{mM:()=>a,iv:()=>s});var n=r(44884);const{StyleSheet:a,StyleSheetServer:i,css:s}=n.StyleSheet.extend([{selectorHandler:(e,t,r)=>-1===e.indexOf("&")?null:r(e.replace(/&/g,t))}])},58365:(e,t,r)=>{"use strict";r.d(t,{Qv:()=>i,iv:()=>n.iv,Qo:()=>a.O});var n=r(79017),a=r(24042);const i=n.mM.rehydrate},24042:(e,t,r)=>{"use strict";r.d(t,{i:()=>a,O:()=>n});const n=r(44985).default?r(44985).default:r(44985);function a(e,t){const r={};for(const a in e)e.hasOwnProperty(a)&&(r[a]=n(e[a],t||"ltr"));return r}},64440:(e,t,r)=>{"use strict";r.d(t,{nH:()=>s,Fg:()=>l,gh:()=>d});var n=r(2784),a=r(93043),i=r(70887);const s=({children:e,theme:t})=>n.createElement(c.Provider,{value:t},n.createElement(o,{rtl:t.rtl},n.Children.only(e))),o=({rtl:e,children:t})=>n.createElement("div",Object.assign({},a.dx.n("wat-theme"),a.dx.s(e?"rtl":"ltr"),{dir:e?"rtl":"ltr",style:{height:"100%"}}),t),c=n.createContext(i.n.dgis_ltr_desktop),l=()=>n.useContext(c),d=e=>i.n[(0,i.A)("2gis"===e.brandCode?"dgis":"urbi",e.rtl?"rtl":"ltr",e.isMobileDevice?"mobile":"desktop")]},59297:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var n=r(96147),a=r(60218);function i(e,t){if(1===t)return e;const r=(0,n.o)(e);return r?function(e,[t,r,n]){return`rgba(${t}, ${r}, ${n}, ${(0,a.DB)(e,2)})`}(t,r):e}},87776:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(81870);const a=(e,t)=>{return window.confirm(e||void 0)?t():(0,n.ZT)()}},13310:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(81870),a=r(20999);const i=(0,n.gQ)("fetchIfMissing",((e,t)=>(0,n.xJ)((r=>(0,a.G)(e(r))?t:(0,n.ZT)()))))},43893:(e,t,r)=>{"use strict";r.d(t,{L:()=>a,C:()=>i});var n=r(81870);const a=(0,n.gQ)("showUgcLawPopup",(({openPopup:e,after:t})=>(window.__afterUgcLawPopup=t,e()))),i=function(e){const t=window.__afterUgcLawPopup;return window.__afterUgcLawPopup=void 0,t?t(e):(0,n.ZT)()}},44479:(e,t,r)=>{"use strict";r.d(t,{R:()=>u});var n=r(88622),a=r(81870),i=r(96421),s=r(20999),o=r(59663),c=r(26634),l=r(93423),d=r(94487);const u=(0,a.gQ)("syncCart",(()=>(0,a.vP)((0,n.Bk)({}),(0,a.xJ)((e=>{const t=(0,c.W)(e);if(!t)return;const r=(0,d.t)(t).reduce(((t,{branchId:r,productId:n})=>((0,s.G)((0,i.E$)({state:e,branchId:r,productId:n}))&&(t[r]||(t[r]=[])).push(n),t)),{});return(0,a.Mf)(...Object.keys(r).map((e=>(0,l.H)({branchId:e,productIds:r[e]}))))})),(0,a.xJ)((e=>{const t=(0,c.W)(e);if(!t)return;let r=!1;const n=t.orders.map((t=>{const n=t.items.map((t=>{var n,a,o,c;const l=(0,i.Gt)({state:e,productId:t.productId}),d=(0,i.E$)({state:e,branchId:t.branchId,productId:t.productId});if((0,s.G)(d))return r=!0,Object.assign(Object.assign({},t),{deleted:!0});{const e=null===(n=l.data)||void 0===n?void 0:n.product,i=d.data;if(e&&i&&(t.name!==e.name||t.description!==e.description||(null===(a=t.price.fixed)||void 0===a?void 0:a.value)!==(null===(c=null===(o=i.price_value)||void 0===o?void 0:o.fixed)||void 0===c?void 0:c.value)))return r=!0,Object.assign(Object.assign({},t),{name:e.name,description:e.description,price:i.price_value||{},deleted:!1});if(t.deleted)return Object.assign(Object.assign({},t),{deleted:!1})}return t}));return Object.assign(Object.assign({},t),{items:n})}));return r&&(0,o.j)({orders:n,showCartButton:!0,customer:t.customer})})))))},47030:(e,t,r)=>{"use strict";r.d(t,{c:()=>c,U:()=>l});var n=r(81870),a=r(40779),i=r(81055),s=r(17586),o=r(40333);const c=e=>{const{locale:t,statusId:r,email:a,clientId:s}=e;return(0,n.xJ)((e=>{const c=(0,o.bG)(e);return c&&c.data?(0,i.Qm)({email:a,userId:c.data.user_id,locale:t,statusId:r,clientId:s}):(0,n.ZT)()}))},l=e=>{const{statusId:t,email:r}=e;return(0,n.xJ)((i=>{const l=(0,o.bG)(i);if(!l||!l.data)return(0,n.ZT)();const d=(0,s.j)({new_email:r,email:l.data.email,email_confirmed:l.data.email_confirmed});return(0,s.N)({new_email:l.data.new_email,email:l.data.email,email_confirmed:l.data.email_confirmed})?(0,a.EC)({statusId:t}):d&&e.email?c({email:e.email,locale:e.locale,clientId:e.clientId,statusId:t}):(0,n.ZT)()}))}},64724:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n=r(81870);const a=e=>(0,n.Rh)((({featureReadOnly:t})=>t?(0,n.ZT)():e))},70887:(e,t,r)=>{"use strict";r.d(t,{n:()=>i,A:()=>s});const n={colors:{green_30ad00_brand:"#30ad00",green_299400_brand:"#299400",blue_0082c8_brand:"#0082c8",blue_41a5db_brand:"#41a5db"}},a={colors:{green_30ad00_brand:"#ffba00",green_299400_brand:"#ffba00",blue_0082c8_brand:"#ffba00",blue_41a5db_brand:"#ffba00"}},i={};for(const e of["dgis","urbi"])for(const t of["ltr","rtl"])for(const r of["desktop","mobile"]){const o=s(e,t,r);i[o]=Object.assign(Object.assign({},"dgis"===e?n:a),{urbi:"urbi"===e,rtl:"rtl"===t,mobile:"mobile"===r})}function s(e,t,r){return`${e}_${t}_${r}`}},27221:(e,t,r)=>{"use strict";function n(e,t="2gis"){return"urbi"===t&&"com"===e?"urbi-sa.com":"urbi"!==t||"ae"!==e&&"sa"!==e?`2gis.${e}`:`urbi.${e}`}r.d(t,{K:()=>n})},12230:(e,t,r)=>{"use strict";r.d(t,{o:()=>o,B:()=>c});var n=r(6104),a=r(92177),i=r(27221),s=r(60218);const o=["branch","firm","geo","building","attraction","gate","street","road","crossroad","place","region","district","districtArea","district_area","livingArea","living_area","division","city","settlement","country","adm_div","parking","station","stationPlatform","station_platform","stationEntrance","station_entrance","stop","metro","route","exchange"];function c(e){if("custom"===e.type)return e.url;const t=function(e){switch(e.type){case"branch":return[{type:"firm",entityId:e.id,tab:e.tab}];case"geo":case"building":case"attraction":case"gate":case"street":case"road":case"crossroad":case"place":case"region":case"district":case"districtArea":case"district_area":case"livingArea":case"living_area":case"division":case"city":case"adm_div":case"parking":return[{type:"geo",entityId:e.id,tab:e.tab}];case"point":return[{type:"geo",point:e.point}];case"station":case"stop":case"metro":return[{type:"station",entityId:e.id,tab:e.tab}];case"stationEntrance":case"station_entrance":return[{type:"stationEntrance",entityId:e.id,tab:e.tab}];case"stationPlatform":case"station_platform":return[{type:"platform",entityId:e.id,tab:e.tab}];case"route":return[{type:"route",entityId:e.id,tab:e.tab}];case"buildingServices":return[{type:e.slugType,entityId:e.id,tab:"services"}];case"buildingProviders":return[{type:e.slugType,entityId:e.id,tab:"providers"}];case"inBuildingBranches":return[{type:e.slugType,entityId:e.id,tab:"inside"}];case"organizationBranches":return[{type:"branches",orgId:e.id,filters:"filters"in e?e.filters:void 0}];case"product":return[{type:"product",productId:e.id}];case"catalogSearch":return[{type:"search",query:e.query,rubricId:e.rubricId,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"marketSearch":case"marketDrugSearch":return[{type:"search",activeTab:"market",query:e.query,rubricId:e.rubricId,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"branchOffers":return[{type:"prices",branchId:e.branchId,categoryId:e.categoryId},{type:"offers",query:e.query,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"directions":return[{type:"directions",tab:e.tab,points:e.points}];case"gallery":return[{type:"gallery",entityType:(0,a.C)(e.entityType),entityId:e.entityId,photoId:e.photoId}];case"realty":return[{type:"realty",category:e.category,filters:e.filters,at:e.entityId}];case"realtyRent":return[{type:"realty",category:"rent",filters:e.filters,at:e.entityId}];case"realtyAd":return(0,s.oA)([e.category&&{type:"realty",category:e.category,at:e.entityId},{type:"realtyAd",id:e.id,tab:e.tab}]);case"realtySales":return[{type:"realty",category:"sale",filters:e.filters,at:e.entityId}];case"collection":return[{type:"collection",collectionId:e.id}];case"guidebook":return[{type:"guidebook"}];case"interesting":return[{type:"interesting"}];case"award2019":return[{type:"award2019"}];case"metroLayer":case"metroLayerMoscow":return[{type:"search",query:e.query},{type:"layer",value:"metro"}];case"project":case"root":return[];case"rubrics":return[{type:"rubrics"}];case"subrubrics":return[{type:"rubrics"},{type:"subrubrics",parentId:e.id}];case"market":return[{type:"market"}];case"favorites":return[{type:"favorites"}];case"defaultEntity":return e.id?[{type:"geo",entityId:e.id}]:void 0;case"traffic":return[{type:"traffic"}];default:return}}(e);return t?function(e,t){const{cityAlias:r,lang:a,isMobile:s,domain:o,brandCode:c}=e;r&&t.unshift({type:"region",code:r});a&&t.unshift({type:"lang",lang:a});const l=(0,n.M)(t);if(!l)return"";if(o){const e=(0,i.K)(o,c);return`${s?`https://m.${e}`:`https://${e}`}${l}`}return l}(e,t):void 0}},58630:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,r:()=>i});var n=r(90727);const a=8;function i(e,t){const r=function(e){return e.some((e=>!("object"!==e.type||!e.entity||!["metarubric","rubric"].includes(e.entity.type))&&n.S.includes(e.entity.id)))}(e),i=[...e];return r&&i.splice(2,0,{type:"object",entity:{type:"special",id:"6"},search_attributes:{handling_type:0,suggest_parts:[{is_suggested:!1,text:t._gg("Недвижимость")}],suggested_text:t._gg("Недвижимость")}}),i.slice(0,a)}},44025:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(7905);function a(e){const{label:t,hidden:r,pressed:a,iCanNotUseButtonSoTabIndexOnClick:s}=e,o=s?(c=s,e=>{if(e.keyCode===n.q7||e.keyCode===n.Fx)return c()}):void 0;var c;return{"aria-label":t,"aria-hidden":i(r||void 0),"aria-pressed":i(a),tabIndex:o?0:void 0,onKeyDown:o}}function i(e){switch(e){case!0:return"true";case!1:return"false";default:return}}},3007:(e,t,r)=>{"use strict";function n(e,t){return(r,n)=>{const a=r[e],i=t(a,n);return a===i?r:Object.assign(Object.assign({},r),{[e]:i})}}r.d(t,{x:()=>n})},30859:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(60218),a=r(19475);const i=e=>{const{widgets:t,filterValues:r,valueTextMap:i={}}=e;if(!r||(0,n.xb)(r)||!t||!t.length)return r;const s={};t.forEach((e=>{s[e.tag]=e}));const o=Object.assign({},r);return(0,n.Ed)(r,((e,t)=>{const r=s[t],n=null==e?void 0:e.split(a.Ad),c=null==n?void 0:n.map((e=>{var t;let n=e;return r&&"checkboxlist"===r.widget&&(n=(null===(t=r.items.find((t=>t.value===e)))||void 0===t?void 0:t.text)||n),i[e]||n}));c&&(o[t]=c.join(a.Ad))})),o}},12170:(e,t,r)=>{"use strict";function n(e,t,r){return{id:r,tag:t,name:e,caption:e,search_query:e,icon_url:`/public/dashboard/${t}.svg`,type:"metarubric"}}r.d(t,{N:()=>n})},22424:(e,t,r)=>{"use strict";function n(e){return e*Math.PI/180}function a(e,t){const r=n(e.lat),a=n(t.lat),i=n(t.lat-e.lat),s=n(t.lon-e.lon),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(r)*Math.cos(a)*Math.sin(s/2)*Math.sin(s/2),c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return Math.trunc(6371e3*c)}r.d(t,{c:()=>a})},27780:(e,t,r)=>{"use strict";function n(e){return!!e&&"metro_moscow_mcc"===e}r.d(t,{Z:()=>n})},11253:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});const n=["metro_moscow_D1","metro_moscow_D2","metro_moscow_D3","metro_moscow_D4","metro_moscow_D5"];function a(e){return!!e&&-1!==n.indexOf(e)}},30282:(e,t,r)=>{"use strict";function n(e){var t,r,n,a;return"has_discount"in e?!(!e.has_discount||!(null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.discount)):!!(null===(a=null===(n=e.ads)||void 0===n?void 0:n.options)||void 0===a?void 0:a.discount)}r.d(t,{e:()=>n})},76825:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(3007),a=r(67540);const i=(e,t)=>(0,n.x)("data",(0,n.x)(e,(0,a.aq)(t)))},96997:(e,t,r)=>{"use strict";r.d(t,{X:()=>a,i:()=>i});const n=e=>t=>{const{necessaryRubricList:r=[],sufficientRubricList:n=[]}=e;if(!t||"branch"!==t.type||!t.rubrics||!t.rubrics.length)return!1;const a=t.rubrics.map((e=>e.id));return r.length?a.every((e=>r.includes(e))):!!n.length&&a.some((e=>n.includes(e)))},a=n({sufficientRubricList:["492"]}),i=n({necessaryRubricList:["159","161","162","164","165","166","1203","10803","15791","51459","112537"]})},92177:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});const n=e=>{switch(e){case"branch":return"firm";case"station":return"station";case"station_platform":return"platform";case"station_entrance":return"stationEntrance";case"route":return"route";default:return"geo"}}},13128:(e,t,r)=>{"use strict";function n(e){return(null==e?void 0:e.fixed)?{currency:e.fixed.currency,min:e.fixed.value,max:e.fixed.value}:(null==e?void 0:e.range)?{currency:e.range.currency,min:e.range.min,max:e.range.max}:(null==e?void 0:e.from)?{currency:e.from.currency,min:e.from.value,max:e.from.value}:void 0}r.d(t,{Z:()=>n})},13553:(e,t,r)=>{"use strict";function n(e){if(e&&e.data)switch(e.data.source){case"market":case"favorites":case"catalog":case"tUgc":case"realty":case"exchange":case"infrastructure":return e.data;default:return}}r.d(t,{X:()=>n})},58521:(e,t,r)=>{"use strict";function n(e){var t;return e&&"group"in e?null===(t=e.group)||void 0===t?void 0:t.find((e=>!!e.is_main_in_group)):void 0}r.d(t,{m:()=>n})},60353:(e,t,r)=>{"use strict";function n(e,t){return e.find((e=>e.orgId===t))}r.d(t,{L:()=>n})},78202:(e,t,r)=>{"use strict";function n(e){const t=e.replace("T","-").split(":")[0];return t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}-[0-9]{2}$/)?t:"unknown_version"}r.d(t,{n:()=>n})},51558:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(60218),a=r(19475);function i(e,t){if(!e||0===Object.keys(e).length)return;const r=[];return(0,n.Ed)(e,((e,n)=>{if("sort"!==n&&void 0!==e)switch(n){case"category_ids":r.push({entity:{id:e,type:"productCategory"}});break;case"rubric_id":r.push({entity:{id:e,type:"rubric"}});break;case"subway":r.push({entity:{id:e,type:"station"}});break;case"district_id":r.push({entity:{id:e,type:"adm_div",subtype:"district"}});break;case"price":const i=e.split(","),s=i[0];if(!s)break;r.push({name:n,min:+s,max:i[1]?+i[1]:void 0});break;default:n.split(a.ZA).forEach((n=>{r.push(function({value:e,name:t,filtersAttributes:r}){const n=r&&r.find((e=>e.tag===t));switch(n&&n.type){case"range":const[r,n]=e.split(",").map((e=>+e));return{name:t,max:n,min:r};default:return{name:t,value:e}}}({value:e,name:n,filtersAttributes:t}))}))}})),r.length?r:void 0}},96952:(e,t,r)=>{"use strict";function n(e){if(e&&0!==Object.keys(e).length&&e.sort)return{name:e.sort}}r.d(t,{C:()=>n})},62181:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n=(e,t)=>{const{isoDate:r,currentDate:n,onlyDate:a=!1}=e,{tp:i,dateFns:s}=t;if(!Date.parse(r))return;return r.split("T")[0]===n.toISOString().split("T")[0]&&!a?i._t("сегодня"):s.format(new Date(r),"d MMMM yyyy")}},54177:(e,t,r)=>{"use strict";function n(e){if(void 0===e)return;const t=-e,r=Math.round(t),n=r<0?"-":"+",a=Math.abs(r);return`${n}${a<10?`0${a}`:a}:00`}r.d(t,{k:()=>n})},34587:(e,t,r)=>{"use strict";function n(e){switch(e.type){case"link":return e.value;case"phone":return`tel:${e.value}`;default:return}}r.d(t,{Y:()=>n})},42672:(e,t,r)=>{"use strict";function n(e){if(!e)return;const{regionId:t,overlapRegionId:r,baseOverlapRegionId:n}=e;return t&&"0"!==t?t:r&&"0"!==r?r:n&&"0"!==n?n:void 0}r.d(t,{Y:()=>n})},99958:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var n=r(68059);function a(e){var t;if("branch"!==e.type)return;const r=(0,n.k)(e);return r?r.adsBuyHere.ads_texts.text:null===(t=e.ads)||void 0===t?void 0:t.text}},35249:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(68059);function a(e){var t;if("branch"!==e.type)return;const r=(0,n.k)(e);return r?r.adsBuyHere.ads_texts.text_warning:null===(t=e.ads)||void 0===t?void 0:t.text_warning}},94487:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var n=r(60218);const a=e=>(0,n.xH)(e.orders.map((e=>e.items)))},97316:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r(20761),a=r(2784);const i=e=>{const{platform:t,type:r}=e,i="ios"===t?"ios":"android",{appsFlyerBaseLinks:s}=(0,n.Z)(),o=s[i];return(0,a.useMemo)((()=>{if(!o)return;const e=function(e){const{promoType:t,baseLink:r}=e;switch(t){case"firmCardPromo":return`${r}nw2S/f328dc28`;case"mainScreen":return`${r}nw2S/b02371aa`;case"mobilePromo":return`${r}nw2S/50402e0b`;case"modalFirmPromo":return`${r}nw2S/fbf3c446`;case"sideMenu":return`${r}nw2S/9cc0731a`;case"geoCardPromo":return`${r}nw2S/3bd14e61`;case"modalPromo":return`${r}nw2S/c18039ac`;case"modalGeoPromoDirect":return`${r}nw2S/a30eb06c`;case"routeSearchFullScreenBanner":return`${r}nw2S/2a34ae2c`;case"transportCardPromo":return`${r}nw2S/51b44ba4`;case"modalGeoPromo":return`${r}nw2S/f89db534`;case"fullScreen":return`${r}nw2S/8da9308b`;case"fullScreenRouteSearch":return`${r}nw2S/993e6375`;case"exchangeFullScreenBanner":return`${r}nw2S/e79846d0`;case"fullScreenInteresting":return`${r}nw2S/ed138fdc`;case"checkinFullScreenBanner":return`${r}nw2S/b899a5d7`;default:return`${r}nw2S/be0544d1`}}({baseLink:o,promoType:r});return{marketName:"ios"===i?"App Store":"Google Play",rating:4.5,link:e,platformName:"ios"===i?"iOS":"Android"}}),[i,o,r])}},27237:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var n=r(13128),a=r(96421),i=r(33373);function s({productId:e,state:t}){const r=(0,a.Gt)({state:t,productId:e});if(!(0,i.d)(r)||!r.data)return;const{product:s,offers_agg:o}=r.data;return{adsMarket:!!s.is_promoted,product:{entity:{id:s.id,type:"ref_product"===s.type?"referenceProduct":"orgProduct"},name:s.name,categories:s.categories.map((e=>({entity:{id:e.id,type:"productCategory"},name:e.label})))},price:(0,n.Z)(o&&o.price_value)}}},49706:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var n=r(13128);function a({realtyItem:e}){if(!e)return;const{product:t,offer:r,branch:a}=e;return{product:{entity:{id:t.id,type:"orgProduct"},name:t.name,categories:t.categories.map((e=>({entity:{id:e.id,type:"productCategory"},name:e.label})))},offer:{owner:{entity:{id:a.id,type:"branch"},org:a.org.id},price:(0,n.Z)(r.price_value)},hasToTheShopButton:!!r.url}}},68701:(e,t,r)=>{"use strict";r.d(t,{H:()=>a});var n=r(48851);function a(e){var t;const{review:r,orgId:a}=e,i=(0,n.K)(r.date_created),s=+new Date(r.date_created);if(!Number.isNaN(s))return{reviewId:r.id,source:r.provider,rating:r.rating,author:r.user.id,createdAt:{timestamp:s,utcOffset:i},owner:{entity:{type:r.object.type,id:r.object.id},org:a},gallerySize:null===(t=r.photos)||void 0===t?void 0:t.length,status:void 0}}},92855:(e,t,r)=>{"use strict";function n(e){var t;if("branch"!==e.type||!e.ads||!e.ads.options)return;const r=null===(t=e.ads.options.buy_here)||void 0===t?void 0:t.find((e=>!!e.cta_list));return r?{adsBuyHere:r,adsPosition:"buyHere"}:void 0}r.d(t,{J:()=>n})},62636:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(60353);function a(e,t){if(!e)return 0;if(t){const r=(0,n.L)(e.orders,t);return r?i(r):0}return e.orders.reduce(((e,t)=>e+i(t)),0)}function i(e){return e.items.filter((e=>e.qty>0)).length}},49261:(e,t,r)=>{"use strict";function n(e){return{top:e.top,left:e.left,bottom:e.top,right:e.left,height:0,width:0}}r.d(t,{Y:()=>n})},47273:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(96147),a=r(69908),i=r(51990);var s=r(97264);function o(e){return e===s.O.green_30ad00?s.O.white:(t=e,r=[s.O.gray_262626,s.O.white],(0,a.v)((0,i.N)((0,n.o)(t),r.map(n.o))));var t,r}},20914:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var n=r(32563);const a=e=>{const t=(0,n.J)(e).reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]]);return{zoom:13,lon:(t[0][0]+t[1][0])/2,lat:(t[0][1]+t[1][1])/2}}},91871:(e,t,r)=>{"use strict";function n(e){var t,r;return e.region_id&&"0"!==e.region_id&&"adm_div"in e?null===(r=null===(t=e.adm_div)||void 0===t?void 0:t.find((e=>("city"===e.type||"settlement"===e.type)&&e.city_alias)))||void 0===r?void 0:r.city_alias:void 0}r.d(t,{i:()=>n})},85594:(e,t,r)=>{"use strict";function n(e){if("branch"!==e.type||!e.ads||!e.ads.options)return;const t=a(e.ads.options.buy_here),r=a(e.ads.options.map_buy_here);return r?{adsBuyHere:r,adsPosition:"buyHereOnMap"}:t?{adsBuyHere:t,adsPosition:"fmcg"}:void 0}function a(e){if(e)return e.find((e=>{var t,r;const n=!!(null===(t=null==e?void 0:e.images)||void 0===t?void 0:t.length),a=!!(null===(r=null==e?void 0:e.videos)||void 0===r?void 0:r.length);return n||a}))}r.d(t,{A:()=>n})},34990:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=(0,r(70433).HP)((function(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas").getContext("webgl",e);if(t){const e=function(e){const t=e.getExtension("WEBGL_debug_renderer_info");return t&&e.getParameter(t.UNMASKED_RENDERER_WEBGL)}(t);return/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|mali-4|mali-3|mali-2)/.test(e)?`${e} - GPU из блэклиста`:e}}}catch(e){}return}))},56216:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});function n(e){return e&&"group"in e?a(e.group):void 0}function a(e){if(e&&e.length)return e.map((e=>({id:e.id,type:e.type,subtype:e.subtype})))}},89952:(e,t,r)=>{"use strict";function n(e,t){if(e&&!e.use_default_value&&e.img_url)return a(e.img_url,t)}function a(e,t){const r="?api-version=2.0";return e.endsWith("/")?`${e}${t}${r}`:`${e.replace(/image.([a-zA-Z0-9]+)$/,`image_${t}.$1`)}${r}`}r.d(t,{P:()=>n,W:()=>a})},42721:(e,t,r)=>{"use strict";function n(e){var t;return"parking"===e.type||!(!("group"in e)||!(null===(t=e.group)||void 0===t?void 0:t.find((e=>"parking"===e.type))))}r.d(t,{i:()=>n})},6603:(e,t,r)=>{"use strict";r.d(t,{q:()=>a});var n=r(89952);function a(e,t){if("branch"!==e.type||!e.ads)return;if(e.ads.is_social)return{image:void 0};const r=e.ads.options&&e.ads.options.logo;return r?{image:(0,n.P)(r,t)}:void 0}},28361:(e,t,r)=>{"use strict";function n(e){const t=e.find((e=>"primary"===e.kind))||e[0];return t?t.id:void 0}r.d(t,{o:()=>n})},22168:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(60218);function a(e){let t;switch(e.origin){case"adsIconForPoi":t=e.markerData.position;break;case"marker":t=e.marker.lonLat;break;case"poi":case"map":t=e.lngLat;break;case"ppna":case"ppnot":case"geometry":t=e.lngLat;break;case"etaMarker":case"photo":t=e.point}if(t)return{lon:(0,n.DB)(t[0]),lat:(0,n.DB)(t[1])}}},6002:(e,t,r)=>{"use strict";function n(e,t){if(!t)return e;const r=t.topLeft[0]+t.bottomRight[0],n=t.topLeft[1]+t.bottomRight[1];return{width:Math.max(e.width-r,0),height:Math.max(e.height-n,0)}}r.d(t,{o:()=>n})},76913:(e,t,r)=>{"use strict";function n(e){switch(e){case"bigbullet":case"commercial":return"large";case"middlebullet":return"medium";case"smallbullet":return"small"}return"small"}r.d(t,{Z:()=>n})},10:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(15252);function a(e){switch(e){case"adm_div.district_area":case"adm_div.settlement":case"adm_div.division":case"adm_div.city":case"adm_div.district":case"adm_div.place":case"adm_div.country":case"adm_div.region":case"adm_div.living_area":return"adm_div";case"branch":case"branch.deleted":return"branch";case"building":return"building";case"attraction":return"attraction";case"crossroad":return"crossroad";case"street":return"street";case"route":return"route";case"parking":return"parking";case"road":return"road";case"station.metro":case"station.entrance":case"station":return"station_platform";case"coordinates":return"point";default:return(0,n.H)({message:"Неожиданный тип маркера",level:"error",id:"3smuq",payload:{type:"debug",subtype:"UnexpectedMarkerType",data:e}}),e}}},48391:(e,t,r)=>{"use strict";r.d(t,{h:()=>l,Pj:()=>d,a3:()=>p});var n=r(60218),a=r(57570),i=r(60404),s=r(60985),o=r(56216),c=r(28361);c.o;const l=()=>(0,s.P1)([({entity:e})=>e,({position:e})=>e],((e,t)=>(0,n.uv)(Object.assign(Object.assign({adsId:u(e),entity:{id:e.id===i.k8?void 0:e.id,type:e.id===i.k8?"point":e.type,subtype:"subtype"in e?e.subtype:void 0,segmentInfo:(0,a.U)(e)},geoPosition:"point"in e&&e.point?p(e.point):void 0,hybridEntities:(0,o.c)(e)},function(e){if("branch"!==e.type)return;return{adsSearch:e.stat&&e.stat.is_advertised,mainRubric:e.rubrics?(0,c.o)(e.rubrics):void 0,isDeleted:!!e.is_deleted,org:e.org&&e.org.id,contextRubric:e.stat&&e.stat.rubr}}(e)),{resultClass:e.stat&&e.stat.source_type,personalPriority:e.stat&&e.stat.personal_priority,position:t})))),d=l();function u(e){var t,r,n,a,i,s;if("branch"!==e.type)return;const o=null===(n=null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.buy_here_owner)||void 0===n?void 0:n.find((e=>!!e.ads_id)),c=null===(s=null===(i=null===(a=e.ads)||void 0===a?void 0:a.options)||void 0===i?void 0:i.buy_here)||void 0===s?void 0:s.find((e=>!!e.ads_id));return c?c.ads_id:o?o.ads_id:void 0}function p(e){let t=e.lon%360,r=e.lat%180;return t<-180?t+=360:t>180&&(t-=360),r<-90?r+=180:r>90&&(r-=180),{lon:t,lat:r}}},68059:(e,t,r)=>{"use strict";function n(e){var t,r,n;if("branch"!==e.type)return;const a=null===(n=null===(r=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.buy_here)||void 0===n?void 0:n.find((e=>!!e.is_primary&&!e.videos&&!e.images));return a?{adsBuyHere:a,adsPosition:"buyHere"}:void 0}r.d(t,{k:()=>n})},57570:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});const n=e=>{const{locale:t,region_id:r,segment_id:n}=e;if(!t)return;if(!r&&!n)return;const a="0"===r?n:r;return a?{baseLocale:t,segmentId:a}:void 0}},11:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(62181);function a(e){var t,r,a,i;const{entity:s,format:o,ctx:{tp:c,dateFns:l}}=e;if(!("flags"in s)||!(null===(t=s.flags)||void 0===t?void 0:t.temporary_closed))return;const d=null===(a=null===(r=s.flags)||void 0===r?void 0:r.temporary_closed_parameters)||void 0===a?void 0:a.value,u=d?(0,n.l)({isoDate:d,currentDate:new Date,onlyDate:!0},{tp:c,dateFns:l}):void 0;switch(null===(i=s.flags)||void 0===i?void 0:i.temporary_closed){case"unknown":return"short"===o?c._t("Филиал временно не работает"):u?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе %1",[u]):c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании.");case"opening_soon":return"short"===o?c._t("Скоро открытие"):u?c._t("Компания откроет здесь новый офис %1",[u]):c._t("Компания скоро откроет здесь новый офис. Уточняйте информацию у компании.");case"covid19":default:return"short"===o?c._t("Филиал закрыт для посещения"):c._t("Компания закрыла свой офис, но, возможно, предоставляет услуги онлайн или через доставку. Уточните по телефону")}}},48851:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});const n=e=>{const t=e.match(/(\+|-)?\d\d:\d\d$/);return(null==t?void 0:t[0])||"+00:00"}},89882:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});const n=["open_card","search_by_org","search_by_query","search_by_rubric","phone","order","link","search_buy_here"];function a(e,t,r=n){const a=e.filter((e=>-1!==r.indexOf(e.type)));return a.find((e=>{const r=!!e.platforms&&-1!==e.platforms.indexOf(t),n=!e.platforms||!e.platforms.length;return r||n}))||a[0]}},13299:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});const n=["ae","cl","cz","cy","it"],a={min:2,max:20},i={min:2,max:16},s={min:9,max:20},o={min:9,max:16};function c(e){const{project:t,is3d:r,hasTmpZoomLimits:c}=e;let l=r?a:i,d=0;return c?r?s:o:(t&&(n.includes(t.country_code)&&(l=r?s:o),d=t.zoom_level.max),{min:l.min,max:Math.max(d,l.max)})}},67908:(e,t,r)=>{"use strict";function n(e){return e.replace("http://","https://")}r.d(t,{J:()=>n})},17506:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(60218);function a(e){if(!e)return!1;const t=(0,n.CE)(e,["options"]);return!(0,n.xb)(t)}},74264:(e,t,r)=>{"use strict";function n(e){return"branch"===e.type}r.d(t,{J:()=>n})},2910:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});const n=e=>"building"===e.type},6319:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=e=>"adm_div"===e.type&&"city"===e.subtype},2889:(e,t,r)=>{"use strict";function n(e){return"branch"===e.type&&(!(!e.dates||!e.dates.deleted_at)||!!e.is_deleted)}r.d(t,{t:()=>n})},39662:(e,t,r)=>{"use strict";function n(e){const t="reviews"in e?e.reviews:void 0;return!!t&&!!t.items&&t.items.some((e=>e.is_reviewable))}r.d(t,{s:()=>n})},73770:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});const n=["open_card","search_by_org","search_by_query","search_by_rubric","order","search_buy_here"];function a(e){return-1===n.indexOf(e)}},13877:(e,t,r)=>{"use strict";function n(e){switch(e){case"branch":case"station":case"station_entrance":case"station_platform":case"route":return!1;default:return!0}}r.d(t,{M:()=>n})},71687:(e,t,r)=>{"use strict";function n(e){return"group"in e&&!!e.group&&!!e.group.length}r.d(t,{O:()=>n})},42347:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});const n=e=>!(!e||e.temporary)},49014:(e,t,r)=>{"use strict";function n(){return"undefined"!=typeof window&&(navigator.standalone||matchMedia&&matchMedia("(display-mode: standalone)").matches)}r.d(t,{$:()=>n})},77219:(e,t,r)=>{"use strict";function n(e){switch(e.type){case"station":case"station_entrance":case"station_platform":return!0;default:return!1}}r.d(t,{t:()=>n})},6073:(e,t,r)=>{"use strict";function n(e){return!!e&&/\S+@\S+\.\S+/.test(e)}r.d(t,{v:()=>n})},29288:(e,t,r)=>{"use strict";r.d(t,{D:()=>d});var n=r(23008);const a={font11:{3:" :,.!ijlI",4:"frt1",5:"-гyz7",6:"абвеёзкстухчьэяГacehknsuvxFJL2",7:"$₽дийлнопрцъБЕЁЗРТУЬbdgopqABEKPRSTVXYZ0345689",8:"#&—фыАВДИЙКЛНПСХЧЪЭЯwCDGHNU",9:"@жмшюОФЦOQ",10:"щМЫmMW",11:"%ЖШ",12:"№ЩЮ"},font13:{3:" :,.!ijl",4:"ftI",5:"-r1",6:"гyz7",7:"азкстухчьэяacksvxL2",8:"$бвдеёийлнопрцъГЕЁЗТУbdeghnopquEFJPSTVYZ345689",9:"#₽&—АБВКРСХЧЬЯABCDKRUX0",10:"мфыДИЙЛНОПЦЪЭwGHNOQ",11:"@жшщюФ",12:"МЫmMW",13:"%Ж",14:"№ШЩЮ"}};function i(e,t){const r=function(e){const t={};for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];for(const e of n)t[e]=+r}return t}(a[t]);let i=1,s=0;const o=e.split(" ");return o.forEach(((e,t)=>{t>0&&t!==o.length-1&&(s+=r[" "]);let a=0;for(const t of e)a+=r[t]||5;s+=a,s>n.d&&(i++,s=a)})),{width:i>1?n.d:s,lines:i}}const s={name:16,default:13,button:22,exchange:16},o=12,c=14,l=8;function d(e){let t=0,r=0;for(const n of e){const e=u(n);t=Math.max(t,e.width),r+=e.height}return{width:t,height:r}}function u(e){const{width:t,lineCount:r}=m(e),a=p(e)*r;return{width:r>1?n.d:t,height:a}}const p=e=>{var t;switch(null===(t=e[0])||void 0===t?void 0:t.type){case"name":return s.name;case"exchange":return s.exchange;case"link":case"order":return s.button;default:return s.default}},m=e=>{let t=0,r=1;for(const a of e){const s="name"===a.type||"exchange"===a.type?"font13":"font11",d=i(a.text,s);let u=d.width;if("rating"===a.type&&(u+=o),"link"!==a.type&&"order"!==a.type||(u+=2*l),1===e.length){t=u,r=d.lines;break}t>0&&(u+=c),t+=u,t>n.d&&(t=u,r++)}return{width:t,lineCount:r}}},54951:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});var n=r(97264);function a(e){switch(e){case"almostClosed":return n.O.orange_ff8800;case"closed":return"#B61919"}return n.O.green_299400}},65513:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(89882);const a=e=>{var t,r;const a=null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.actions;if(a)return(0,n.k)(a,"online",["link","order"])}},23008:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});const n=190},46184:(e,t,r)=>{"use strict";r.d(t,{S:()=>a,E:()=>c});var n=r(46518);const a={passage:"#0f6ec1",walkway:"#626262",crossing:"#626262",default:"#0f6ec1",inactive:"#99aabb",border:"#ffffff",border2:(0,n.X)("#141414",1),"pedestrian-underground":"#626262"},i={img:r(16248).Z,size:[22,22],offset:[11,11]},s={img:r(80732).Z,size:[18,18],offset:[9,9]},o=(e,t)=>({color:t[e],hoveredColor:(0,n.X)(t[e],.8),borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),c=e=>({lineStylesByZoom:{14:{passage:{width:5.73,borderWidth:3,border2Width:.5},walkway:{width:4,borderWidth:2,border2Width:.5},crossing:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5},"pedestrian-underground":{width:4,borderWidth:2,border2Width:.5}},20:{passage:{width:10.5,borderWidth:5.5,border2Width:.8},walkway:{width:5.5,borderWidth:3,border2Width:.5},crossing:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5},"pedestrian-underground":{width:5.5,borderWidth:3,border2Width:.5}}},lineStyles:{passage:o("passage",e),walkway:o("walkway",e),crossing:o("crossing",e),inactive:o("inactive",e),"pedestrian-underground":o("pedestrian-underground",e)},waypointStyles:{start:i,finish:i,pedestrian:s,bus:i,trolleybus:i,tram:i,shuttle_bus:i,metro:i,suburban_train:i,funicular_railway:i,monorail:i,river_transport:i,cable_car:i,light_rail:i,premetro:i,light_metro:i,aeroexpress:i,mcd:i,mcc:i}})},56460:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(94840);function a(e,t){if(0===e.length)return[t];const r=e.findIndex((e=>e.orgId===t.orgId));return-1===r?[...e,t]:(0,n.g)(e,t,r)}var i=r(60353);function s(e,t,r){const n=(0,i.L)(e.orders,t)||{orgId:t,items:[],createdDate:(new Date).getTime()};return Object.assign(Object.assign({},e),{orders:a(e.orders,r(n))})}},42021:(e,t,r)=>{"use strict";r.d(t,{jY:()=>a,$n:()=>i,Db:()=>s,$8:()=>o,ax:()=>c});var n=r(1005);const a={sale:{categoryId:"70241201812761646",defaultTypeId:"1067258717690367200"},rent:{categoryId:"70241201812768719",defaultTypeId:"5049376148110570281"}},i={[a.sale.defaultTypeId]:"Квартира",[a.rent.defaultTypeId]:"Квартира"};function s(e){const t=(0,n.uc)(a).find((t=>a[t].categoryId===e));return t?a[t].defaultTypeId:void 0}function o(e){const t=(0,n.uc)(a).find((t=>a[t].defaultTypeId===e));return t?a[t].categoryId:void 0}function c(e){return(0,n.uc)(a).find((t=>a[t].categoryId===e))}},78198:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(15252),a=r(68701);const i=function(e){const{review:t,orgId:r,ownerName:i,frameId:s}=e,o=(0,a.H)({orgId:r,review:t});if(!o)return void(0,n.H)({message:"Не удалось сформировать payload.reviewItem для события тап в кнопку редактирования отзыва",level:"error",id:"dewf55",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e.review)}});return{action:"tap",uiElement:{name:"myReviewEdit",ownerName:i,frameUuid:s},payload:{reviewItem:Object.assign({},o)}}}},96496:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(34751),a=r(11014);function i(){n.tO.local.removeItem(a.T)}},11014:(e,t,r)=>{"use strict";r.d(t,{T:()=>a,z:()=>i});var n=r(34751);const a="savedReview";function i(e){n.tO.local.setItem(a,JSON.stringify(e))}},65856:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(51975),a=r(68650);function i(e,t){const r=(0,a.lR)(e,(0,a.Nk)(t));return r?r.type===n.i8.opened||r.type===n.i8.aroundTheClock?"open":r.type===n.i8.willCloseInMinute||r.type===n.i8.willCloseInMinuteForBreak||r.type===n.i8.willCloseInTime||r.type===n.i8.willCloseInTimeForBreak?"almostClosed":"closed":"closed"}},52718:(e,t,r)=>{"use strict";function n(e,t){return void 0===t.width&&void 0!==t.height?e.replace("{height}",t.height.toString()).replace("w={width}","").replace("&",""):void 0!==t.width&&void 0===t.height?e.replace("{width}",t.width.toString()).replace("h={height}","").replace("&",""):void 0!==t.width&&void 0!==t.height?e.replace("{width}",t.width.toString()).replace("{height}",t.height.toString()):e.replace("h={height}","").replace("w={width}","").replace("&","").replace("?","")}r.d(t,{B:()=>n})},5791:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});function n(e,t){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1"+(t&&t.isBreakable?" ":" "))}},18873:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var n=r(71456);function a(e,t){const r=t.addressSeparator+" ";switch(e.type){case"branch":case"building":if(e.address){return(0,n.O5)(e.type,e.address,{order:t.addressOrder,separator:r,useSingleComponentForBranch:!1,useBuildingNameForBranch:"branch"===e.type&&!e.group}).map((e=>e.value)).join(r)}}}},61375:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(60218),a=r(9931);function i(e,t,r){var i,s;const o=null===(i=e.name_ex)||void 0===i?void 0:i.extension;return[e.name_ex&&o?(null===(s=e.name_ex)||void 0===s?void 0:s.primary)+t+o:e.name,(0,a.z)(r,e)].filter(n.Gg).join(t)}},23138:(e,t,r)=>{"use strict";function n(e){var t,r;return"search_attributes"in e&&(null===(t=e.search_attributes)||void 0===t?void 0:t.suggested_text)?null===(r=e.search_attributes)||void 0===r?void 0:r.suggested_text:void 0}r.d(t,{R:()=>n})},9931:(e,t,r)=>{"use strict";r.d(t,{z:()=>c,R:()=>l});var n=r(60218),a=r(29940),i=r(23138),s=r(18873),o=r(61375);function c(e,t){switch(t.type){case"street":return e._t("улица");case"road":return e._t("дорога");case"station":switch(t.subtype){case"railway":return e._t("станция");case"metro":return""}return e._t("остановка");case"route":return function(e,t){if("metro"===t)return"";const r={bus:e._t("автобус"),trolleybus:e._t("троллейбус"),tram:e._t("трамвай"),shuttle_bus:e._t("маршрутное такси"),suburban_train:e._t("электричка"),funicular_railway:e._t("фуникулер"),monorail:e._t("монорельсовая дорога"),river_transport:e._t("речной транспорт"),cable_car:e._t("канатная дорога"),light_rail:e._t("скоростной трамвай"),premetro:e._t("метротрам"),light_metro:e._t("лёгкое метро")};return t&&r[t]||e._t("маршрут")}(e,t.subtype)}if("adm_div"===t.type)switch(t.subtype){case"district":return e._t("район")}return""}function l({tp:e,config:t},r){var l;if("history"===r.type&&r.text)return r.text;const d=(0,i.R)(r)||"";if("market"===r.type)return r.name||d;const{entity:u}=r;if(!u)return d;const p="search_attributes"in r&&!!(null===(l=r.search_attributes)||void 0===l?void 0:l.dgis_found_by_address),m=t.comma+" ";let h;switch(u.type){case"adm_div":case"station":h=[u.name,c(e,u)].filter(n.Gg).join(m);break;case"parking":h=u.name;break;case"branch":h=p&&(0,s.i)(u,t)||(0,o.L)(u,m,e);break;case"rubric":case"street":h=u.name&&d&&d.toLowerCase()!==u.name.toLowerCase()?d:u.name;break;case"attraction":h=u.name||u.subtype_name;break;case"building":h=p?(0,s.i)(u,t)||u.name:u.building_name||(0,s.i)(u,t)||u.name;break;case"road":case"route":h=[(0,a.Ez)(c(e,u)),u.name].filter(n.Gg).join(" ");break;case"attribute":h=u.extend&&u.extend.subcode_label&&!d.toLowerCase().includes(u.extend.subcode_label.toLowerCase())?u.extend.subcode_label:void 0;break;case"directory":h=(0,a.Ez)(d);break;case"org":h=function(e,t){if(!e.name_ex||!e.name_ex.primary)return e.name;if(e.name_ex.extension)return[e.name_ex.primary,e.name_ex.extension].join(t);const r=e.rubrics&&e.rubrics[0]&&e.rubrics[0].name;if(r)return[e.name_ex.primary,(0,a.gs)(r)].join(t);return e.name_ex.primary}(u,m);break;case"market.category":case"market.attribute":case"market.brand":h=u.name}return h||d}},82080:(e,t,r)=>{"use strict";function n(e){return!("object"!==e.type||!e.search_attributes)&&3===e.search_attributes.handling_type}r.d(t,{F:()=>n})},31833:(e,t,r)=>{"use strict";function n(e,t){const r=e.floors&&e.floors.ground_count;if(r)return t._nt(["%%&nbsp;этаж","%%&nbsp;этажа","%%&nbsp;этажей"],r)}r.d(t,{X:()=>n})},87725:(e,t,r)=>{"use strict";function n(e,t){switch(e){case"bus":return t._t("Автобус");case"suburban_train":return t._t("Электричка");case"trolleybus":return t._t("Троллейбус");case"tram":return t._t("Трамвай");case"shuttle_bus":return t._t("Маршрутка");case"metro":return t._t("Метро");case"river_transport":return t._t("Речной транспорт");case"funicular_railway":return t._t("Фуникулер");case"monorail":return t._t("Монорельс");case"cable_car":return t._t("Канатная дорога");case"light_rail":return t._t("Скоростной трамвай");case"premetro":return t._t("Метротрам");case"light_metro":return t._t("Лёгкое метро");case"aeroexpress":return t._t("Аэроэкспресс");case"mcc":return t._gg("МЦК");case"mcd":return t._gg("Московский центральный диаметр");default:return t._t("Транспорт")}}r.d(t,{F:()=>n})},31110:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});var n=r(64806);const a=e=>{const{dayItem:t,tp:r,dateFns:a,is12h:i}=e,{start_hour:s,start_minute:o,finish_hour:c,finish_minute:l}=t,d=(0,n.jU)(s),u=(0,n.jU)(o),p=(0,n.jU)(c),m=(0,n.jU)(l),h=new Date(0,0,0,Number(d),Number(u),0,0),g=new Date(0,0,0,Number(p),Number(m),0,0),f=a.format(h,i?"hh:mm aaaa":"HH:mm"),v=a.format(g,i?"hh:mm aaaa":"HH:mm");return r._pt("Временной период","%1 - %2",[f,v])},i=e=>{const{wdays:t,tp:r,dateFns:n,is12h:i}=e,s=[];return(e=>{for(let t=1;t<e.length;t++)if(e[t].start_hour!==e[t-1].start_hour||e[t].start_minute!==e[t-1].start_minute||e[t].finish_hour!==e[t-1].finish_hour||e[t].finish_minute!==e[t-1].finish_minute)return!1;return!0})(t)?a({dayItem:t[0],tp:r,dateFns:n,is12h:i}):(t.forEach((e=>{const t=((e,t,r,n)=>{const i=a({dayItem:e,tp:t,dateFns:r,is12h:n}),s=(e=>{const{day:t,tp:r}=e;switch(t){case"sun":return r._t("Вс");case"mon":return r._t("Пн");case"tue":return r._t("Вт");case"wed":return r._t("Ср");case"thu":return r._t("Чт");case"fri":return r._t("Пт");case"sat":return r._t("Сб");default:return}})({day:e.day,tp:t});return t._pt("Временной период","%1. - %2",[s,i])})(e,r,n,i);s.push(t)})),s.join("; "))};var s=r(31137);const o=e=>{var t,r,n;const{event:a,dateFns:o,tp:c,is12h:l,offset:d}=e;switch(a.type){case"restriction":return(e=>{const{startTime:t,finishTime:r,dateFns:n,wdays:a,tp:o,is12h:c,offset:l}=e;let d;const u=(e,t)=>n.format((0,s.t)(1e3*e,t),"d MMMM yyyy HH:mm");if(t&&r){const e=u(t,l),n=u(r,l);d=o._t("%1 – %2",[e,n])}if(t&&!r){const e=u(t,l);d=o._t("С %1",[e])}if(!t&&r){const e=u(r,l);d=o._t("По %1",[e])}const p=(null==a?void 0:a.length)?i({wdays:a,tp:o,dateFns:n,is12h:c}):void 0;return p&&d?o._pt("Временной период","%1: %2",[d,p]):p||d})({startTime:null===(t=a.data)||void 0===t?void 0:t.start_time,finishTime:null===(r=a.data)||void 0===r?void 0:r.finish_time,wdays:null===(n=a.data)||void 0===n?void 0:n.wdays,dateFns:o,tp:c,is12h:l,offset:d});default:return function(e,t){const r=new Date,n=new Date(e);return+r-e<864e5?t.formatDistanceStrict(n,r,{addSuffix:!0}):t.format(n,"d MMMM yyyy")}(1e3*a.timestamp,o)}};function c(e,t,r,n,a){const i="2gis"===e.user.id?n.brandName:e.user.name,s=[],c=o({event:e,dateFns:r,tp:t,is12h:n.is12h,offset:a});return c&&s.push(c),i&&s.push(i),s.join(`${n.comma} `)}},17586:(e,t,r)=>{"use strict";function n(e){return!e.new_email&&(!!e.email&&!e.email_confirmed)}function a(e){return!(!e.email&&!e.new_email)&&(!!e.new_email&&e.new_email!==e.email)}r.d(t,{N:()=>n,j:()=>a})},32563:(e,t,r)=>{"use strict";function n(e){var t;return(null===(t=e.match(/(\d+(?:\.\d+)? \d+(?:\.\d+)?)/g))||void 0===t?void 0:t.map((e=>e.split(" ").map(parseFloat))))||[]}r.d(t,{J:()=>n})},21131:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var n=r(2784);const a=e=>{const t=(e=>{const[,t]=(0,n.useReducer)((e=>e+1),0),r=(0,n.useRef)(null),{replace:a,append:i}=e,s=a?a(e.format(e.value)):e.format(e.value),o=(0,n.useRef)(!1);return(0,n.useLayoutEffect)((()=>{if(null==r.current)return;let[n,o,c,l,d]=r.current;r.current=null;const u=l&&d,p=n.slice(o.selectionStart).search(e.accept||/\d/g),m=-1!==p?p:0,h=t=>(t.match(e.accept||/\d/g)||[]).join(""),g=h(n.substr(0,o.selectionStart)),f=e=>{let t=0,r=0;for(let n=0;n!==g.length;++n){let a=e.indexOf(g[n],t)+1,i=h(e).indexOf(g[n],r)+1;i-r>1&&(a=t,i=r),r=Math.max(i,r),t=Math.max(t,a)}return t};if(!0===e.mask&&c&&!d){let e=f(n);const t=h(n.substr(e))[0];e=n.indexOf(t,e),n=`${n.substr(0,e)}${n.substr(e+1)}`}let v=e.format(n);null==i||o.selectionStart!==n.length||d||(c?v=i(v):""===h(v.slice(-1))&&(v=v.slice(0,-1)));const y=a?a(v):v;return s===y?t():e.onChange(y),()=>{let t=f(v);if(null!=e.mask&&(c||l&&!u))for(;v[t]&&""===h(v[t]);)t+=1;o.selectionStart=o.selectionEnd=t+(u?1+m:0)}})),(0,n.useEffect)((()=>{const e=e=>{"Delete"===e.code&&(o.current=!0)},t=e=>{"Delete"===e.code&&(o.current=!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),{value:null!=r.current?r.current[0]:s,onChange:n=>{const a=n.target.value;r.current=[a,n.target,a.length>s.length,o.current,s===e.format(a)],t()}}})(e);return e.children(t)}},67551:(e,t,r)=>{"use strict";r.d(t,{G:()=>d});var n=r(40597),a=r(81870),i=r(91437),s=r(20999),o=r(31253),c=r(96421),l=r(59554);function d(){return(0,a.Mf)((0,n.lD)({isViewportChanged:!0}),(0,a.xJ)((e=>{const t=(0,i.Di)(e.appContext.frames);if(!t||"query"!==t.searchType)return(0,a.ZT)();const{query:r,tabMarket:n}=t;return(0,s.G)((0,c.NP)({state:e,searchId:n.searchId}))?(0,l.zh)((e=>(0,o.g7)({query:r,buildingId:n.buildingId,searchId:n.searchId,filtersId:n.filtersId.actual,page:n.page.actual,filters:n.filterValues,viewpoint:e}))):(0,a.ZT)()})))}},54603:(e,t,r)=>{"use strict";r.d(t,{p4:()=>n,BU:()=>a,AS:()=>i,sZ:()=>s,CH:()=>o,Kr:()=>c,MT:()=>l,QZ:()=>d,iH:()=>u,rP:()=>p,yQ:()=>m,yJ:()=>h,Tq:()=>g,tC:()=>f,fN:()=>v,g$:()=>y,So:()=>b});const n=5,a=1280,i=700,s=18,o=16,c=2,l=10,d="car",u=2,p=840,m={tUgc:0,default:1,favorites:2,czars:3},h=["novosibirsk","omsk","moscow","spb","kemerovo","krasnoyarsk","ekaterinburg","tyumen","chelyabinsk","krasnodar"],g=["supermarket","education","kindergarten","hospital","pharmacy","sport","culture","bar"],f=["#025d29","#00883d","#05ac4b","#5fcc56","#b0e46e","#e5f497","#ffed98","#ffc76c","#ff914a","#ff5631","#eb2320","#b6001d"],v=["#0c7805","#7fcd33","#ffd46c","#ff5631"],y=24,b=10},47525:(e,t,r)=>{"use strict";r.d(t,{M:()=>c,c:()=>l});var n=r(15887),a=r(2784),i=r(14670),s=r(75873);const{use:o}=(0,n.r)("tUGC events",(e=>({services:t})=>{const{regionCode:r}=e;return r?Promise.all([t.tUgcApi.getUserLayers({regionCode:r}),t.tUgcApi.get2GisLayers({regionCode:r})]):void 0}));function c(e){const t=(0,i.v9)(s.kL),r=(0,i.v9)((e=>e.appContext.showTrafficOnMap))&&(null==t?void 0:t.flags.traffic)?null==t?void 0:t.code:void 0,{data:n}=o({regionCode:r},e);return(0,a.useMemo)((()=>null==n?void 0:n.reduce(((e,t)=>[...e,...t.items]),[])),[n])}function l(e){const{id:t}=e,r=c({staleTime:1/0});return(0,a.useMemo)((()=>null==r?void 0:r.find((e=>e.id===t))),[r,t])}},27337:(e,t,r)=>{"use strict";r.d(t,{c:()=>c});var n=r(5163),a=r(15887),i=r(52718);function s({id:e,url:t,user:r,timestamp:n,preview_url:a}){return{id:e,url:t,creation_time:new Date(1e3*n).toISOString(),modification_time:new Date(1e3*n).toISOString(),owner:{id:r.auth_id||r.id,name:r.name},status:"active",block_reason:"",is_main:!0,is_visible:!0,preview_urls:{"600x600":(0,i.B)(a,{width:600,height:600}),"300x300":(0,i.B)(a,{width:300,height:300}),"100x100":(0,i.B)(a,{width:100,height:100})}}}const{use:o}=(0,a.r)("tUGC photos",(e=>({services:t})=>(0,n.mG)(void 0,void 0,void 0,(function*(){return(yield t.tUgcApi.getPhotos(e)).items.map(s)}))));function c(e){const{data:t,isFetching:r}=o(e?{eventId:e}:void 0);return{data:t,isFetching:r}}},31078:(e,t,r)=>{"use strict";var n=r(4390),a=r(96742);const i={lang:"ru",rtl:!1,quotationStart:"«",quotationEnd:"»",comma:",",numbersShort:"# ##0,###",numbersStandard:"# ##0,###",currencyShort:"# ##0,## ¤",currencyStandard:"# ##0,00 ¤",addressSeparator:",",currencies:{RUB:"₽",EUR:"€",UAH:"₴",AED:"AED",KZT:"T",KGS:"c",CZK:"Kč",CLP:"clp.",UZS:"so‘m",AZN:"₼",USD:"$"},isCyrillicLang:!0},s={is12h:!1,weekStartsOn:"Mon",countryCurrency:"RUB",countryPhoneCode:"+7",addressOrder:"straight",alwaysIncludeDivisionInDrilldown:!1,excludeCityFromFirmAddress:!1,useLandmark:!1,landmarkOrientation:"to",dashboardCarouselItems:["conference-2gis-2021","realty","interesting","guidebook"],featureRealty:!0,featureFullCoveragePPNG:!0,bssSendingMode:"full",featurePersonalDataAgreement:!1,featurePresentationPromo:!0},o=Object.assign(Object.assign({},s),{dashboardCarouselItems:["interesting","guidebook"],featureRealty:!1,featureFullCoveragePPNG:!1,bssSendingMode:"none",featurePersonalDataAgreement:!1,featurePresentationPromo:!1});const c={supportedLangs:r(54042).a,defaultCountryCode:"RU",cookieDomain:".2gis.ru",baseDomain:"2gis.ru",analytics:{},mapsapiTileServer:"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&r=g",mapsapiTileset:"online_sd",mapsapiRetinaTileset:"online_hd",jakartaZmkTileServer:"//tile{s}.maps.2gis.com/ald?x={x}&y={y}&z={z}&ts=ald&type=buyhere",photoTileServer:"//tile{s}.maps.2gis.com/ald?x={x}&y={y}&z={z}&ts=ald&type=mainphoto",jakartaTileServer:"",jakartaTileProtocol:"",jakartaTileSet:"",jakartaFloorsUrl:"",socialNetworks:{vkontakte:"https://vk.com/2gis",facebook:"https://fb.com/2GISRussia",twitter:"https://twitter.com/2gis",instagram:"https://www.instagram.com/2gis/",telegram:"https://telegram.me/twogis"},isSharedSocialNetworkEnabled:{facebook:!1,ok:!1,twitter:!1,vkontakte:!1},ugcRulesUrl:"http://law.2gis.ru/informational-requirements/",licenseAgr:"http://law.2gis.ru/licensing-agreement/",dataSales:"https://content.2gis.ru/",desktopAppLink:"",businessLink:"",businessLinkWithoutRegion:"",showDataSalesLink:!0,showCallCenterNumber:!1,isTaxiBannerEnabled:!1,showJobLink:!1,showApi2gisLink:!0,isEuDomain:!1,domainHasLimitedFunctionality:!1,featureAgents:!1,featureDashboardGTA:!1},l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a.v),{port:0,godmode:!1,prettyLogs:!1,photosPerPageInUserProfile:20,staticPath:"/public/",networkTimeout:3e4,analyticsAutoTrackPageview:!0,isCountryRedirectsEnabled:!0,enabledDomains:["ru","ua","kz","kg","cl","ae","sa","cy","uz","az","it","cz"],isDxEnabled:!0,ssoUrl:"https://2gis.ru/_/sso",jurisdictionCode:"ru_sng",jurisdictionStatus:"unknown",brandName:"2GIS",brandCode:"2gis",privacyUrl:"https://law.2gis.ru/privacy",appsFlyerBaseLinks:{ios:"https://2gis.onelink.me/",android:"https://2gis.onelink.me/"},isSearchBot:!1,mobileRedirect:!0,mobileRedirectHostname:"m",isConfigOverridden:!1,mapType:"3d",bundleVersion:"es6",jakartaVectorTilesKey:"",availableExperiments:[],experiments:[],featureCart:!1,featureRealty:!1,featureAdaptiveRedirect:!1,featureBroadcast:!0,featureAgents:!1,featurePhotoInReviews:!0,featureUrbiRedirect:!1,featureDashboardGTA:!1,reduxLogger:!1,xhrEnableTestHandles:!1,featureExchange:!1,realtyMapStyleId:"2242a815-32c1-4b57-a291-4164b03d9234",grayMapStyleId:"760af037-7450-48cd-ae98-49dc13902a05",featureBackTo2004:!1,customMapStyleId:"eb10e2c3-3c28-4b81-b74b-859c9c4cf47e",featureRealtyIsochrones:!0,featureFullCoveragePPNG:!1,bssSendingMode:"full",featurePersonalDataAgreement:!1,featureClickAndCollect:!1,featureReduceUGCForSeo:!1,isHumanFromSeo:!1,featurePromoForSeoHuman:!1,featureRoadAccidentHeatmap:!1,featurePhone:!1,featurePhoneLaw:!1,featureQuickFavorite:!1}),c),o),i),d=Object.assign(Object.assign({},l),{clientId:"34",port:3001,photoApiKey:"gYu1s9N1wP",messengerPlatform:"online",dataFeedbackSource:"online",searchDeviceType:"desktop",isMobileDevice:!1,photosPerPage:9999,featureReduceUGCForSeo:!1});var u=r(2784),p=r(28316),m=r(93538),h=r(75873);function g(e){return t=>r=>n=>{switch(n.type){case"UI/SET_LANG":{const r=(0,h.kL)(t.getState()),a=r&&r.country_code||"ru";e.setLocale({lang:n.payload.lang,countryCode:a});break}case"I18N/SET_LOCALE":e.setLocale(n.payload)}return r(n)}}function f(e){return t=>r=>n=>{if("I18N/WITH_INTL"===n.type){const r=n.payload(e);if(r)return t.dispatch(r)}return r(n)}}var v=r(71758);var y=r(89965),b=r(96421),w=r(15640),I=r(4447);const E=e=>({title:e}),C=({state:e,entityId:t,brandName:r})=>{const n=(0,y.nM)({state:e,entityId:t}).data;if(n)switch(n.type){case"branch":return n.name_ex.extension?{title:`${n.name_ex.primary}, ${n.name_ex.extension} — ${r}`}:{title:`${n.name_ex.primary} — ${r}`};case"attraction":return{title:`${n.name||n.subtype_name} — ${r}`};case"route":case"building":case"station_platform":case"street":case"adm_div":case"crossroad":case"parking":case"gate":case"road":return n.name?{title:`${n.name} — ${r}`}:E(r);default:return E(r)}return E(r)};function x(e,t){const r=e.appContext.frames[0],{brandName:n}=t;if(!r){const t=(0,h.Z_)(e);return{title:`${t.admDiv.data&&t.admDiv.data.name||"Global"} — ${n}`}}switch(r.type){case"entity":return C({state:e,entityId:r.entityId,brandName:n});case"search":return((e,t)=>"search"===e.type&&e.query?{title:`${e.query} — ${t}`}:E(t))(r,n);case"gallery":return C({state:e,entityId:r.entityId,brandName:n});case"product":return(({state:e,productId:t,brandName:r})=>{const n=(0,b.Gt)({state:e,productId:t}).data;return n?{title:`${n.product.name} — ${r}`}:E(r)})({state:e,productId:r.productId,brandName:n});default:return E(n)}}const k=function(){let e;return(t,r,n)=>{const a=x(t.getState(),n);a&&!(0,w.Z)(e,a)&&(e=a,window.isServerRendered||(r.setTitle(a.title),t.dispatch((0,I.T)())))}}();function _(e,t){return r=>n=>a=>{n(a),k(r,e,t)}}var O=r(27791),S=r(13846),z=r(81870),M=r(68426),j=r(78185),T=r(90961),N=r(18521),P=r(54603);var L=r(88348),F=r(43993),R=r(63792),H=r(60218);const D=(0,z.gQ)("openVideoPlayer",(({videoUrl:e,cover:t,link:r})=>{const n=(0,H.by)();return(0,R.Mw)({id:n,type:"videoPlayer",isPopupGlassDark:!0,videoUrl:e,cover:t,link:r})}));var B=r(11883),A=r(71846),V=r(88835);function Z(){const e="ryan";return(0,z.Mf)((0,L.Oo)({id:e,type:"window:popstate",handler:e=>(0,T.dc)(e.state)}),(0,L.Oo)({id:e,type:"window:resize",handler:()=>(0,z.vP)((0,j.nc)((()=>{if("undefined"==typeof document)return{width:P.BU,height:P.AS};const e=document.body,t=document.documentElement;return{width:Math.max(e.offsetWidth,t.clientWidth,t.offsetWidth),height:Math.max(e.offsetHeight,t.clientHeight,t.offsetHeight)}})()),(0,N.en)())}),(0,L.Oo)({id:e,type:"window:message",handler:e=>function(e){if(e.data)try{const t=JSON.parse(e.data);if("mkb"===t.type&&t.source&&t.source.mp4)return D({videoUrl:"//"+t.source.mp4,cover:t.cover&&"//"+t.cover,link:t.link&&"//"+t.link});if("mkb"===t.type&&t.id)return(0,z.vP)((0,V.IW)(),(0,A.xo)({id:t.id,type:"branch"}));if("state"===t.type&&t.url)return(0,B.k)({url:t.url})}catch(e){}return(0,z.ZT)()}(e)}),(0,L.Oo)({id:e,type:"common:escapeKeyUp",handler:()=>(0,F.rA)()}),(0,L.Oo)({id:e,type:"common:arrowLeftKeyDown",handler:()=>(0,F.$q)("backward")}),(0,L.Oo)({id:e,type:"common:arrowRightKeyDown",handler:()=>(0,F.$q)("forward")}),(0,L.Oo)({id:e,type:"common:spaceKeyDown",handler:()=>(0,F.$q)("forward")}),(0,L.Oo)({id:e,type:"common:arrowUpKeyDown",handler:()=>(0,F.$q)("backward")}),(0,L.Oo)({id:e,type:"common:arrowDownKeyDown",handler:()=>(0,F.$q)("forward")}),(0,L.Oo)({id:e,type:"myGeolocation:update",handler:e=>(0,F.CV)(e)}),(0,L.Oo)({id:e,type:"myGeolocation:error",handler:e=>(0,F.oD)(e)}))}var U=r(24973),$=r(29514),W=r(37346);const q=(0,W.mq)("I18N/SET_LOCALE");(0,W.mq)("I18N/SYNC_LANG");var G=r(59554);var Q=r(11052),K=r(82568),J=r(2613),X=r(56495),Y=r(52684);function ee(){return(0,z.Mf)((0,Y.m)({value:!1}),(0,J.yy)({showSlugsNeededOnlyForStartup:!1}),(0,M.zA)({timezone:(new Date).getTimezoneOffset()}),function(){const e=(0,H.by)();return(0,z.vP)((0,j.wI)({tabId:e}),(0,G.gF)({currentAdmDiv:h.Z_,refererHost:e=>e.session.refererHost,utm:e=>e.session.utm,startURL:e=>e.session.startURL,dataLocale:Q.O,statHash:e=>e.session.statHash,searchFrameQuery:e=>{const t=e.appContext.frames[0];return t&&"search"===t.type&&"query"===t.searchType?t:void 0},sessionId:e=>e.session.sessionId},(({currentAdmDiv:t,refererHost:r,utm:n,startURL:a,dataLocale:i,statHash:s,searchFrameQuery:o,sessionId:c})=>{window.__bss={tabId:e,sessionId:c};const l=t.admDiv.data&&t.admDiv.data.overlapRegionId||"0";let d;return s&&(d=(0,K.d)(s)),(0,$.X)({overlapRegionId:l,refererHost:r,utm:n,link:a,dataLocale:"0"===l?void 0:i,crossTab:d,searchFrameParams:o&&{frameId:o.id,query:o.query,rubricId:o.tabCatalog.rubricId}})})))}(),Z(),(0,G.gF)({region:h.kL,lang:e=>e.appContext.lang},(({region:e,lang:t})=>{const r=e&&e.country_code||"ru";return q({lang:t,countryCode:r})})),(0,z.xJ)((e=>e.session.is3dEnabled?"force_3d"===(0,X.z)("is3dDisabled")?(0,j.Tj)({is3dEnabled:!0}):(0,j.Tj)({is3dEnabled:(0,U.isWebGlAvailable)()}):(0,z.ZT)())),(0,M.mn)({time:Date.now()}),(0,j.nc)({width:window.innerWidth,height:window.innerHeight}))}var te=r(97883),re=r(15252);function ne(e){const{activeLayer:t,activeSublayer:r,zoom:n,rotation:a,pitch:i}=e.appContext;return{map:{inviewport:(0,te.ls)(e),zoomLevel:n,rotation:a,pitch:i,enabledMapLayers:t?[{name:ae(t)}]:void 0,enabledMapSubLayers:r?[{name:ie(r)}]:void 0}}}function ae(e){switch(e){case"eta":return"ctxLayer";case"realty":return"realtyLayer";case"photos":return"photosLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"backTo2004":return"backTo2004Layer";case"roadAccident":return"trafficIncidentLayer";case"parkings":return"parkings";default:return void(0,re.H)({message:`Не удалось получить название слоя для поля map.enabledMapLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"q2ee0",payload:{type:"debug",subtype:"BssTrackerV3"}})}}function ie(e){switch(e){case"realtyPriceSale":return"realtyBuySubLayer";case"realtyPriceRent":return"realtyRentSubLayer";case"realtyWalkDistance":return"realtyWalkDistanceSubLayer";case"realtyIsochroneWalking":return"realtyPedestrianIsochrone";case"realtyIsochroneDriving":return"realtyCarIsochrone";default:return void(0,re.H)({message:`Не удалось получить название подслоя для поля map.enabledMapSubLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"fw42g",payload:{type:"debug",subtype:"BssTrackerV3"}})}}var se=r(94822);const oe=[["search","entity"],["search","product"],["product","entity"],["directions","direction"],["userProfile","collection"],["userProfile","currentReview"],["userProfile","entity"],["userProfile","achievements"],["publicFavorites","collection"],["collection","entity"],["entity","collection"],["prices","offer"],["prices","offers"],["prices","offers","offer"],["directions","entity"],["rubricator","rubric"],["entity","unconfirmedReviews"],["directions","tUgc"],["search","tUgc"],["entity","unconfirmedReviews","currentReview"],["entity","currentReview"],["entity","offer"],["entity","userFriendsActivity"],["realty","realtyCard"],["realty","entity"],["exchange","entity"]];const ce=[["entity","pending","direction","error","tUgc","realtyCard"]];function le(e,t){let r=[...e];var n,a;r[0]&&(n=r[0].type,a=t.type,n===a||ce.find((e=>e.includes(n)&&e.includes(a))))&&(r[0].victimsId&&(t.victimsId=r[0].victimsId),r=r.slice(1)),r=[t,...r];const i=oe.find((e=>{const t=[...e].reverse();return!(r.length<t.length)&&t.every(((e,t)=>{return("search"===(n=r[t]).type&&"offers"===n.searchType?n.searchType:"pending"===n.type?"entity":n.type)===e;var n}))}));return i?r.slice(0,i.length):[t]}function de(e,t){return e.reduce(((e,r)=>r.every((e=>!!t.find((t=>t.id===e.id))))?e:[...e,r]),[])}var ue=r(2615);var pe=r(77858);const me={frames:[],graveyard:[],staticFrames:{map:{id:""},sidebar:{id:""},dashboard:{id:""}},center:{lat:55.035257,lon:82.901115},zoom:11,rotation:0,pitch:0,lang:"ru",defaultLocale:"ru_RU",activeLayer:void 0,activeSublayer:void 0,weak:{dashboard:{transitions:{rubricsId:(0,ue.Ue)(""),gtaId:(0,ue.Ue)("")}},rubricator:{transition:(0,ue.Ue)("")},rubric:{transition:(0,ue.Ue)("")},markers:{catalog:{},realty:{}},suggests:{},notifications:[],productsSearchCount:0,emailVerificationStatus:void 0,mapInteractionStarted:!1,isMapViewRepresentedInOriginalRequest:!1,isClearRootPageStart:!1,showSlugsNeededOnlyForStartup:!0,isLangRepresentedInOriginalRequest:!0,showPrivacyPolicyBanner:!1},ruler:{isActive:!1,points:[]},showTrafficOnMap:!1,messenger:{isOpen:!1},doubleclick:{}},he=[function(e,t){switch(t.type){case"MAP/SYNC_VIEW":return function(e,t){const r={};void 0!==t.lat&&void 0!==t.lon&&(r.center={lon:t.lon,lat:t.lat});void 0!==t.zoom&&(r.zoom=t.zoom);void 0!==t.rotation&&(r.rotation=t.rotation);void 0!==t.pitch&&(r.pitch=t.pitch);return Object.assign(Object.assign({},e),r)}(e,t.payload);case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{floors:{floorsId:t.id,currentFloor:t.currentFloor}})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{floors:void 0})}(e);case"MAP/SELECT_FLOOR":return function(e,t){if(!e.floors)return e;return Object.assign(Object.assign({},e),{floors:Object.assign(Object.assign({},e.floors),{currentFloor:t.floorIndex})})}(e,t.payload);case"UI/SET_DEFAULT_LOCALE":return Object.assign(Object.assign({},e),{defaultLocale:t.payload.locale});case"UI/SET_LANG":case"I18N/SYNC_LANG":return Object.assign(Object.assign({},e),{lang:t.payload.lang});case"UI/SET_STATIC_FRAMES_PARAMS":return Object.assign(Object.assign({},e),{staticFrames:{map:{id:t.payload.mapFrameId},sidebar:{id:t.payload.sidebarFrameId},dashboard:{id:t.payload.dashboardFrameId}}});case"UI/SET_RULER":return Object.assign(Object.assign({},e),{ruler:Object.assign(Object.assign({},e.ruler),t.payload)});case"UI/TOGGLE_TRAFFIC":return Object.assign(Object.assign({},e),{showTrafficOnMap:!e.showTrafficOnMap});default:return e}},function(e,t){switch(t.type){case"UI/ADD_FRAME":return function(e,t){const r=e.frames,n=Object.assign({},t.payload),a=le(e.frames,n),i=function(e,t){return!(!e.length||!t.length||e[e.length-1].id===t[t.length-1].id||1===e.length&&1===t.length&&e[0].type===t[0].type&&"tUgc"===e[0].type)}(r,a),s=i?[...e.graveyard,r]:e.graveyard;i&&(n.victimsId=r.map((e=>e.id)));return Object.assign(Object.assign({},e),{frames:a,graveyard:s})}(e,t);case"UI/REMOVE_FRAME":return function(e,t){const r=e.frames.find((e=>t.payload.id===e.id));if(!r)return e;const n=r.victimsId?(a=e.graveyard,i=r.victimsId,a.find((e=>e.every((e=>!!i.find((t=>t===e.id))))))):void 0;var a,i;return Object.assign(Object.assign({},e),{frames:n||e.frames.filter((e=>e.id!==t.payload.id)),graveyard:n?de(e.graveyard,n):e.graveyard})}(e,t);case"UI/REMOVE_RIGHT_FRAMES":return function(e,t){let r=-1;if(e.frames.some(((e,n)=>e.id===t.payload.id&&(r=n,!0))),r<0)return e;return Object.assign(Object.assign({},e),{frames:e.frames.slice(r)})}(e,t);case"UI/REPLACE_FRAME":return function(e,t){const r=function(e,t){let r=!1;const n=e.map((e=>e.id!==t.id||e===t||(0,se.w)(e,t)?e:(r=!0,t)));return r?n:e}(e.frames,t.payload);if(r===e.frames)return e;return Object.assign(Object.assign({},e),{frames:r})}(e,t);case"UI/CLEAR_FRAMES":return function(e){if(!e.frames.length)return e;return Object.assign(Object.assign({},e),{frames:[],graveyard:[]})}(e);case"UI/KILL_FRAMES":return function(e){if(!e.frames.length)return e;const t=e.frames;return Object.assign(Object.assign({},e),{frames:[],graveyard:[...e.graveyard,t]})}(e);case"UI/RESURRECT_FRAMES":return function(e){if(!e.graveyard.length)return Object.assign(Object.assign({},e),{frames:[],graveyard:[]});const t=e.graveyard[e.graveyard.length-1].map((t=>e.frames.find((e=>e.id===t.id))||t));return Object.assign(Object.assign({},e),{frames:t,graveyard:e.graveyard.slice(0,-1)})}(e);default:return e}},function(e,t){switch(t.type){case"UI/OPEN_POPUP":return function(e,t){return Object.assign(Object.assign({},e),{popup:t})}(e,t.payload);case"UI/CLOSE_POPUP":return function(e){if(!e.popup)return e;return Object.assign(Object.assign({},e),{popup:void 0})}(e)}return e},function(e,t){switch(t.type){case"UI/PATCH_MESSENGER":return function(e,t){return Object.assign(Object.assign({},e),{messenger:Object.assign(Object.assign({},e.messenger),t)})}(e,t.payload)}return e},function(e,t){switch(t.type){case"WEAK/SET_DASHBOARD_RUBRICS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{dashboard:Object.assign(Object.assign({},e.weak.dashboard),{transitions:Object.assign(Object.assign({},e.weak.dashboard.transitions),{rubricsId:t})})})})}(e,t.payload);case"WEAK/SET_RUBRICATOR_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubricator:Object.assign(Object.assign({},e.weak.rubricator),{transition:t})})})}(e,t.payload);case"WEAK/SET_RUBRIC_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubric:{transition:t}})})}(e,t.payload);case"WEAK/SET_DASHBOARD_GTA_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{dashboard:Object.assign(Object.assign({},e.weak.dashboard),{transitions:Object.assign(Object.assign({},e.weak.dashboard.transitions),{gtaId:t})})})})}(e,t.payload);case"SUGGEST/SET_SUGGEST_ID":return function(e,t){const r=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},r),{suggestId:t.suggestId})})})})}(e,t.payload);case"SUGGEST/SET_QUERY":return function(e,t){const r=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},r),{query:t.query})})})})}(e,t.payload);case"SUGGEST/TOGGLE":return function(e,t){const r=e.weak.suggests[t.suggesterKey]||{};if(r.show===t.show)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},r),{show:t.show,hasPromo:t.hasPromo,withCustomPlaceholder:t.withCustomPlaceholder,highlightedIndex:void 0})})})})}(e,t.payload);case"SUGGEST/HIGHLIGHT_SUGGESTION":return function(e,t){const r=e.weak.suggests[t.suggesterKey]||{};if(r.highlightedIndex===t.index)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},r),{highlightedIndex:t.index})})})})}(e,t.payload);case"UI/SHOW_NOTIFICATION":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:[...e.weak.notifications,t]})})}(e,t.payload);case"UI/HIDE_NOTIFICATION":return function(e,t){const r=e.weak.notifications.filter((e=>e.id!==t.id));if(r.length===e.weak.notifications.length)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:r})})}(e,t.payload);case"WEAK/MAP_INTERACTION_START":return e.weak.mapInteractionStarted?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{mapInteractionStarted:!0})});case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:{floorNames:t.floorNames,firmsToFloorIndexMap:t.firmsToFloorIndexMap}})})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:void 0})})}(e);case"WEAK/PATCH":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),t)})}(e,t.payload);case"WEAK/SET_CATALOG_MARKERS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{markers:Object.assign(Object.assign({},e.weak.markers),{catalog:{[t.frameId]:t.markersId}})})})}(e,t.payload)}return e}];function ge(e=me,t){return he.reduce(((e,r)=>r(e,t)),e)}const fe=e=>({appContext:ge,config:(0,pe.L)(e)});var ve=r(77713);function ye(e){return{locale:(0,Q.O)(e)}}var be=r(68611);var we=r(58365),Ie=r(14670),Ee=r(52297),Ce=r(93043),xe=r(21196),ke=r(86400),_e=r(87048),Oe=r(82326);var Se=r(88121),ze=r(8955),Me=r(4875),je=r(18852),Te=r(97264);const Ne=e=>u.createElement(Se.E,{loader:ze.H.searchResults,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Pe(e.frameContext.areFiltersOpened)}),Pe=e=>t=>{if("error"===t)throw Se.t;return u.createElement(je.u,{header:u.createElement("div",{style:{height:"105px",background:Te.O.gray_f2f2f2,borderBottom:`1px solid ${Te.O.gray_e6e6e6}`}}),sidebar:u.createElement("div",null),areFiltersOpened:e},u.createElement(u.Fragment,null,Array(10).fill("").map(((e,t)=>u.createElement(Me.Q,{key:t})))))};var Le=r(491),Fe=r(70433),Re=r(48565),He=r(51187),De=r(6925),Be=r(40333);const Ae=(0,y.T3)(),Ve=(0,y.f6)(),Ze=(0,Fe.P1)([({state:e,props:t})=>Ae({state:e,entityId:t.frame.entityId,searchId:t.frame.searchId}),({state:e,props:t})=>Ve({state:e,searchId:(0,He.l)(t.frame,t.frame.tab)||""}),({state:e,props:t})=>(0,De.GM)({state:e,entityId:t.frame.entityId,orgReviewsSearchId:t.frame.tabReviews?(0,ue.Gp)(t.frame.tabReviews.orgReviewsSearchId):void 0,entityReviewsSearchId:t.frame.tabReviews?(0,ue.Gp)(t.frame.tabReviews.entityReviewsSearchId):void 0}),({state:e,props:{frame:{entityId:t}}})=>!!(0,Be.C6)(t)(e)],((e,t,r,n)=>({entity:e,reviewsIntended:t,total:r,hasPinnedUserReview:n}))),Ue=(0,Re.X1)(((e,t)=>Ze({state:e,props:t})));var $e=r(58425),We=r(95079);function qe(e,t){const r=t.appContext.frames.find(We.B);if(!r||"geometry"!==e.origin||!e.geometry||"polyline"!==e.geometry.type)return;const n=e.geometry.eventData&&e.geometry.eventData.id;return"string"==typeof n&&n?(0,$e.f)({activeDirectionId:n,frameId:r.id}):void 0}var Ge=r(66158);var Qe=r(62368),Ke=r(13310);const Je=(0,Re.Z3)((e=>({subscribeOnEvents:t=>e(function({id:e}){return(0,L.Oo)({id:e,type:"map:click",handler:qe,stopIfHandled:!0,priority:Ge.U.Frame})}(t)),removeListeners:t=>e((0,L.xg)(t)),handleOnAddReviewClick:t=>e((0,R.Mw)({id:(0,H.by)(),type:"createReview",entityId:t.entityId,searchId:t.searchId,temporaryId:t.temporaryId})),fetchData:({entityId:t,type:r})=>e((0,Ke.D)((e=>(0,y.XU)({state:e,entityId:t})),(0,G._N)(Q.O,(e=>(0,Qe.k)({id:t,type:r,page:1,pageSize:4,locale:e})))))})));var Xe=r(64284),Ye=r(36808),et=r(20660),tt=r(67),rt=r(45898),nt=r(12078);const at=(0,Re.Z3)(((e,t)=>({onRatingClick(){e((0,z.vP)((0,tt.n)(["Card","Header_rating","Click"]),(0,rt.I)({tab:"reviews",frame:t.frame,entity:t.entity})))},openVideoPlayer(){e((0,nt.O)({entityId:t.frame.entityId,searchId:t.frame.searchId}))}}))),it=(0,Fe.P1)([({props:e,state:t})=>(0,y.Tv)({state:t,entityId:e.frame.entityId})],(e=>({video:e&&e.data}))),st=(0,Re.X1)(((e,t)=>it({state:e,props:t})));var ot=r(2889);var ct=r(24348),lt=r(22149),dt=r(67254),ut=r(59501);var pt=r(96131),mt=r(10877),ht=r(22695),gt=r(1684),ft=r(26162);var vt=r(93801),yt=r(6629),bt=r(71984),wt=r(95084);var It=r(70459),Et=r(72891);class Ct extends u.PureComponent{constructor(){super(...arguments),this.onClick=()=>{this.props.onClick(),this.props.bssOnOpenPopupVideo()}}render(){const{s:e,bssRef:t}=this.props;return u.createElement("div",Object.assign({onClick:this.onClick,className:(0,xe.iv)(e.video)},Ce.dx.n("wat-video-entry"),{ref:t}),u.createElement("div",{className:(0,xe.iv)(e.play)},u.createElement(It.s,{color:Te.O.white})))}}Ct.displayName=(0,Le.I)("src/modules/entity/containers/header/components/video");const xt={video:{padding:"4px 20px",boxSizing:"border-box",height:80,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},play:{width:40,height:40,borderRadius:Et.E0.isolate,backgroundColor:Te.O.red_fe5000,display:"flex",justifyContent:"center",alignItems:"center"}},kt=(0,_e.z)(((e,t)=>({uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:e.ownerFrameId},payload:{video:{entity:{id:e.videoId,type:"video"}},placeItem:(0,wt.s)({state:t,entityFrameId:e.ownerFrameId})}})),((e,{ownerFrameId:t,videoId:r})=>({bssOnOpenPopupVideo(){e((0,G._N)((e=>(0,wt.s)({state:e,entityFrameId:t})),(e=>{const n={uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{video:{entity:{id:r,type:"video"}},placeItem:e}};return(0,ft.zs)(n)})))}})))((0,xe.D2)(xt)(Ct));var _t=r(89451);class Ot extends u.PureComponent{constructor(){super(...arguments),this.handleReviewClick=()=>{this.props.onRatingClick(),this.props.bssOnReviewStarsTap()}}render(){const{entity:e,frame:t,videoPreview:r,additionalTitle:n}=this.props,a=(0,ot.t)(e);return u.createElement(mt.h,{frame:t,entity:e,additionalTitle:n,handleReviewClick:a?void 0:this.handleReviewClick,videoPreview:r,renderContentBefore:()=>this.renderContentBefore(),renderContentAfter:()=>this.renderContentAfter()})}renderContentBefore(){const{frame:e,frameContext:t,showDirectionsAction:r,s:n,showVideo:a,video:i,bookmarkItem:s}=this.props;return u.createElement(u.Fragment,null,u.createElement(ht.v,{frame:e,frameContext:t}),u.createElement("div",{className:(0,xe.iv)(n.actions)},u.createElement(et.e,null,u.createElement(vt.M,{item:s}),u.createElement(bt.E,{frameId:e.id}),r&&u.createElement(_t.N,null,u.createElement(yt.a,{frameId:e.id})))),a&&i&&i.id&&u.createElement(kt,{videoId:i.id,onClick:this.props.openVideoPlayer}))}renderContentAfter(){const{entity:e,isDeleted:t,s:r,i18n:n,video:a}=this.props;return u.createElement(u.Fragment,null,u.createElement(pt.f,{entity:e,hasVideo:!!(null==a?void 0:a.id)}),t&&u.createElement(gt.k,{code:410},u.createElement("div",Object.assign({},Ce.dx.n("wat-firm-removed-block")),u.createElement("div",{className:(0,xe.iv)(r.removedMessage)},n.tp._t("Филиал удалён из справочника")),n.tp._t("Возможно, он закрылся насовсем либо временно не работает"))))}}Ot.displayName=(0,Le.I)("src/modules/entity/containers/header");const St={actions:{paddingTop:20,paddingBottom:0,paddingStart:20,paddingEnd:20},removedMessage:{color:Te.O.red_fe5000},entrance:{marginTop:12}},zt=(0,_e.z)(void 0,((e,t)=>({bssOnReviewStarsTap(){const r={uiElement:{name:"rating",ownerName:"placeCardFull",frameUuid:t.ownerFrameId},action:"tap"};e((0,ft.zs)(r))}})))((0,Ee.$)(st,at)((0,Ye.C)((({entity:e,video:t,frame:r})=>{var n;const a="route"!==e.type&&(0,ct.V)(e),i=null===(n=null==t?void 0:t.videos)||void 0===n?void 0:n[0],s=i&&function(e){return!!("branch"===e.type&&e.ads&&e.ads.options&&e.ads.options.videos&&e.ads.options.videos[0])}(e)&&i.thumbnailUrl?i.thumbnailUrl:void 0,o=r.entranceId||e.context&&e.context.entrance_id,c=o&&(0,dt.O)(e,o);return{isDeleted:(0,ot.t)(e),showDirectionsAction:a,showSharingAction:!0,showVideo:!!s,videoPreview:s,bookmarkItem:(0,ut.Sf)(e,r.point),articleId:(0,lt.Z)(r.id),additionalTitle:c}}))((0,xe.D2)(St)((0,ke.$)()(Ot)))));var Mt=r(47772),jt=r(6212),Tt=r(19416),Nt=r(27401),Pt=r(42721),Lt=r(26125);const Ft=["services"];function Rt(e,t,r,n){if(t.length<2)return;const a=Ht(Dt(e,t,r,n));return a.length<2?void 0:{formattedTabs:a}}function Ht(e){return e.reduce(((e,t)=>{if(-1===Ft.indexOf(t.uiKey))return e.concat(t);const r=e.find((e=>e.uiKey===t.uiKey));return r?(t.count&&(r.count=(r.count||0)+t.count),t.isSelected&&(r.isSelected=!0),e):e.concat(t)}),[])}function Dt(e,t,r,n){const a=(0,jt.d)(t,n);return t.map((t=>({key:t.tab,uiKey:(0,Tt.W)(t.tab),label:At(e,t.tab,r),count:Bt(t.tab)?t.count:void 0,badgeCount:t.badgeCount,isSelected:t.tab===a,isDefault:t.tab===(0,Nt.R)(e)[0]})))}function Bt(e){switch(e){case"discounts":case"reviews":case"inside":return!0;default:return!1}}function At(e,t,r){const n=(0,Pt.i)(e);switch(t){case"contacts":return n?r._t("Инфо"):r._t("Контакты");case"info":return r._t("Инфо");case"reviews":return r._t("Отзывы");case"prices":const{tabLabel:t}=(0,Lt.d)({entity:e,tp:r});return t;case"realty":return r._t("Недвижимость");case"inside":return r._t("В здании");case"services":case"providers":return r._t("Службы");case"discounts":return r._t("Скидки")}}var Vt=r(78667);var Zt=r(30642),Ut=r(24062);(0,Le.I)("src/modules/entity/containers/content/components/tab");const $t=(0,_e.z)(((e,t)=>{const r=(0,wt.s)({state:t,entityFrameId:e.ownerFrameId});if("prices"===e.tab.key||"realty"===e.tab.key){return{uiElement:{name:"realty"===e.tab.key?"cardRealtyPreview":"cardPricesPreview",ownerName:"placeCardFull",frameUuid:e.ownerFrameId},payload:{placeItem:r}}}}),void 0)((e=>{const t=(0,Ie.I0)(),r=(0,u.useRef)(null),{tab:n,onSelect:a,href:i,bssRef:s}=e,o=(0,u.useCallback)((e=>{e&&(s(e),r.current=e)}),[s]);(0,u.useEffect)((()=>{"realty"!==n.key||n.isSelected||window.setTimeout((()=>{r.current&&t((0,Ut.ID)({targetBoundingClientRect:r.current.getBoundingClientRect(),type:"realty",to:"bottomMiddle",offset:-12}))}),0)}),[r.current]);const c=(0,u.useCallback)((e=>{if("prices"===e.key)return u.createElement(Zt.Q,null)}),[]);return u.createElement(Vt.O,{tabRef:o,tab:n,href:i,onSelect:n.isSelected?H.ZT:a,renderIcon:c})}));var Wt=r(71347),qt=r(78517),Gt=r(91208),Qt=r(95610);class Kt extends u.PureComponent{render(){const{s:e,formattedTabs:t,entity:r,handleTabClick:n}=this.props;return u.createElement(Wt.O,{bgColor:Te.O.gray_f2f2f2},(a=>u.createElement(Mt.m,{tabs:t,renderTab:t=>{const i=e=>u.createElement($t,{href:e,tab:t,onSelect:n,entityType:r.type});return u.createElement("div",{className:(0,xe.iv)(e.tabWrapper),onClick:e=>a(e.currentTarget.offsetWidth,e.currentTarget.offsetLeft),key:t.key},"realty"===t.key?u.createElement(Gt.E,{type:"realty",entityId:(0,Qt.V)(r)},i):u.createElement(qt.E,{entity:r,tab:t.isDefault?void 0:t.key},i))}})))}}Kt.displayName=(0,Le.I)("src/modules/entity/containers/content/components/tabs");const Jt=(0,Ye.C)((({tabs:e,frameTab:t,entity:r},{tp:n})=>Rt(r,e,n,t)))((0,xe.D2)({tabWrapper:{margin:"0 8px",":first-child":{marginStart:0},":last-child":{marginEnd:0}}})((0,ke.$)()(Kt))),Xt=(0,Fe.P1)([({props:e,state:t})=>(0,De.Q6)({state:t,entityId:e.entity.id,entityReviewsSearchId:e.frame.tabReviews?(0,ue.Gp)(e.frame.tabReviews.entityReviewsSearchId):"",orgReviewsSearchId:e.frame.tabReviews?(0,ue.Gp)(e.frame.tabReviews.orgReviewsSearchId):"",featureReadOnly:e.featureReadOnly}),({state:e})=>(0,h.kL)(e)],((e,t)=>({tabs:e,project:t}))),Yt=(0,Re.X1)(((e,t)=>Xt({state:e,props:t})));function er(e){switch(e){case"info":return"cardInformation";case"contacts":return"cardContacts";case"discounts":return"cardDiscounts";case"reviews":return"cardReviews";case"prices":return"cardPrices";case"realty":return"cardRealty";case"inside":return"cardBuildingOrgs";case"providers":case"services":return"cardServiceOrgs"}}var tr=r(17605),rr=r(74872);const nr=e=>"loading"===e.asyncStatus?u.createElement(tr.h,{hasPinnedGoods:e.hasPinnedGoods}):u.createElement(rr.j,{code:500}),ar=e=>u.createElement(Se.E,{loader:ze.H.contactsTab,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:t=>u.createElement(nr,{asyncStatus:t,hasPinnedGoods:!!e.entity.has_pinned_goods})}),ir=e=>u.createElement(Se.E,{loader:ze.H.infoTab,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(nr,{asyncStatus:e})});var sr=r(3246);const or=e=>u.createElement(Se.E,{loader:ze.H.pricesTab,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>"loading"===e?u.createElement(sr.N,null):u.createElement(rr.j,{code:500})}),cr=e=>u.createElement(Se.E,{loader:ze.H.insideTab,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(nr,{asyncStatus:e})}),lr=e=>u.createElement(Se.E,{loader:ze.H.servicesTab,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(nr,{asyncStatus:e})}),dr=e=>u.createElement(Se.E,{loader:ze.H.reviewsTab,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(nr,{asyncStatus:e})}),ur=e=>u.createElement(Se.E,{loader:ze.H.discountsTab,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(nr,{asyncStatus:e})}),pr=e=>u.createElement(Se.E,{loader:ze.H.realtyTab,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(nr,{asyncStatus:e})});var mr=r(29920),hr=r(57511),gr=r(11),fr=r(67675);const vr=(e,{tp:t,dateFns:r})=>({headerText:(0,gr.w)({entity:e.entity,format:"short",ctx:{dateFns:r,tp:t}}),bodyText:(0,gr.w)({entity:e.entity,format:"long",ctx:{dateFns:r,tp:t}})}),yr=e=>{const{s:t,css:r}=(0,mr.y)(br),{headerText:n,bodyText:a}=(0,hr.Gb)(vr,e);return n&&a?u.createElement("div",{className:r(t.root)},u.createElement("div",{className:r(t.header)},n),u.createElement("div",{className:r(t.body)},a)):null},br=(0,mr.k)({root:{background:Te.O.gray_f2f2f2,textAlign:"center",paddingBottom:12},header:Object.assign(Object.assign({},fr.Rw),{paddingTop:16,paddingBottom:12,paddingStart:0,paddingEnd:0}),body:Object.assign(Object.assign({},fr.oN),{padding:"0 20px"})});class wr extends u.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const{handleTabClick:t,bssOnTabSwitchHandler:r}=this.props;t({key:e.key}),r({tabKey:e.key})}}render(){const{frame:e,tabs:t,s:r,regionCode:n,entity:a}=this.props;return u.createElement("div",Object.assign({},Ce.dx.n("wat-entity-tab"),{className:(0,we.iv)(r.contentContainer)}),u.createElement(yr,{entity:a}),u.createElement(Jt,{tabs:t,frameTab:e.tab,handleTabClick:this.handleTabClick,regionCode:n,entity:a}),this.renderContent())}renderContent(){const{entity:e,frame:t,tab:r,renderAllTabs:n}=this.props;switch(r){case"contacts":if("branch"===e.type)return(0,Pt.i)(e)?u.createElement(u.Fragment,null,u.createElement(ar,{entity:e,frame:t}),n&&u.createElement(dr,{frame:t,entity:e,isHidden:!0})):u.createElement(u.Fragment,null,u.createElement(ar,{entity:e,frame:t}),n&&u.createElement(ir,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0}),n&&u.createElement(dr,{frame:t,entity:e,isHidden:!0}));break;case"info":return u.createElement(u.Fragment,null,u.createElement(ir,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId}),n&&"branch"===e.type&&u.createElement(ar,{entity:e,frame:t,isHidden:!0}),n&&u.createElement(dr,{frame:t,entity:e,isHidden:!0}));case"reviews":return u.createElement(u.Fragment,null,u.createElement(dr,{frame:t,entity:e}),n&&u.createElement(ir,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0}),n&&"branch"===e.type&&u.createElement(ar,{entity:e,frame:t,isHidden:!0}));case"inside":return u.createElement(cr,{frame:t});case"services":case"providers":return u.createElement(lr,{frame:t,entity:e});case"discounts":if("branch"===e.type)return u.createElement(ur,{entity:e});break;case"prices":if("branch"===e.type&&t.tabPrices)return u.createElement(or,{frameId:t.id,entity:e,entitySearchId:t.searchId,offersSearchId:t.tabPrices.searchId});break;case"realty":if(t.tabRealty)return u.createElement(pr,{geoId:t.tabRealty.geoId,offersSearchId:t.tabRealty.searchId})}return null}}wr.displayName=(0,Le.I)("src/modules/entity/containers/content");const Ir=(0,_e.z)(void 0,((e,t)=>({bssOnTabSwitchHandler({tabKey:r}){const n={uiElement:{name:er(r),ownerName:"placeCardFull",frameUuid:t.ownerFrameId},action:"tap"};e((0,ft.zs)(n))}})))((0,Ee.$)(Yt,((e,t)=>({handleTabClick(r){e((0,rt.I)({tab:r.key,frame:t.frame,entity:t.entity}))}})))((0,Ye.C)((({project:e,entity:t,frame:r})=>({tab:r.tab||(0,Nt.R)(t)[0],regionCode:e&&e.id===t.region_id?e.code:void 0,renderAllTabs:"undefined"==typeof window||window.isServerRendered})))((0,xe.D2)({contentContainer:{display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden","@media print":{background:"#fff"}}})(wr))));var Er=r(99988),Cr=r(79482),xr=r(91437);function kr(e,t,r){return!!e&&!!t.length&&"error"!==r}var _r=r(38655),Or=r(15961),Sr=r(66151),zr=r(70289),Mr=r(35036),jr=r(76023),Tr=r(44816),Nr=r(77);class Pr extends u.PureComponent{constructor(){super(...arguments),this.listenersId=(0,H.by)()}componentDidMount(){this.props.subscribeOnEvents({id:this.listenersId}),this.props.fetchData({entityId:this.props.frame.entityId,type:this.props.frame.entityType})}componentWillUnmount(){this.props.removeListeners({id:this.listenersId})}render(){const{entity:e,errorCode:t,status:r,frame:n,s:a}=this.props;return e?u.createElement("div",Object.assign({className:(0,xe.iv)(a.root)},(0,Ce.n)("wat-entity-card"),(0,Ce.t)(e.type)),u.createElement(Xe.k,{statusIds:n.statusId}),u.createElement(_r.T,{contentScrollId:(0,Er.k)(n),fixedContentFooter:this.renderFixedFooter()},this.renderContent())):"error"===r?u.createElement("div",Object.assign({className:(0,xe.iv)(a.error)},(0,Ce.n)("wat-entity-card-error")),u.createElement(rr.j,{code:t,type:"entity"})):u.createElement(Cr.P,null)}renderContent(){const{entity:e,frame:t,frameContext:r,s:n,bssRef:a,featureReadOnly:i}=this.props;return u.createElement(Or.M.Provider,{value:{showEventOrdinal:this.props.showEventOrdinal}},u.createElement("div",{className:(0,xe.iv)(n.entity),ref:a},u.createElement(zt,{entity:e,frame:t,frameContext:r}),u.createElement(Ir,{entity:e,frame:t,featureReadOnly:i})))}renderFixedFooter(){const{showAddReviewButton:e,frame:t}=this.props;return e?u.createElement(Sr.U,{entityId:t.entityId,searchId:t.searchId}):u.createElement(_t.i,null,u.createElement(Lr,null))}}Pr.displayName=(0,Le.I)("src/modules/entity");const Lr=u.memo((()=>{const e=(0,zr.A)(Mr.kG,{isMinimized:!0}),t=(0,jr.T)();return u.createElement(Tr.q,null,u.createElement(Tr.Q,{icon:u.createElement(Nr.D,{color:"#000"}),onClick:e},t._t("На карте")))})),Fr=(0,_e.z)((({ownerFrameId:e},t)=>{const r=(0,xr.iF)(t.appContext.frames,e);if(!r||"entity"!==r.type)return void(0,re.H)({message:"Попытка показать фрейм, которого нет",level:"warn",id:"iq3n4",payload:{type:"debug",subtype:"InconsistentState",data:t.appContext.frames.map((e=>e.type)).reverse().join(";")||"dashboard"}});const n=(0,wt.s)({state:t,entityFrameId:e});if(n)return{uiElement:{name:"placeCardFull",frameUuid:e},payload:{placeItem:Object.assign(Object.assign({},n),{adsId:void 0})}};(0,re.H)({message:"Не удалось сформировать payload для события показа полной карточки организации placeCardFull",level:"error",id:"kgvq5",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,xr.iF)(t.appContext.frames,e))}})}))((0,Ee.$)(Ue,Je)((0,Ye.C)((({frame:e,entity:t,reviewsIntended:r,total:n,hasPinnedUserReview:a},{config:i})=>{const{meta:s,data:o}=t,c=i.featureReadOnly;if("point"===e.entityType)return{entity:{id:"__empty",type:"point",point:o&&"point"in o&&o.point||e.point,region_id:"0",segment_id:"0"},status:"success",errorCode:void 0,showAddReviewButton:!1,featureReadOnly:c};const l=r&&r.meta&&r.meta.status,d=r&&r.data&&r.data.items||[],u=!!e.tabReviews&&e.tabReviews.isOrg,p=n&&(u?n.orgCount:n.entityCount)||0;return{entity:o,status:s&&s.status,errorCode:s&&"error"===s.status?s.code:void 0,showAddReviewButton:!("reviews"!==e.tab||!a&&!kr(p,d,l)),featureReadOnly:c}}))((0,xe.D2)({root:{height:"100%"},entity:{minHeight:"100%",display:"flex",flexDirection:"column"},error:{marginTop:100}})((0,ke.$)()(Pr)))));var Rr=r(23045);class Hr extends u.PureComponent{render(){const{s:e}=this.props;return u.createElement("div",{className:(0,xe.iv)(e.gta)},u.createElement("div",{className:(0,xe.iv)(e.gtaContent)}),u.createElement("div",{className:(0,xe.iv)(e.gtaLink)}))}}Hr.displayName=(0,Le.I)("src/shared/kit/skeletons");const Dr={gta:{margin:8,borderRadius:Et.E0.default,overflow:"hidden"},gtaContent:{height:168,background:Te.O.gray_f2f2f2},gtaLink:{height:40,backgroundColor:Te.O.blue_028eff}},Br=(0,xe.D2)(Dr)(Hr);class Ar extends u.PureComponent{render(){const{s:e}=this.props;return u.createElement("div",null,u.createElement("div",{className:(0,xe.iv)(e.row)},u.createElement("div",{className:(0,xe.iv)(e.cityBlock)})),u.createElement("div",{className:(0,xe.iv)(e.row)},u.createElement("div",{className:(0,xe.iv)(e.rubricatorWrapper)},u.createElement(Rr.C,null))),u.createElement("div",{className:(0,xe.iv)(e.row)},u.createElement("div",{className:(0,xe.iv)(e.feedback)})),u.createElement("div",{className:(0,xe.iv)(e.row)},u.createElement(Br,null)))}}Ar.displayName=(0,Le.I)("src/shared/kit/skeletons");const Vr={cityBlock:{background:Te.O.gray_929292,width:"100%",height:228},row:{marginBottom:"8px"},rubricatorWrapper:{marginTop:16,marginBottom:8,marginStart:8,marginEnd:8},feedback:{background:Te.O.gray_929292,padding:"12px 16px",marginTop:16,marginBottom:8,marginStart:8,marginEnd:8,height:132,borderRadius:Et.E0.default}},Zr=(0,xe.D2)(Vr)(Ar);function Ur(e){return"error"===e?u.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},u.createElement(rr.j,{code:500})):u.createElement(Zr,null)}const $r=e=>u.createElement(Se.E,{loader:ze.H.dashboard,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Ur});function Wr(e){return"error"===e?u.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},u.createElement(rr.j,{code:500})):u.createElement("div",null)}const qr=e=>u.createElement(Se.E,{loader:ze.H.product,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Wr});var Gr=r(11155);const Qr=e=>u.createElement(Se.E,{loader:ze.H.offer,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),Kr=e=>u.createElement(Se.E,{loader:ze.H.gallery,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q});class Jr extends u.PureComponent{render(){switch(this.props.frame.subtype){case"entity":return u.createElement(Cr.P,null)}}}Jr.displayName=(0,Le.I)("src/modules/pending");const Xr=Jr,Yr=e=>u.createElement(Se.E,{loader:ze.H.directions,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),en=e=>u.createElement(Se.E,{loader:ze.H.publicFavorites,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),tn=e=>u.createElement(Se.E,{loader:ze.H.collection,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),rn=e=>u.createElement(Se.E,{loader:ze.H.direction,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),nn=e=>u.createElement(Se.E,{loader:ze.H.prices,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),an=e=>u.createElement(Se.E,{loader:ze.H.rubricator,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),sn=e=>u.createElement(Se.E,{loader:ze.H.rubric,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),on=e=>u.createElement(Se.E,{loader:ze.H.userProfile,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),cn=({frame:e})=>{const{code:t,subtype:r}=e;return u.createElement("div",{style:{marginTop:"100px"}},u.createElement(rr.j,{code:t,type:r}))},ln=e=>u.createElement(Se.E,{loader:ze.H.unconfirmedReviews,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),dn=e=>u.createElement(Se.E,{loader:ze.H.currentReview,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),un=e=>u.createElement(Se.E,{loader:ze.H.tUgcCard,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),pn=e=>u.createElement(Se.E,{loader:ze.H.marketCatalog,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),mn=u.memo((e=>u.createElement(je.u,{sidebar:u.createElement("div",null),areFiltersOpened:e.areFiltersOpened},u.createElement(sr.N,{squareLogo:e.squareLogo,logoSize:e.logoSize}))));mn.displayName="SearchSkeleton";const hn=e=>u.createElement(Se.E,{loader:ze.H.realty,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:gn(e.frameContext.areFiltersOpened)}),gn=e=>t=>"loading"===t?u.createElement(mn,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):u.createElement(rr.j,{code:500}),fn=e=>u.createElement(Se.E,{loader:ze.H.realtyCard,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:vn}),vn=e=>"loading"===e?u.createElement(Cr.P,null):u.createElement(rr.j,{code:500}),yn=e=>u.createElement(Se.E,{loader:ze.H.achievementsFrame,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),bn=e=>u.createElement(Se.E,{loader:ze.H.userFriendsActivity,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q});var wn=r(72699);const In=e=>u.createElement(Se.E,{loader:ze.H.exchange,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:En(e.frameContext.areFiltersOpened)}),En=e=>t=>"loading"===t?u.createElement(mn,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):u.createElement(rr.j,{code:500});class Cn extends u.PureComponent{constructor(){super(...arguments),this.state={errorMessage:"",error:""}}render(){const e=this.props.s,t="entity"===this.props.frame.type?this.props.frame.entityType:this.props.frame.type;return u.createElement("div",Object.assign({className:(0,we.iv)(e.frame)},Ce.Z({n:"wat-frame",t}),{ref:this.props.bssRef,key:this.props.frame.id}),this.renderContent())}componentDidCatch(e,t){if(this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`}),e===Se.t)return;const r=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"",n=e.stack&&-1!==e.stack.indexOf("removeChild")?e.stack.replace("Error: Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.","removeChild").replace(/https:\/\/d-assets\.2gis\.ru/g,"assets").replace(/vendor/g,"v"):e.stack;(0,re.H)({message:r,level:"fatal",id:"m8bkw",payload:{type:"exception",subtype:"FrameRenderFailed",stack:n}})}renderContent(){if(this.state.error)return u.createElement("div",Object.assign({style:{padding:"16px"}},Ce.Z({n:"wat-error-frame",v:this.state.errorMessage})),u.createElement("div",{style:{padding:"16px 0"}},u.createElement(rr.j,{code:500})),u.createElement("div",{style:{display:"flex",justifyContent:"center",paddingBottom:16}},this.props.i18n.tp._t("Или покажите это разработчикам")),u.createElement("pre",{style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},`Session id: ${this.props.config.sessionId}\n            User id: ${this.props.config.userId}\n            ${this.state.error}`));switch(this.props.frame.type){case"gallery":return u.createElement(Kr,{frame:this.props.frame,frameContext:this.props.frameContext});case"dashboard":return u.createElement($r,{frame:this.props.frame,frameContext:this.props.frameContext});case"search":return u.createElement(Ne,{frame:this.props.frame,frameContext:this.props.frameContext});case"directions":return u.createElement(Yr,{frame:this.props.frame,frameContext:this.props.frameContext});case"direction":return u.createElement(rn,{frame:this.props.frame});case"entity":return u.createElement(Fr,{frame:this.props.frame,frameContext:this.props.frameContext});case"product":return u.createElement(qr,{frame:this.props.frame,frameContext:this.props.frameContext});case"offer":return u.createElement(Qr,{frame:this.props.frame});case"pending":return u.createElement(Xr,{frame:this.props.frame});case"publicFavorites":return u.createElement(en,{frame:this.props.frame,frameContext:this.props.frameContext});case"collection":return u.createElement(tn,{frame:this.props.frame,frameContext:this.props.frameContext});case"prices":return u.createElement(nn,{frame:this.props.frame});case"rubricator":return u.createElement(an,{frame:this.props.frame,frameContext:this.props.frameContext});case"rubric":return u.createElement(sn,{frame:this.props.frame,frameContext:this.props.frameContext});case"userProfile":return u.createElement(on,{frame:this.props.frame});case"unconfirmedReviews":return u.createElement(ln,{frame:this.props.frame});case"currentReview":return u.createElement(dn,{frame:this.props.frame});case"tUgc":return u.createElement(un,{frame:this.props.frame});case"marketCatalog":return u.createElement(pn,{frame:this.props.frame,frameContext:this.props.frameContext});case"error":return u.createElement(cn,{frame:this.props.frame});case"realty":return u.createElement(hn,{frame:this.props.frame,frameContext:this.props.frameContext});case"realtyCard":return u.createElement(fn,{frame:this.props.frame});case"exchange":return u.createElement(In,{frame:this.props.frame,frameContext:this.props.frameContext});case"achievements":return u.createElement(yn,{frame:this.props.frame});case"userFriendsActivity":return u.createElement(bn,{frame:this.props.frame})}}}const xn=(0,_e.z)(((e,t)=>(0,Oe.x)({state:t,frame:e.frame})))((0,xe.D2)({frame:{background:"#fff",flex:"1 1 100%",height:"100%",overflowX:"hidden",overflowY:"auto"}})((0,ke.$)()((0,wn.R)()(Cn))));var kn=r(97121),_n=r(28704);const On=e=>u.createElement(Se.E,{loader:ze.H.suggestList,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q});var Sn=r(39337),zn=r(25584);const Mn=(0,Fe.P1)([({state:e})=>(0,zn.eq)(e,"primary")],(e=>({suggest:e})));var jn=r(23613),Tn=r(9452),Nn=r(98934),Pn=r(58630),Ln=r(32307);const Fn="primary",Rn=(0,z.gQ)("handleInput",(({query:e})=>(0,z.vP)((0,Tn.xU)({suggesterKey:Fn,query:e}),(0,Tn.r4)({suggesterKey:Fn,index:void 0}),(0,jn.p_)({suggesterKey:Fn,show:!0}),(0,jn.XC)()))),Hn=(0,z.gQ)("handleSubmit",(({frameId:e})=>(0,Ln.$)((({tp:t})=>(0,G.gF)({suggest:e=>(0,zn.eq)(e,Fn),primarySuggestions:e=>(0,zn.iE)(e),featureRealty:e=>e.config.featureRealty},(({suggest:r,primarySuggestions:n,featureRealty:a})=>{if(!r||!r.query)return(0,z.ZT)();const i=a&&n?(0,Pn.r)(n,t):n?[...n]:[],{highlightedIndex:s,query:o}=r;if(void 0!==s){const t=i[s];if(t)return(0,jn.en)({suggestion:t,query:o,pickedIndex:s,frameId:e,suggestions:i||[]})}return o?(0,z.vP)((0,Nn.vc)({query:o,frameId:e}),(0,jn.p_)({suggesterKey:Fn,show:!1}),(0,jn._m)({query:o})):(0,z.ZT)()})))))),Dn="primary",Bn=(0,Re.Z3)(((e,t)=>({handleInput(t){e(Rn({query:t}))},handleSubmit(){e(Hn({frameId:t.frame.id}))},handleInputClick(t){e((0,jn.ff)({query:t,suggesterKey:Dn}))},handleNavigation(t){e((0,jn.$N)({suggesterKey:Dn,keyCode:t}))}})));var An=r(94837),Vn=r(7905);function Zn(e){switch(e.type){case"search":return"inbuilding"===e.searchType?e.parentSearchQuery:e.query;case"entity":case"product":return e.query}}class Un extends u.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{this.props.handleInput(e),this.props.bssSearchBarInput({query:e})},this.handleKeyUp=e=>{e.stopPropagation()},this.handleKeyDown=e=>{if(e.stopPropagation(),[Vn.HI,Vn.P9,Vn.O_].indexOf(e.keyCode)>-1)return e.preventDefault(),void(this.props.suggest&&this.props.suggest.show&&this.props.handleNavigation(e.keyCode));e.keyCode,Vn.q7},this.handleSubmit=e=>{e.preventDefault(),this.props.handleSubmit()},this.handleClick=()=>{this.props.handleInputClick(this.props.query||""),this.props.bssSearchBarTap()},this.onClear=()=>{this.props.bssClearSearchBarTap()}}render(){var e;const{query:t,autoFocus:r,lightText:n,inputRef:a,withH1Header:i,placeholder:s}=this.props;return u.createElement("form",{onSubmit:this.handleSubmit},u.createElement(An.M,{placeholder:s,value:t||"",onChange:this.handleChange,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,autoFocus:r,lightText:n,onClick:this.handleClick,onClear:this.onClear,inputRef:a,displayH1Header:i,withMobileSearchBarEntryPoint:!(null===(e=this.props.suggest)||void 0===e?void 0:e.show)}))}}Un.displayName=(0,Le.I)("src/modules/searchBar/containers/suggestInput");const $n=(0,ke.$)()((0,_e.z)(void 0,((e,t)=>({bssSearchBarInput({query:r}){e((0,ft.zs)({uiElement:{name:"searchBar",ownerName:"searchBarWrapper",frameUuid:t.ownerFrameId},action:"textInput",payload:{searchRequest:{text:r}}}))},bssSearchBarTap(){const r=(0,Oe.E)(t.frame);e((0,ft.zs)({uiElement:{name:"searchBar",ownerName:r,frameUuid:t.ownerFrameId},action:"tap"}))},bssClearSearchBarTap(){e((0,ft.zs)({uiElement:{name:"clear",ownerName:"searchBar",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,Ie.$j)(((e,t)=>Mn({state:e,props:t})),Bn)((0,Ye.C)((({suggest:e,frame:t,customPlaceholder:r},{config:n,tp:a})=>{const i=t&&Zn(t),s=r||a._pt("Поиск в 2ГИС","Поиск в %1",[n.brandName]);return{query:(e&&void 0!==e.query?e.query:i)||"",placeholder:s}}))(Un))));var Wn=r(96091),qn=r(53923),Gn=r(40029);const Qn="primary";var Kn=r(90793);var Jn=r(64920),Xn=r(24606);let Yn=!1;const ea=()=>{var e,t,r;const n=(0,u.useRef)(null),a=(0,Ie.I0)(),i=(0,Ie.v9)(Jn.m),s="query"===(null==i?void 0:i.searchType)?null===(e=null==i?void 0:i.tabMarket)||void 0===e?void 0:e.searchId:"",o=(0,Ie.v9)((e=>(0,b.NP)({state:e,searchId:s}))),c="query"===(null==i?void 0:i.searchType)&&"market"===(null==i?void 0:i.tab),l=(d=null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.search_hints)&&d[0]&&d[0].promo.text.plain;var d;const p=(e=>e&&e[0]&&e[0].promo.type)(null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.search_hints),m=!!p&&!!l&&c&&!Yn;return((e,t,r)=>{const n=(0,u.useRef)();(0,Xn.L)((()=>{n.current=e}),[e]),(0,Xn.L)((()=>{const e=setTimeout((function(){n.current&&n.current()}),t);return()=>clearTimeout(e)}),[t,...r])})((()=>{var e;const t=null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect();m&&t&&l&&p&&(a((0,Ut.oX)({targetBoundingClientRect:t,offset:0,to:"bottomBottomStart",text:l,subtype:p})),Yn=!0)}),0,[m]),m?u.createElement("div",{ref:n}):null},ta={framesLength:e=>e.appContext.frames.length,hasAnythingToCloseWithArrow:e=>!!e.config.isMobileDevice&&e.appContext.frames.length>0,isDataViewerMinimized:e=>e.appContext.isDataViewerMinimized||!1,suggest:e=>(0,zn.eq)(e,"primary"),customPlaceholder:e=>{var t;const r=(0,xr.t0)(e.appContext.frames,"search");if("search"!==(null==r?void 0:r.type)||"query"!==r.searchType)return;const n=r.tabMarket.searchId,a=null===(t=(0,b.NP)({state:e,searchId:n}).data)||void 0===t?void 0:t.search_hints;return(null==a?void 0:a.length)?a[0].placeholder.text.plain:void 0}},ra={subscribeOnPopState:e=>(0,L.Oo)({id:e,type:"window:popstate",handler:()=>(0,Tn.p_)({suggesterKey:Qn,show:!1})}),unsubscribeOnPopState:e=>(0,L.xg)({id:e}),hideSuggest:()=>(0,Tn.p_)({suggesterKey:Qn,show:!1}),handleLogoClick:F.kn,closeLastFrame:F.yt};class na extends u.PureComponent{constructor(){super(...arguments),this.state={isDataViewerMinimized:this.props.isDataViewerMinimized,forceFocus:!1},this.popStateListenerId=(0,H.by)(),this.inputRef=u.createRef(),this.closeSuggest=()=>{this.props.showSuggest&&this.props.hideSuggest()},this.handleBackClick=()=>{this.props.showSuggest&&this.props.hideSuggest(),this.props.closeLastFrame()},this.handleLogoClick=()=>{this.props.handleLogoClick()},this.handleBlur=()=>{this.props.hideSuggest()}}static getDerivedStateFromProps(e,t){return e.autoFocus&&!e.isDataViewerMinimized&&t.isDataViewerMinimized||e.autoFocus&&e.hasPromo&&e.withCustomPlaceholder?Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!0}):Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!1})}componentDidMount(){this.props.subscribeOnPopState(this.popStateListenerId)}componentWillUnmount(){this.props.unsubscribeOnPopState(this.popStateListenerId)}componentDidUpdate(){this.state.forceFocus&&this.inputRef&&this.inputRef.current&&this.inputRef.current.focus()}render(){const{frame:e,showSuggest:t,autoFocus:r,isInputWithH1Header:n,wrapperHeight:a,showBackButton:i,showBorder:s,hasPromo:o,customPlaceholder:c,withCustomPlaceholder:l,s:d}=this.props;return u.createElement("div",Object.assign({className:(0,xe.iv)(d.root),style:{height:a}},Ce.dx.n("wat-search-bar-wrapper"),Ce.dx.t(e.type)),u.createElement(Wn.B,{onBlur:this.handleBlur,initialFocus:r},u.createElement("div",{className:(0,xe.iv)(d.focusController)},u.createElement(_n.k,{showBackButton:i,showLogo:!i,showBorder:s,handleBackClick:this.handleBackClick,handleLogoClick:this.handleLogoClick},u.createElement($n,{frame:e,autoFocus:r,inputRef:this.inputRef,withH1Header:n,customPlaceholder:l?c:void 0}))),u.createElement(ea,null),t&&u.createElement(Sn.r,{onBackgroundClick:this.closeSuggest},o&&u.createElement("div",{className:(0,xe.iv)(d.promo)},u.createElement(Kn.v,{type:"short",frame:e})),u.createElement(On,{frame:e}))))}}const aa=(0,Gn.G)({selectors:ta,handlers:ra})((0,Ye.C)(((e,{config:t})=>{const{frame:r,frameContext:n,isDataViewerMinimized:a,framesLength:i,suggest:s,hasAnythingToCloseWithArrow:o}=e,c=(0,qn.K)(r,n,t);if(!c)return;const l=!(!s||!s.show),d=!!(null==s?void 0:s.hasPromo),u=!!(null==s?void 0:s.withCustomPlaceholder);return{wrapperHeight:c,autoFocus:!t.isMobileDevice&&(!a&&0===i||!(null==s?void 0:s.query)&&u),isInputWithH1Header:"search"===r.type&&"query"===r.searchType&&1===i,showSuggest:l,showBackButton:l||o,showBorder:!l,hasPromo:d,withCustomPlaceholder:u}}))((0,xe.D2)((({mobile:e})=>({root:{paddingTop:16,margin:e?"0 12px":"0 16px",pointerEvents:"auto",boxSizing:"border-box"},focusController:{position:"relative",zIndex:Et.W5.top},promo:{paddingTop:16,paddingBottom:0,paddingStart:12,paddingEnd:12}})))(na)));var ia=r(32853),sa=r(54421),oa=r(35075),ca=r(15414),la=r(32182);const da=()=>(0,Fe.P1)([({state:e,frameId:t})=>ua(t)(e),({state:e,frameId:t})=>pa(t)(e),({state:e,frameId:t})=>(0,oa.G)(t)(e),({state:e,frameId:t})=>(0,ca.H)(t)(e)],((e,t,r,n)=>r?{isLeftMost:e,isRightMost:t,hasFilters:r,areFiltersOpened:n}:{isLeftMost:e,isRightMost:t,hasFilters:r})),ua=e=>t=>{const r=(0,la.T)(t);return r[r.length-1].id===e},pa=e=>t=>(0,la.T)(t)[0].id===e;var ma=r(2832),ha=r(59297);class ga extends u.PureComponent{constructor(){super(...arguments),this.state={doNotRender:"undefined"!=typeof window&&!window.isServerRendered,isActive:!!this.props.frameContext&&this.props.frameContext.isRightMost}}componentDidMount(){this.props.fadeInWithoutDelay?this.setState({doNotRender:!1}):this.fadeInTimer=window.setTimeout((()=>this.setState({doNotRender:!1})),sa.l.long)}componentDidUpdate(){const{frameContext:e}=this.props;e&&e.isRightMost!==this.state.isActive&&(e.isRightMost?this.stylesTimer=window.setTimeout((()=>{this.setState({isActive:e.isRightMost}),this.stylesTimer=void 0}),sa.l.long):this.setState({isActive:!1}))}componentWillUnmount(){this.fadeInTimer&&window.clearTimeout(this.fadeInTimer),this.stylesTimer&&window.clearTimeout(this.stylesTimer)}render(){const{frameWidth:e,frameContext:t,children:r,s:n}=this.props;if(!t)return null;const{isActive:a}=this.state;return u.createElement("div",{className:(0,we.iv)(n.panel,this.state.doNotRender&&n._fadedOut),style:{width:e}},!this.state.doNotRender&&u.createElement("div",{className:(0,we.iv)(n.content,a?n._highlighted:n._regular)},r({frameContext:t})))}}const fa={panel:{width:"352px",minWidth:"352px",height:"100%",display:"flex",flexDirection:"column",position:"relative",transition:`opacity ${sa.l.short}ms`,opacity:1,zIndex:1},content:{height:"100%"},_regular:{":before":{content:'""',position:"absolute",start:"-1px",top:"0",bottom:"0",width:"1px",height:"100%",background:(0,ha.j)(Te.O.black,.1)},":after":{content:'""',position:"absolute",top:"0",end:"-1px",bottom:"0",width:"1px",height:"100%",background:(0,ha.j)(Te.O.black,.1)}},_highlighted:{boxShadow:ia.q.outerLeft},_fadedOut:{opacity:0}},va=(0,Ie.$j)((()=>{const e=da(),t=(0,Fe.P1)([({props:t,state:r})=>e({state:r,frameId:t.frameId}),({state:e,props:t})=>(0,ma.L)(t.frameId)(e)],((e,t)=>({frameContext:e,frameWidth:t})));return(0,Re.X1)(((e,r)=>t({state:e,props:r})))}))((0,xe.D2)(fa)(ga));var ya=r(79432),ba=r(30187);const wa={container:{cursor:"pointer",background:"rgba(255, 255, 255, .85)",width:"24px",height:"24px",padding:"8px 0",borderRadius:`logical ${Et.E0.default} 0 0 ${Et.E0.default}`,textAlign:"center",boxShadow:ia.q.popup,color:Te.O.gray_262626}};const Ia=(0,xe.D2)(wa)((function(e){const{type:t,onClick:r,s:n}=e;return u.createElement("div",Object.assign({},Ce.dx.n("wat-ear"),{className:(0,we.iv)(n.container),onClick:r}),function(e){switch(e){case"minimize":return u.createElement(ba.E,{direction:"start"});case"maximize":return u.createElement(ba.E,{direction:"end"});default:return u.createElement(ya.x,null)}}(t))}));class Ea extends u.PureComponent{render(){const{width:e,children:t,s:r}=this.props;return u.createElement("div",{className:(0,we.iv)(r.root),style:{width:e}},u.createElement("div",{className:(0,we.iv)(r.bg)}),u.createElement("div",{className:(0,we.iv)(r.children)},t))}}const Ca={root:{position:"absolute",top:0,start:0,bottom:0,zIndex:Et.W5.base},bg:{width:"100%",height:"100%",position:"relative",background:Te.O.white,boxShadow:ia.q.outerRight,zIndex:Et.W5.base},children:{position:"absolute",top:"16px",end:"-24px",zIndex:Et.W5.bottom}},xa=(0,xe.D2)(Ca)(Ea);const ka=_a;function _a({frames:e,isMinimized:t,dataViewerWidth:r},{config:{rtl:n}}){let a="none";return t&&(a=n?`translate3d(${r}px, 0, 0)`:`translate3d(-${r}px, 0, 0)`),{arrowEarType:t?"maximize":"minimize",showCloseEar:!(e[0]&&"dashboard"===e[0].type),showArrowEar:!0,transform:a}}var Oa=r(31213),Sa=r(41984);class za extends u.PureComponent{constructor(){super(...arguments),this.prevFrames=[],this.handleMinimizeClick=()=>{const{frames:e,isMinimized:t,bssOnMinimizeClick:r,handleMinimizeClick:n}=this.props;r(e,t),n()}}UNSAFE_componentWillReceiveProps(){this.prevFrames=this.props.frames.slice().reverse()}componentDidUpdate(){this.props.isMinimized&&function(e,t){if(e.length!==t.length)return!0;for(let r=0;r<e.length;r++)if(e[r].id!==t[r].id)return!0;return!1}(this.prevFrames,this.props.frames.slice().reverse())&&this.props.unMinimize()}render(){const{frames:e,isMinimized:t,s:r,dataViewerWidth:n,transform:a,config:i,isFullBannerDisplayed:s}=this.props;return s?null:u.createElement("div",{className:(0,xe.iv)(r.root,t&&r._minimized),style:{transform:a,pointerEvents:t?"none":"all"}},u.createElement(xa,{width:n},this.renderEars()),u.createElement("div",{style:{display:"flex",height:"100%",overflow:"hidden",width:`${n}px`}},e.slice().reverse().map(((e,t)=>{return u.createElement(va,{key:e.id,frameId:e.id,fadeInWithoutDelay:this.prevFrames[t]&&(r=e,n=this.prevFrames[t],"search"===r.type&&"search"===n.type?r.searchType===n.searchType:r.type===n.type)},(({frameContext:t})=>u.createElement(kn.j.Provider,{value:{frameId:e.id}},(0,Sa.U)(e,t,i)&&u.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:Et.W5.top}},u.createElement(aa,{frame:e,frameContext:t})),u.createElement("div",{style:{position:"relative",zIndex:Et.W5.base,height:"100%"}},u.createElement(xn,{frame:e,frameContext:t})))));var r,n}))))}renderEars(){const{showArrowEar:e,showCloseEar:t,arrowEarType:r}=this.props;if(e||t)return u.createElement("div",null,t&&u.createElement("div",Object.assign({},Ce.dx.n("wat-close-btn"),{style:{marginBottom:8,pointerEvents:"all"}}),u.createElement(Ia,{type:"close",onClick:this.props.handleCloseClick})),e&&u.createElement("div",Object.assign({},Ce.dx.n("wat-minimize-btn"),{style:{marginBottom:8,pointerEvents:"all"}}),u.createElement(Ia,{type:r,onClick:this.handleMinimizeClick})))}}za.displayName=(0,Le.I)("src/modules/dataViewer");const Ma={root:{height:"100%",display:"flex",position:"absolute",transition:`transform ${sa.l.short}ms`,zIndex:Et.W5.base},_minimized:{"@media print":{display:"none !important"}}},ja=(0,_e.z)(void 0,(e=>({bssOnMinimizeClick(t,r){if(!t[0])return;const n={action:"tap",uiElement:{name:r?"expandArrow":"collapseArrow",ownerName:(0,Oe.E)(t[0]),frameUuid:t[0].id}};return e((0,ft.zs)(n))}})))((0,Ee.$)((e=>({frames:(0,la.T)(e),dataViewerWidth:(0,Oa.w)(e),isMinimized:e.appContext.isDataViewerMinimized,isFullBannerDisplayed:!!e.appContext.weak.fullScreenBanner})),((e,t)=>({handleCloseClick(){e((0,F.yt)())},handleMinimizeClick(){e((0,Mr.kG)({isMinimized:!t.isMinimized}))},unMinimize(){e((0,Mr.kG)({isMinimized:!1}))}})))((0,Ye.C)(ka)((0,wn.R)()((0,xe.D2)(Ma)(za))))),Ta=(0,Fe.P1)([({state:e})=>e.appContext.zoom,({state:e})=>(0,h.kL)(e),({state:e})=>e.session.is3dEnabled],((e,t,r)=>({zoom:e,projectData:t,is3d:r}))),Na=(0,Re.X1)(((e,t)=>Ta({state:e,props:t})));var Pa=r(15402);const La=(0,Re.Z3)((e=>({onZoomChange:t=>e((0,z.vP)((0,Pa.$x)({zoom:t}),(0,z.xJ)((e=>(0,L.Kn)({type:"map:moveend",event:{center:[e.appContext.center.lon,e.appContext.center.lat],zoom:t,rotation:e.appContext.rotation,pitch:e.appContext.pitch}})))))})));var Fa=r(13299);function Ra({color:e="currentColor",width:t=32,height:r=32}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:t,height:r,fill:e},u.createElement("path",{d:"M24 15h-7V8h-2v7H8v2h7v7h2v-7h7v-2z"}))}function Ha({color:e="currentColor",width:t=32,height:r=32}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:t,height:r},u.createElement("path",{d:"M8 15h16v2H8z"}))}var Da=r(801),Ba=r(56056),Aa=r(44728),Va=r(16478);const Za=e=>{const{title:t,to:r,delay:n,offset:a,fixedWidth:i,isNowraped:s}=e;let o;const c=n||200,{s:l,css:d}=(0,mr.y)(Ua),{ref:m,refCallback:h,isHovered:g}=(0,Aa.X)({loseHoverOnClick:!0}),[f,v]=(0,u.useState)(!1);(0,u.useEffect)((()=>(g||(v(!1),window.clearTimeout(o)),()=>{window.clearTimeout(o)})),[g]);const y="undefined"!=typeof document?document.getElementById("tooltips"):void 0,b=(0,u.useMemo)((()=>m.current?m.current.getBoundingClientRect():void 0),[f,m.current]),w=(0,u.useMemo)((()=>g?f?t?g&&u.createElement(Va.k,{targetBoundingClientRect:b,offset:a||4,to:r},u.createElement("div",{className:d(l.content,s&&l._nowraped),style:{width:i||"auto"}},t)):null:(o=window.setTimeout((()=>v(!0)),c),null):null),[g,f,b]);return{ref:m,refCallback:h,addTooltip:y?(0,p.createPortal)(w,y):null}},Ua=(0,mr.k)({content:Object.assign(Object.assign({},fr.oN),{borderRadius:Et.E0.default,display:"flex",alignItems:"center",justifyContent:"center",color:Te.O.white,boxSizing:"border-box",opacity:.85,padding:8,pointerEvents:"none",background:Te.O.black}),_nowraped:{whiteSpace:"nowrap"}}),$a=e=>{const{title:t,to:r,children:n,delay:a,offset:i,fixedWidth:s,isNowraped:o}=e,{ref:c,addTooltip:l}=Za({title:t,to:r,delay:a,offset:i,fixedWidth:s,isNowraped:o});return u.createElement(u.Fragment,null,n(c),l)};class Wa extends u.Component{constructor(){super(...arguments),this.step=1,this.onZoomInClick=()=>{const{zoom:e,onZoomChange:t,maxZoom:r}=this.props,n=e+this.step;t(n>r?r:n)},this.onZoomOutClick=()=>{const{zoom:e,onZoomChange:t,minZoom:r}=this.props,n=e-this.step;t(n<r?r:n)}}render(){const{zoom:e,maxZoom:t,minZoom:r,i18n:{tp:n}}=this.props,a=n._t("Изменить масштаб");return u.createElement($a,{title:a,to:"centerStart"},(n=>u.createElement(Da.Z,{isVertical:!0,innerRef:n},u.createElement(Ba.o,{onClick:this.onZoomInClick,dataT:"zoom-in",disabled:e>=t,ariaLabel:a},u.createElement(Ra,null)),u.createElement(Ba.o,{onClick:this.onZoomOutClick,dataT:"zoom-out",disabled:e<=r,ariaLabel:a},u.createElement(Ha,null)))))}}Wa.displayName=(0,Le.I)("src/modules/controls/containers/zoom");const qa=(0,Re.$j)(Na,La)((0,Ye.C)((({projectData:e,is3d:t,zoom:r})=>{const n=(0,Fa.d)({project:e,is3d:t});return{zoom:r,minZoom:n.min,maxZoom:n.max}}))((0,ke.$)()(Wa)));var Ga=r(52561);class Qa extends u.PureComponent{constructor(){super(...arguments),this.beforeMoveState=void 0,this.onChangeStartHandler=e=>{this.bindHandlers(),this.beforeMoveState={x:e.clientX,y:e.clientY},this.props.onChangeStart&&this.props.onChangeStart(e)},this.onChangeHandler=(0,Ga.Z)((e=>{this.beforeMoveState&&this.props.onChange&&this.props.onChange({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})}),1e3/60),this.onChangeEndHandler=e=>{this.unbindHandlers(),this.beforeMoveState&&this.props.onChangeEnd&&this.props.onChangeEnd({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})},this.unbindHandlers=()=>{window.removeEventListener("mouseup",this.onChangeEndHandler),window.removeEventListener("mousemove",this.onChangeHandler)},this.bindHandlers=()=>{window.addEventListener("mouseup",this.onChangeEndHandler),window.addEventListener("mousemove",this.onChangeHandler)}}render(){const{children:e,dataN:t}=this.props;return u.createElement("div",Object.assign({onMouseDown:this.onChangeStartHandler},t?Ce.dx.n(t):{}),e)}componentWillUnmount(){this.unbindHandlers()}}Qa.displayName=(0,Le.I)("src/shared/kit/mouseMoveHandler");const Ka=Qa,Ja=(0,Fe.P1)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),Xa=(0,Re.X1)(((e,t)=>Ja({state:e,props:t})));var Ya=r(56372),ei=r(87346);const ti=(0,Re.Z3)((e=>({onCenterClick({pitch:t}){const r=(0,ei.q)(t);e((0,Ya.xN)({pitch:r?0:45,duration:2e3,animate:!0,zoom:r?void 0:17,rotation:0}))},onRingRotate({rotation:t}){e((0,Ya.xN)({rotation:t}))},pushToHistory(){e((0,T.BN)())},toggle3d(){e((0,G._N)((e=>e.session.is3dEnabled),(e=>(0,j.Tj)({is3dEnabled:!e}))))}})));function ri({disabled:e=!1}){return u.createElement("svg",{width:"58",height:"58",xmlns:"http://www.w3.org/2000/svg"},u.createElement("defs",null,u.createElement("path",{d:"M26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 Z M26,42 C34.836556,42 42,34.836556 42,26 C42,17.163444 34.836556,10 26,10 C17.163444,10 10,17.163444 10,26 C10,34.836556 17.163444,42 26,42 Z",id:"path-1"}),u.createElement("filter",{x:"-8.7%",y:"-8.7%",width:"117.3%",height:"117.3%",filterUnits:"objectBoundingBox",id:"filter-2"},u.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter1"}),u.createElement("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),u.createElement("feColorMatrix",{values:"0 0 0 0 0.149019608   0 0 0 0 0.149019608   0 0 0 0 0.149019608  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})),u.createElement("linearGradient",{x1:"50%",y1:"81.6633181%",x2:"50%",y2:"0%",id:"linearGradient-3"},u.createElement("stop",{stopColor:"#E33B1E",offset:"0%"}),u.createElement("stop",{stopColor:"#F7561B",offset:"100%"}))),u.createElement("g",{id:"Map-Controls",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.createElement("g",{id:"2gis5-map-controls-elements",transform:"translate(-317.000000, -901.000000)"},u.createElement("g",{id:"Group-2-Copy-7",transform:"translate(320.000000, 904.000000)"},u.createElement("g",{id:"outer-ring"},u.createElement("g",{id:"Combined-Shape"},u.createElement("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-2)",xlinkHref:"#path-1"}),u.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})),u.createElement("rect",{id:"Rectangle-13",fill:"#E6E6E6",x:"45",y:"24",width:"4",height:"4",rx:"2"}),u.createElement("rect",{id:"Rectangle-13-Copy-2",fill:"#E6E6E6",x:"3",y:"24",width:"4",height:"4",rx:"2"}),u.createElement("polygon",{id:"Path-2",fill:e?"#E6E6E6":"#000000",points:"29 44 26 50 23 44"}),u.createElement("polygon",{id:"Path-2",fill:e?"#E6E6E6":"url(#linearGradient-3)",points:"29 8 23 8 26 2"}))))))}function ni({color:e="currentColor",fill:t="#FFFFFF"}){return u.createElement("svg",{width:"38",height:"38",xmlns:"http://www.w3.org/2000/svg"},u.createElement("defs",null,u.createElement("circle",{id:"b",cx:"16",cy:"16",r:"16"}),u.createElement("filter",{x:"-14.1%",y:"-14.1%",width:"128.1%",height:"128.1%",filterUnits:"objectBoundingBox",id:"a"},u.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),u.createElement("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),u.createElement("feColorMatrix",{values:"0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0.5 0",in:"shadowBlurOuter1"}))),u.createElement("g",{fill:"none",fillRule:"evenodd"},u.createElement("g",{transform:"translate(3 3)"},u.createElement("use",{fill:"#000",filter:"url(#a)",xlinkHref:"#b"}),u.createElement("use",{style:{fill:t,transition:"fill .25s linear"},xlinkHref:"#b"})),u.createElement("path",{d:"M15.759 21.144c0-1.19-1.106-1.666-2.548-1.666h-.406v-1.512h.336c1.456 0 2.366-.532 2.366-1.484 0-.882-.77-1.358-1.61-1.358-1.162 0-1.904.742-2.002 1.792h-1.834c.224-2.016 1.624-3.248 3.948-3.248 1.694 0 3.444.812 3.444 2.73 0 .98-.602 1.806-1.372 2.226a2.656 2.656 0 0 1 1.638 2.464c0 2.058-1.778 3.094-3.92 3.094-2.324 0-3.696-1.512-3.822-3.374h1.82c.14 1.022.798 1.918 2.058 1.918 1.05 0 1.904-.63 1.904-1.582zm6.426-7.294c3.22 0 5.642 1.05 5.642 5.068 0 4.032-2.422 5.082-5.642 5.082h-3.01V13.85h3.01zm-.084 1.568h-.924v7.014h.924c1.848 0 3.654-.462 3.654-3.514 0-3.038-1.806-3.5-3.654-3.5z",style:{fill:e,transition:"fill .25s linear"}})))}var ai=r(42439);var ii=r(47910);class si extends u.PureComponent{constructor(){super(...arguments),this.state={isHoverOnClickableInner:!1,isRotationInProgress:!1},this.rotationState=void 0,this.renderControl=e=>{const{pitch:t,s:r}=this.props,n=this.setColors();return u.createElement("div",{ref:e,className:(0,xe.iv)(r.root),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.createElement("div",{className:(0,xe.iv)(r.inner),style:{transform:`rotateX(${t}deg)`}},u.createElement(ni,{color:n.color,fill:n.fill})),this.renderOuterRing(),u.createElement("div",{className:(0,xe.iv)(r.clickableInner),onClick:this.handleCenterClick,onMouseEnter:this.onClickableInnerMouseEnter,onMouseLeave:this.onClickableInnerMouseLeave}))},this.onMouseEnter=()=>{this.props.hoverableHandlers.onMouseEnter()},this.onMouseLeave=()=>{this.props.hoverableHandlers.onMouseLeave(),this.state.isHoverOnClickableInner&&this.setState({isHoverOnClickableInner:!1})},this.onClickableInnerMouseEnter=()=>{this.setState({isHoverOnClickableInner:!0})},this.onClickableInnerMouseLeave=()=>{this.setState({isHoverOnClickableInner:!1})},this.setColors=()=>{const{isHoverOnClickableInner:e}=this.state,{pitch:t}=this.props;if(e)return{color:(0,ha.j)(Te.O.white,.7),fill:Te.O.blue_028eff};return(0,ei.q)(t)?{color:Te.O.white,fill:Te.O.blue_028eff}:{color:Te.O.gray_262626,fill:Te.O.white}},this.onRotationStart=e=>{const t=e.currentTarget.children.item(0);if(t){const{left:r,width:n}=t.getBoundingClientRect(),a=e.clientX-r<=n/2?1:-1;this.rotationState={initialRotation:this.props.rotation,sign:a},this.setState({isRotationInProgress:!0})}},this.onRotationEnd=({y:e})=>{if(!this.rotationState)return;const{rotation:t,onRingRotate:r}=this.props;0!==t&&0===e&&r({rotation:0}),this.rotationState=void 0,this.props.pushToHistory(),this.setState({isRotationInProgress:!1})},this.rotate=({y:e})=>{if(!this.rotationState)return;const t=180*e/(window.innerHeight/3),r=Math.round(this.rotationState.initialRotation+this.rotationState.sign*t)%360;this.props.onRingRotate({rotation:r})},this.handleCenterClick=e=>{const{is3d:t}=this.props;return this.props.bssOn3dControlClick(),t?t&&0===e.button&&e.altKey?((0,ii.J)("is3dDisabled","1"),this.props.toggle3d(),void location.reload()):void this.props.onCenterClick({rotation:this.props.rotation,pitch:this.props.pitch}):((0,ii.J)("is3dDisabled",void 0),this.props.toggle3d(),void location.reload())}}render(){const{i18n:e,is3d:t,s:r}=this.props,{isRotationInProgress:n}=this.state;return t?n?this.renderControl():u.createElement($a,{title:e.tp._t("Чтобы вращать карту, зажимайте Ctrl вместе с кнопкой мыши и двигайте курсор"),to:"centerStart",offset:12,fixedWidth:273},(e=>this.renderControl(e))):u.createElement("div",{className:(0,xe.iv)(r.root),onClick:this.handleCenterClick},u.createElement("div",{className:(0,xe.iv)(r.inner)},u.createElement(ni,{color:Te.O.gray_929292,fill:Te.O.gray_f2f2f2})),u.createElement("div",{className:(0,xe.iv)(r.ring)},u.createElement(ri,{disabled:!0})))}renderOuterRing(){const{rotation:e,s:t}=this.props,r=u.createElement("div",{className:(0,xe.iv)(t.ring),style:{transform:`rotate(${e}deg)`}},u.createElement(ri,null));return u.createElement(Ka,{onChangeStart:this.onRotationStart,onChange:this.rotate,onChangeEnd:this.onRotationEnd,dataN:"wat-map-controls-3d-outer-ring"},r)}}si.displayName=(0,Le.I)("src/modules/controls/containers/rotate");const oi=(0,Re.$j)(Xa,ti)((0,ai.$)((0,ke.$)()((0,xe.D2)({root:{position:"absolute",end:-13,width:58,height:58},ring:{position:"absolute",top:0,start:0,lineHeight:0,cursor:"pointer"},inner:{width:38,height:38,position:"absolute",top:10,start:10},clickableInner:{width:32,height:32,position:"absolute",top:13,borderRadius:"50%",cursor:"pointer",start:0,end:0,margin:"auto"},tooltip:{width:273,padding:16}})((0,_e.z)(void 0,((e,t)=>({bssOn3dControlClick(){e((0,ft.zs)({uiElement:{name:"map3DControl",frameUuid:t.ownerFrameId},action:"tap"}))}})))(si)))));var ci=r(91647);const li=(0,Fe.P1)([({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.floorNames,({state:e})=>e.appContext.floors&&e.appContext.floors.currentFloor,({state:e})=>(0,te.S)(e)],((e,t,r)=>({floorNames:e,currentFloor:t,markersOnFloors:r}))),di=(0,Re.X1)(((e,t)=>li({state:e,props:t}))),ui=(0,Re.Z3)((e=>({onClickFloor(t){e((0,Ya.EL)({floorIndex:t}))}})));class pi extends u.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{onClick:e,index:t}=this.props;e(t)}}render(){const{disabled:e,label:t,s:r,hasResults:n}=this.props;return u.createElement("button",{className:(0,xe.iv)(r.control),disabled:e,onClick:this.handleClick},u.createElement("div",{className:(0,xe.iv)(r.label,n&&r._hasResults)},t))}}pi.displayName=(0,Le.I)("src/modules/controls/containers/floorsControl/components/floor");const mi={control:{background:Te.O.white,height:32,width:32,color:Te.O.gray_262626,cursor:"pointer",borderBottom:`1px solid ${Te.O.gray_e6e6e6}`,boxSizing:"border-box",flexShrink:0,":first-child":{borderBottom:"none"},":hover":{color:(0,ha.j)(Te.O.gray_262626,.7)},":active":{color:Te.O.blue_028eff},":disabled":{background:Te.O.gray_f2f2f2,color:Te.O.gray_929292,cursor:"default"}},label:Object.assign(Object.assign({},fr.FY),{position:"relative",lineHeight:"32px",textAlign:"center",height:"100%"}),_hasResults:{":after":{content:'""',position:"absolute",top:4,end:4,width:4,height:4,borderRadius:"50%",background:Te.O.blue_028eff}}},hi=(0,xe.D2)(mi)(pi);class gi extends u.PureComponent{constructor(){super(...arguments),this.state={noScroll:!0,scrollPosition:"top"},this.scrollerContainer=u.createRef(),this.contentContainer=u.createRef(),this.onClickFloor=e=>{this.props.onClickFloor(e)},this.detectHasScroll=()=>{const e=this.scrollerContainer.current,t=this.contentContainer.current;e&&t&&e.clientHeight<t.clientHeight&&this.setState({noScroll:!1})},this.onScroll=e=>{const t=this.scrollerContainer.current;if(this.state.noScroll||!t)return;const r=e.currentTarget.scrollTop;0!==r?r+t.clientHeight!==t.scrollHeight?this.setState({scrollPosition:"middle"}):this.setState({scrollPosition:"bottom"}):this.setState({scrollPosition:"top"})}}componentDidMount(){setTimeout(this.detectHasScroll,0)}componentDidUpdate(e){e.floors.length!==this.props.floors.length&&setTimeout(this.detectHasScroll,0)}render(){const{s:e,floors:t,currentFloor:r}=this.props;return u.createElement("div",{className:(0,xe.iv)(e.root)},u.createElement("div",{className:(0,xe.iv)(e.container)},!this.state.noScroll&&u.createElement(u.Fragment,null,"top"!==this.state.scrollPosition&&u.createElement("div",{className:(0,xe.iv)(e.scrollGradientTop)})),u.createElement("div",{className:(0,xe.iv)(e.scroller),ref:this.scrollerContainer,onScroll:this.onScroll},u.createElement("div",{className:(0,xe.iv)(e.content),ref:this.contentContainer},t.map(((e,t)=>u.createElement(hi,{label:e.floorName,key:t,disabled:t===r,onClick:this.onClickFloor,index:t,hasResults:e.hasResults}))))),!this.state.noScroll&&u.createElement(u.Fragment,null,"bottom"!==this.state.scrollPosition&&u.createElement("div",{className:(0,xe.iv)(e.scrollGradientBottom)}))))}}gi.displayName=(0,Le.I)("src/modules/controls/containers/floorsControl");const fi={root:{position:"relative"},container:{display:"flex",maxHeight:"40vh",background:Te.O.white,width:32,overflow:"hidden",borderRadius:Et.E0.default,boxShadow:ia.q.popup},scroller:{width:"100%",overflowX:"hidden",overflowY:"auto",paddingEnd:17,marginEnd:-17},content:{display:"flex",flexDirection:"column-reverse"},scrollGradientTop:{pointerEvents:"none",height:40,width:32,position:"absolute",backgroundImage:`linear-gradient(to bottom, ${Te.O.gray_f2f2f2}, ${Te.O.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`},scrollGradientBottom:{height:40,width:32,position:"absolute",bottom:0,pointerEvents:"none",backgroundImage:`linear-gradient(to top, ${Te.O.gray_f2f2f2}, ${Te.O.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`}},vi=(0,Re.$j)(di,ui)((0,Ye.C)((({markersOnFloors:e,floorNames:t,currentFloor:r})=>{if(t)return{floors:t.reduce(((t,r,n)=>{const a=!!(e&&e[n]||[]).length;return t.push({floorName:r,hasResults:a}),t}),[]),currentFloor:r}}))((0,xe.D2)(fi)(gi)));var yi=r(44027);const bi=(0,Re.Z3)((e=>({onFeedbackClick(){e((0,yi.U)("online5"))}})));class wi extends u.PureComponent{constructor(){super(...arguments),this.state={expand:!0===this.props.expand||void 0===this.props.expand,leftPosition:void 0,doNotAnimate:!0,expandExternal:!!this.props.expand},this.initialTimeout=void 0,this.setSizeTimeout=void 0,this.textContainer=u.createRef(),this.onMouseEnter=()=>{this.initialTimeout&&clearTimeout(this.initialTimeout),this.state.doNotAnimate||this.setState({expand:!0})},this.onMouseLeave=()=>{this.state.doNotAnimate?this.setState({doNotAnimate:!1,expand:!1}):this.setState({expand:!1})},this.onClick=()=>{this.props.onClick()}}static getDerivedStateFromProps(e,t){return!1===e.expand?Object.assign(Object.assign({},t),{expandExternal:!1}):null}componentDidMount(){const e=this.textContainer.current;e&&(this.initialTimeout=setTimeout((()=>{this.setState({doNotAnimate:!1,expand:!1})}),3e3),this.setSizeTimeout=setTimeout((()=>{const t=e.offsetWidth>220?220:e.offsetWidth;this.setState({leftPosition:-t})}),0))}componentWillUnmount(){this.initialTimeout&&clearTimeout(this.initialTimeout),this.setSizeTimeout&&clearTimeout(this.setSizeTimeout)}render(){const{text:e,s:t,href:r,dir:n,icon:a,color:i,bgColor:s,withShadow:o}=this.props,{expand:c,expandExternal:l,doNotAnimate:d}=this.state,p=i?{color:i}:{},m=s?{backgroundColor:s}:{};return u.createElement("a",{href:r,onClick:this.onClick,target:r?"_blank":void 0,className:(0,xe.iv)(t.wrapper),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.createElement("div",{className:(0,xe.iv)(t.inner,!d&&t._hasTransition,o&&t._withShadow),style:(0,we.Qo)(Object.assign(Object.assign({start:c||l?this.state.leftPosition:void 0},p),m),n)},u.createElement("div",{className:(0,xe.iv)(t.icon)},a),u.createElement("div",{className:(0,xe.iv)(t.text,(c||l)&&t._showed),ref:this.textContainer},e)))}}wi.displayName=(0,Le.I)("src/shared/components/expandControl");const Ii={wrapper:Object.assign(Object.assign({},fr.oN),{cursor:"pointer",position:"relative",display:"block",width:40,height:40}),inner:{position:"absolute",transform:"translateZ(0)",top:0,bottom:0,start:0,end:0,display:"flex",flexDirection:"row-reverse",alignItems:"center",paddingTop:8,paddingBottom:8,paddingStart:4,paddingEnd:0,boxSizing:"border-box",opacity:1,borderRadius:Et.E0.oval,color:Te.O.white,background:(0,ha.j)(Te.O.black,.85),overflow:"hidden"},_hasTransition:{transition:"left 200ms"},icon:{flex:"0 0 40px",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center"},text:{flex:"0 0 auto",display:"inline-block",paddingTop:0,paddingBottom:0,paddingStart:24,paddingEnd:8,transform:"translateZ(0)",pointerEvents:"none",opacity:0},_showed:{opacity:1,transition:"opacity 200ms 75ms"},_withShadow:{boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)"}},Ei=(0,ai.$)((0,xe.D2)(Ii)(wi));function Ci({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},u.createElement("path",{d:"M4.92 27.08l2.25-6.77A10.5 10.5 0 1 1 16.5 26a10.57 10.57 0 0 1-4.81-1.17zm7-4.43l.39.22a8.52 8.52 0 1 0-3.15-3.15l.22.39-1.3 3.81z"}))}class xi extends u.PureComponent{constructor(){super(...arguments),this.onFeedbackClick=()=>{const{onFeedbackClick:e,bssOnFeedbackClick:t}=this.props;e(),t()}}render(){const{i18n:e}=this.props;return u.createElement("div",Object.assign({},Ce.dx.n("wat-feedback-btn")),u.createElement(Ei,{key:"feedback",onClick:this.onFeedbackClick,icon:u.createElement(Ci,null),text:e.tp._t("Обратная связь")}))}}xi.displayName=(0,Le.I)("src/modules/controls/containers/feedbackControl");const ki=(0,_e.z)(void 0,((e,t)=>({bssOnFeedbackClick(){e((0,ft.zs)({uiElement:{name:"feedbackButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,Re.$j)(void 0,bi)((0,ke.$)()(xi)));var _i=r(74805),Oi=r(42262);var Si=r(63206);var zi=r(68603),Mi=r(44025);const ji={isDirectionsOpened:e=>{return!!(t=e.appContext.frames).length&&(0,Si.B7)(t[t.length-1]);var t},regionCode:h.SJ,isDirectionFrameOpen:e=>!!(0,xr.t0)(e.appContext.frames,"directions")},Ti={onOpenDirections:()=>(0,z.vP)((0,T.BN)(),(0,zi.b)()),onCloseDirections:V.hp},Ni=((0,Le.I)("src/modules/controls/containers/findRouteControl"),(0,Gn.G)({selectors:ji,handlers:Ti})((0,Ye.C)((({isDirectionsOpened:e},{tp:t})=>({title:e?t._t("Поиск мест"):t._t("Поиск проезда"),urlParams:e?{type:"root"}:{type:"directions"}})))((0,_e.z)(void 0,((e,t)=>({bssOnOpenDirections(){e((0,ft.zs)({uiElement:{name:"routeSearchIcon",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,xe.D2)((({mobile:e})=>({root:{cursor:"pointer",position:"absolute",start:e?0:40,width:40,height:40,overflow:"hidden",padding:4,borderRadius:Et.E0.default,boxShadow:ia.q.popup,boxSizing:"border-box",background:Te.O.white,color:Te.O.gray_262626,":hover":{color:(0,ha.j)(Te.O.gray_262626,.7)}}})))((e=>{const{s:t,isDirectionsOpened:r,urlParams:n,title:a,onOpenDirections:i,onCloseDirections:s,bssOnOpenDirections:o}=e,c=(0,u.useCallback)((e=>{if(e.preventDefault(),r)return s();i(),o()}),[r,n,a,i,s,o]);return u.createElement(Gt.E,Object.assign({},n),(e=>u.createElement($a,{title:a,to:"centerEnd",offset:8},(n=>u.createElement(u.Fragment,null,u.createElement("a",Object.assign({ref:n,href:e,className:(0,xe.iv)(t.root),onClick:c},(0,Mi.P)({label:a}),Ce.dx.n("wat-find-route-button")),u.createElement("div",null,r?u.createElement(Oi.o,null):u.createElement(_i.Z,null))))))))})))))),Pi=(0,Fe.P1)([({state:e})=>e.session.geolocation.allowed,({state:e})=>e.session.geolocation.position],((e,t)=>({allowed:e,position:t}))),Li=(0,Re.X1)(((e,t)=>Pi({state:e,props:t})));var Fi=r(40779);const Ri=(0,Re.Z3)((e=>({activate:()=>e((0,Fi.Fd)()),deactivate:()=>e((0,Fi.ck)())})));var Hi=r(30875);const Di=32;class Bi extends u.Component{constructor(){super(...arguments),this.onClick=()=>!1===this.props.isEnabled?this.props.activate():this.props.deactivate()}render(){const{s:e,isEnabled:t,i18n:{tp:r}}=this.props,n=r._t("Моё местоположение");return u.createElement($a,{to:"centerStart",title:n,isNowraped:!0},(r=>u.createElement("div",Object.assign({className:(0,xe.iv)(e.root),ref:r},(0,Mi.P)({label:n})),u.createElement("button",Object.assign({onClick:this.onClick,className:(0,xe.iv)(e.control),disabled:!1},Ce.n("wat-control-my-geolocation")),void 0===t?u.createElement("span",{className:(0,xe.iv)(e.loader)}):u.createElement("span",{className:(0,xe.iv)(e.icon,t&&e._active)},u.createElement(Hi.Y,null))))))}}Bi.displayName=(0,Le.I)("src/modules/controls/containers/myGeolocationControl");const Ai=(0,Re.$j)(Li,Ri)((0,Ye.C)((({allowed:e,position:t})=>({isEnabled:!!e&&(!!t||void 0)})))((0,xe.D2)((({mobile:e})=>({root:{width:e?40:Di,background:Te.O.white,boxShadow:ia.q.popup,borderRadius:Et.E0.default,display:"flex",flexDirection:"column",overflow:"hidden"},control:Object.assign(Object.assign({},fr.FY),{position:"relative",background:Te.O.white,height:e?40:Di,width:e?40:Di,cursor:"pointer",color:Te.O.gray_262626,borderBottom:`1px solid ${Te.O.gray_e6e6e6}`,boxSizing:"border-box",":last-child":{borderBottom:"none"}}),icon:{display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7},":active":{color:Te.O.blue_028eff}},_active:{color:Te.O.blue_028eff},loader:{position:"absolute",boxSizing:"content-box",borderWidth:2,borderRadius:"50%",borderStyle:"solid",borderColor:Te.O.blue_028eff,color:"transparent",top:0,right:0,bottom:0,left:0,opacity:0,transition:`top, right, bottom, left, opacity ${sa.Z.base}`,animationIterationCount:"infinite",animationDuration:`${sa.l.spinner}ms`,animationName:{"0%":{top:14,right:14,bottom:14,left:14,opacity:1},"50%":{top:2,right:2,bottom:2,left:2,opacity:0}}}})))((0,ke.$)()(Bi))));var Vi=r(9127);const Zi=(0,Fe.P1)([({state:e})=>(0,Be.bG)(e).data,({state:e})=>(0,Be.zP)(e)],((e,t)=>({user:e,userStatusIsUnknown:t}))),Ui=(0,Re.X1)(((e,t)=>Zi({state:e,props:t})));var $i=r(5851),Wi=r(85610);const qi=(0,Re.Z3)((e=>({onLogin(){e((0,$i.m)())},openUserProfile(){e((0,Wi.D)())}})));var Gi=r(59123);var Qi=r(57826),Ki=r(92151);const Ji=()=>(0,J.yy)({toast:void 0}),Xi=(0,z.gQ)("openProfile",(e=>{return(0,z.vP)((0,T.BN)(),(0,Wi.D)("achievements"===(t=e)||"photos"===t||"feedbacks"===t||"reviews"===t||"favorites"===t||"missions"===t||"checkins"===t?t:void 0),Ji());var t}));var Yi=r(47004),es=r(20309),ts=r(87980),rs=r(29054);function ns({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},u.createElement("path",{d:"M16 14h2v5h-2v-5z"}),u.createElement("path",{d:"M28.3 23.6L19.6 7.7c-.8-1.5-2.6-2-4.1-1.2-.5.3-.9.7-1.2 1.2L5.7 23.6c-.5.9-.5 2.1 0 3 .6.9 1.6 1.4 2.7 1.4h17.3c1.1 0 2-.6 2.6-1.5.5-.9.5-2 0-2.9zm-1.8 2c-.2.3-.5.4-.9.4H8.4c-.6 0-1-.4-1-1 0-.2 0-.3.1-.5l8.6-15.9c.3-.4.9-.6 1.4-.3.2.1.3.2.4.4l8.6 15.8c.2.3.2.7 0 1.1z"}),u.createElement("path",{d:"M16 21h2v2h-2v-2z"}))}function as({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},u.createElement("path",{d:"M24.2 28.5L16 23.3l-8.2 5.2 2.2-9.7-7.6-6.1 9.9-.8L16 3l3.7 9 9.9.8-7.6 6 2.2 9.7zM16 20.9l5.2 3.3-1.4-6.2 4.6-3.7-6-.5L16 8.2l-2.4 5.7-6 .5 4.6 3.7-1.5 6.2 5.3-3.4z"}))}function is({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},u.createElement("path",{d:"M20.6 11.5l4.3-6.7-1.7-1.1-4.4 7c-.8-.2-1.6-.4-2.4-.4l3.5-5.5-1.7-1.1L16 7.1l-2.2-3.4-1.7 1.1L14.8 9l-1 1.6-.6.1-4.4-7-1.6 1.1 4.3 6.7c-4.3 2.5-5.7 8-3.2 12.3s8 5.7 12.3 3.2 5.7-8 3.2-12.3c-.8-1.3-1.9-2.4-3.2-3.2zM16 26.3c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z"}))}function ss({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},u.createElement("path",{d:"M17 5C10.9 5 6 9.9 6 16s4.9 11 11 11c2.8 0 5.6-1.1 7.6-3.1C26.8 21.8 28 19 28 16c0-6.1-4.9-11-11-11zm0 2c5 0 9 4 9 9 0 2.1-.8 4.2-2.1 5.8C22.3 20.6 20 20 17 20s-5.3.6-6.9 1.8C6.9 18 7.4 12.3 11.2 9.1 12.8 7.8 14.9 7 17 7zm-5.4 16.2c1.6-.9 3.5-1.3 5.4-1.2 1.9-.1 3.7.3 5.4 1.2a9 9 0 01-10.8 0z"}),u.createElement("path",{d:"M17 18c2.5 0 4-1.9 4-4.5S19.5 9 17 9s-4 1.9-4 4.5 1.5 4.5 4 4.5zm0-7c1.8 0 2 1.7 2 2.5s-.2 2.5-2 2.5-2-1.8-2-2.5c0-.9.3-2.5 2-2.5z"}))}const os=()=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},u.createElement("path",{fill:"#262626",fillRule:"evenodd",d:"M6.05 17.001C6.551 22.054 10.814 26 16 26s9.448-3.946 9.95-8.999h2.009C27.45 23.16 22.29 28 16 28S4.55 23.16 4.041 17zM27.621 13c.166.647.28 1.315.337 2l-3.14-.001-.517 2.59a3 3 0 01-2.764 2.406L21.36 20H20a3 3 0 01-2.995-2.824L17 17v-2.001h-2V17a3 3 0 01-2.824 2.995L12 20h-1.36a3 3 0 01-2.902-2.238l-.04-.174L7.18 15H4.041c.057-.684.17-1.352.337-2h23.244zm-14.623 1.999H9.22l.44 2.197a1 1 0 00.863.797l.118.007H12a1 1 0 00.993-.883L13 17v-2.001zm9.781 0H19V17a1 1 0 00.883.993L20 18h1.36a1 1 0 00.951-.69l.03-.114.44-2.197zM16 4c4.843 0 9.016 2.869 10.912 7h-2.25A9.995 9.995 0 0016 6a9.996 9.996 0 00-8.662 5h-2.25C6.984 6.869 11.158 4 16 4z"})),cs=({color:e="currentColor"})=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},u.createElement("path",{d:"M8 5a1 1 0 011.341-.94l.106.046 16 8a1 1 0 01.14 1.705l-.113.07-13 7-.948-1.761 11.303-6.088L10 6.618V27H8V5z",fill:e,fillRule:"evenodd"}));var ls=r(18533),ds=r(48215);const us={handleOpenProfile:Xi,handleOpenMessenger:()=>(0,es.g)({}),handleEditUserProfile:Yi.Z,handleLogout:ls.k};class ps extends u.PureComponent{render(){const{s:e,listsToRender:t}=this.props;return u.createElement("nav",Object.assign({className:(0,xe.iv)(e.root)},Ce.dx.n("wat-avatar-toast")),t.map(((t,r)=>u.createElement("ul",{className:(0,xe.iv)(e.list),key:r},t.map(((t,r)=>u.createElement("li",Object.assign({key:r,className:(0,xe.iv)(e.item),onClick:this.handleMenuItemClick(t.type)},Ce.dx.n("wat-avatar-toast-item"),Ce.dx.t(t.type)),u.createElement("div",{className:(0,xe.iv)(e.icon)},(e=>{switch(e){case"edit":return u.createElement(ss,null);case"achievements":return u.createElement(is,null);case"photos":return u.createElement(rs.P,null);case"reviews":return u.createElement(as,null);case"feedbacks":return u.createElement(ns,null);case"messenger":return u.createElement(Ci,null);case"favorites":return u.createElement(ts.r,null);case"missions":return u.createElement(os,null);case"checkins":return u.createElement(cs,null);case"logout":return}})(t.type)),t.title)))))))}handleMenuItemClick(e){return()=>{const{handleOpenProfile:t,handleOpenMessenger:r,handleEditUserProfile:n,handleLogout:a}=this.props;"logout"!==e?"messenger"!==e?("edit"===e&&n(),t(e)):r():a()}}}const ms={root:{display:"block",boxShadow:ia.q.popup,borderRadius:Et.E0.default,background:Te.O.white,padding:"12px 0",minWidth:192},list:{boxSizing:"border-box",position:"relative",boxShadow:ia.q.innerBorderBottomBase,"&:not(:last-child)":{paddingBottom:8},"&:nth-child(1n+2)":{paddingTop:12},"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",paddingTop:0,paddingBottom:0,paddingStart:16,paddingEnd:8,listStyleType:"none",color:Te.O.gray_929292,cursor:"pointer",":hover":{color:Te.O.blue_028eff}},icon:{postion:"absolute",height:32,width:32,color:Te.O.gray_262626,start:0,marginEnd:16}},hs=(0,xe.D2)(ms)(ps),gs=(0,Gn.G)({selectors:()=>({isUserAuthorized:Be.Pc,regionId:h.yH}),handlers:us})((0,Ye.C)((({isUserAuthorized:e,regionId:t},{tp:r,config:n})=>{if(!e)return;const a=(0,ds.z)(t),i=[{title:r._t("Награды"),type:"achievements"},{title:r._t("Отзывы"),type:"reviews"},{title:r._t("Фотографии"),type:"photos"},{title:r._t("Уточнения"),type:"feedbacks"},{title:r._t("Сообщения"),type:"messenger"}];n.featureAgents&&n.dashboardCarouselItems.includes("agents2020")&&i.unshift({title:r._gg("Миссии"),type:"missions"}),a&&i.unshift({title:r._gg("Чекины"),type:"checkins"}),i.unshift({title:r._t("Избранное"),type:"favorites"});return{listsToRender:[i,[{title:r._t("Редактировать"),type:"edit"},{title:r._t("Выйти"),type:"logout"}]]}}))((0,ke.$)()(hs)));class fs extends u.PureComponent{constructor(){super(...arguments),this.avatarRef=u.createRef(),this.renderInner=()=>{const{showAvatar:e,avatar:t,userStatusIsUnknown:r,i18n:n,s:a}=this.props;return r?null:e?u.createElement(Qi.q,{initials:this.renderInitials,src:t}):u.createElement("div",{className:(0,xe.iv)(a.button)},u.createElement(Vi.u,null),u.createElement(_t.N,null,u.createElement("div",Object.assign({className:(0,xe.iv)(a.buttonName)},Ce.dx.n("wat-enter")),n.tp._t("Войти"))))},this.onLogin=()=>{const{showAvatar:e,onLogin:t,openUserProfile:r,trackLoginClick:n}=this.props;e?r():(n(),t())},this.renderInitials=()=>this.props.initials}render(){const{s:e,showRedOutline:t,showAvatar:r,i18n:{tp:n}}=this.props;return u.createElement(Ki.T,null,(({isHovered:a,hoverHandlers:i})=>u.createElement("div",Object.assign({},i),u.createElement("div",Object.assign({className:(0,xe.iv)(e.root,t&&e._redOutline),onClick:this.onLogin},Ce.dx.n("wat-auth-control"),{ref:this.avatarRef}),r?this.renderInner():u.createElement($a,{to:"bottomMiddle",title:n._t("Вход в аккаунт"),offset:8,isNowraped:!0},(e=>u.createElement("div",{ref:e,style:{display:"flex"}},this.renderInner())))),a&&u.createElement(_t.N,null,u.createElement("div",{className:(0,xe.iv)(e.tooltip)},u.createElement(gs,null))))))}}fs.displayName=(0,Le.I)("src/modules/controls/containers/authControl");const vs={root:Object.assign(Object.assign({},fr.oN),{display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40,borderRadius:Et.E0.oval,color:Te.O.gray_262626,background:Te.O.white,boxShadow:ia.q.popup,overflow:"hidden",":hover":{color:(0,ha.j)(Te.O.gray_262626,.7)}}),_redOutline:{outline:"2px solid red"},tooltip:{position:"absolute",top:40,end:0,paddingTop:8,zIndex:Et.W5.top},button:{display:"flex",justifyContent:"center",alignItems:"center",padding:"0 4px"},buttonName:Object.assign({paddingTop:0,paddingBottom:0,paddingStart:4,paddingEnd:8},fr.Rw)},ys=(0,_e.z)(void 0,((e,t)=>({trackLoginClick(){const r={uiElement:{name:"authorisationButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"};return e((0,ft.zs)(r))}})))((0,Re.$j)(Ui,qi)((0,Ye.C)((({user:e,userStatusIsUnknown:t},{config:r,tp:n})=>{const a=r.isConfigOverridden,i=(null==e?void 0:e.avatar_preview_tpl)?e.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):null==e?void 0:e.avatar;return t||!e?{userStatusIsUnknown:t,showAvatar:!1,showRedOutline:a}:{userStatusIsUnknown:!1,showAvatar:!0,initials:(0,Gi.C)(e,n),avatar:i,showRedOutline:a}}))((0,xe.D2)(vs)((0,ke.$)()(fs)))));function bs({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:32,height:32},u.createElement("path",{d:"M19 5.59L5.59 19 13 26.41 26.41 13zM8.41 19L10 17.41l2.29 2.3 1.42-1.42-2.3-2.29L13 14.41l2.29 2.3 1.42-1.42-2.3-2.29L16 11.41l2.29 2.3 1.42-1.42-2.3-2.29L19 8.41 23.59 13 13 23.59z"}))}const ws={activate:function(){return(0,Mr.s_)({isActive:!0})},deactivate:function(){return(0,Mr.s_)({isActive:!1,points:[]})}};class Is extends u.Component{constructor(){super(...arguments),this.onClick=()=>(this.props.bssOnClick(),this.props.ruler.isActive?this.props.deactivate():this.props.activate())}render(){const{i18n:e,ruler:t}=this.props,r=e.tp._t("Линейка");return u.createElement($a,{to:"centerStart",title:r},(e=>u.createElement(Da.Z,null,u.createElement(Ba.o,{isActive:t.isActive,onClick:this.onClick,dataT:"ruler",innerRef:e,ariaLabel:r},u.createElement(bs,null)))))}}Is.displayName=(0,Le.I)("src/modules/controls/containers/ruler");const Es=(0,_e.z)(void 0,((e,t)=>({bssOnClick(){e((0,ft.zs)({action:"tap",uiElement:{name:"ruler",frameUuid:t.ownerFrameId}}))}})))((0,ke.$)()(Is)),Cs=(0,Gn.G)({selectors:{ruler:e=>e.appContext.ruler},handlers:ws})(Es);function xs({color:e="currentColor"}){return u.createElement("svg",{viewBox:"0 0 18 18",width:"18",height:"18"},u.createElement("path",{fill:e,fillRule:"evenodd",d:"M5 10h1a3 3 0 0 1 3-3V6a4 4 0 0 0-4 4m4 6A6 6 0 0 1 9 4a6 6 0 0 1 0 12M9 0a9 9 0 0 0-9 9c0 .688.084 1.355.23 2h.839c.493 3.945 3.852 7 7.931 7 4.079 0 7.438-3.055 7.931-7h.839c.146-.645.23-1.312.23-2a9 9 0 0 0-9-9"}))}var ks=r(67751),_s=r(63715);const Os=e=>({frameId:t})=>{if(e.mode)return{action:"tap",uiElement:{name:"trafficJam",frameUuid:t},payload:{trafficJam:{turnedOn:!!e.active,mode:e.mode}}}};var Ss=r(39116),zs=r(45778),Ms=r(80119),js=r(95177),Ts=r(86108),Ns=r(20999);const Ps=e=>{switch(e){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian";default:return"default"}};function Ls(e){if(void 0!==e)return 0===e?"_zero":e>6?"_hard":e>3?"_medium":"_easy"}const Fs=({traffic:e,isTrafficOn:t,directionsFrameTab:r})=>{const n=e&&e.data&&e.data.score;return{dimension:n,disabled:(0,Ts.k$)(e)||(0,js.V)(e)||(0,Ns.G)(e),active:t,trafficState:Ls(n),mode:Ps(r)}};var Rs=r(21431);const Hs={_easy:"_active_easy",_medium:"_active_medium",_hard:"_active_hard",_zero:"_active_zero"},Ds=e=>{const t=(0,h.kL)(e);return t?(0,zs.s)(t.code)(e):Ms.Y},Bs=e=>e.appContext.showTrafficOnMap,As=(0,u.memo)((()=>{const e=(0,Ie.v9)(Ds),t=(0,Ie.v9)(Bs),r=(0,Ie.v9)((e=>{var t;return null===(t=(0,xr.t0)(e.appContext.frames,"directions"))||void 0===t?void 0:t.tab})),{dimension:n,disabled:a,active:i,trafficState:s,mode:o}=(0,hr.Gb)(Fs,{traffic:e,isTrafficOn:t,directionsFrameTab:r});return u.createElement(Vs,{disabled:a,dimension:n,active:i,mode:o,trafficState:s,toggleTraffic:F.$C})}));As.displayName="TrafficControlContainer";const Vs=(0,u.memo)((e=>{const{mode:t,active:r,disabled:n,dimension:a,trafficState:i,toggleTraffic:s}=e,o=(0,jr.T)(),{css:c,s:l}=(0,mr.y)(Zs),d=(0,Ie.I0)(),{useBssHandler:p}=(0,Ss.T)(),m=p(Os,{mode:t,active:r}),h=(0,_s.$)((()=>{m(),d(s())})),g=(0,Rs.W)({type:"traffic"}),f=o._t("Пробки");return u.createElement($a,{title:f,to:"bottomMiddle"},(e=>u.createElement(ks.Z,{href:g,onClick:h},u.createElement("button",Object.assign({className:c(l.root,i&&l[i],i&&r&&l[Hs[i]]),disabled:n},Ce.dx.n("wat-traffic-control"),{ref:e},(0,Mi.P)({label:f})),i&&(a||u.createElement(xs,null))))))}));Vs.displayName="TrafficControl";const Zs=(0,mr.k)({root:{fontSize:20,lineHeigh:"16px",fontWeight:400,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:Et.E0.oval,color:Te.O.gray_262626,background:Te.O.white,boxShadow:ia.q.popupBorderBottom,overflow:"hidden",border:"solid 4px",":hover":{color:(0,ha.j)(Te.O.gray_262626,.7)},":disabled":{background:Te.O.white,borderColor:Te.O.gray_e6e6e6,color:Te.O.gray_929292,cursor:"default"}},_zero:{borderColor:Te.O.white},_active_zero:{color:Te.O.green_299400},_easy:{borderColor:Te.O.green_299400},_medium:{borderColor:Te.O.yellow_ffb81c},_hard:{borderColor:Te.O.red_fe5000},_active_easy:{background:Te.O.green_299400,color:Te.O.white},_active_medium:{background:Te.O.yellow_ffb81c,color:Te.O.white},_active_hard:{background:Te.O.red_fe5000,color:Te.O.white}});var Us=r(19094),$s=r(59930);const Ws=({currentLang:e},{config:t})=>{const r=t.supportedLangs;return{langs:(0,H.oA)(r.map((t=>{const r=function(e){switch(e){case"ru":return"Русский";case"uk":return"Українська";case"en":return"English";case"ar":return"Arabic";case"cs":return"Čeština";case"es":return"Español";case"az":return"Azərbaycanca";case"uz":return"O'zbek";default:return}}(t);if(r)return{caption:r,code:t,isActive:t===e}})))}};const qs={root:{display:"inline-flex",flexDirection:"column",boxShadow:ia.q.popup,borderRadius:Et.E0.default,background:Te.O.white,padding:"4px",cursor:"pointer"},item:{display:"block",whiteSpace:"nowrap",paddingTop:4,paddingBottom:4,paddingStart:36,paddingEnd:12,":hover":{color:Te.O.gray_929292},position:"relative",color:Te.O.gray_262626},icon:{position:"absolute",height:24,width:24,top:0,start:4,color:Te.O.green_299400}},Gs=(0,xe.D2)(qs)((function(e){const{s:t,onSelect:r}=e,{langs:n}=(0,hr.Gb)(Ws,e);return u.createElement("ul",{className:(0,we.iv)(t.root)},n.map((({caption:e,code:n,isActive:a})=>u.createElement("li",Object.assign({className:(0,we.iv)(t.item)},Ce.dx.n("wat-language-item"),Ce.dx.v(e),{key:n,onClick:()=>r({lang:n})}),a&&u.createElement("div",{className:(0,we.iv)(t.icon)},u.createElement($s.J,null)),e))))}));var Qs=r(6104),Ks=r(1005),Js=r(60634);const Xs={onLanguageSelect:(0,z.gQ)("switchLanguage",(e=>(0,z.vP)((0,Js.d)({name:"lang",value:e.lang}),(0,z.PQ)((()=>{const e=window.location.pathname+window.location.search,{payload:t}=(0,Qs.Q)(e);t.lang=void 0;const r=(0,Qs.M)((0,H.oA)((0,Ks.s0)(t)));return(0,B.k)({url:r,name:"_self"})})))))};const Ys={root:{position:"relative"},tooltip:{position:"absolute",end:40,bottom:0},text:{fontWeight:fr.Ue.bold}},eo=(0,Gn.G)({handlers:Xs,selectors:{lang:e=>e.appContext.lang}})((0,xe.D2)(Ys)((function({lang:e,onLanguageSelect:t,s:r}){const[n,a]=u.useState(!1),i=(0,_s.$)((()=>a(!n))),s="Change language",{ref:o,addTooltip:c}=Za({title:s,to:"centerStart"});return u.createElement("div",{className:(0,we.iv)(r.root)},u.createElement("div",{ref:o},u.createElement(Da.Z,{isVertical:!0},u.createElement(Ba.o,{isActive:n,onClick:i,dataT:"language",ariaLabel:s},u.createElement("div",{className:(0,we.iv)(r.text)},function(e){switch(e){case"ru":return"Ру";case"uk":return"Ук";case"en":return"En";case"ar":return"Ar";case"cs":return"Cs";case"es":return"Es";case"az":return"Az";case"uz":return"Uz";default:return e}}(e))))),n&&u.createElement("div",{className:(0,we.iv)(r.tooltip)},u.createElement(Gs,{currentLang:e,onSelect:t})),c)})));var to=r(37971),ro=r(3286);const no={frameId:e=>(e=>{const t=e.appContext.frames;return t&&t[0]&&"direction"===t[0].type?t&&t[1]&&t[1].id:t&&t[0]&&t[0].id})(e)},ao={openSharingPopup:to.q};const io=(0,Gn.G)({handlers:ao,selectors:no})((function({openSharingPopup:e,frameId:t}){const r=(0,jr.T)()._t("Поделиться"),n=(0,u.useCallback)((()=>e({frameId:t})),[e,t]),{ref:a,addTooltip:i}=Za({title:r,to:"centerStart"});return u.createElement(u.Fragment,null,u.createElement(Ba.o,{onClick:n,dataT:"share",innerRef:a,ariaLabel:r},u.createElement(ro.m,{color:Te.O.gray_262626})),i)}));var so=r(97824);const oo=(0,_e.z)(void 0,((e,t)=>({bssOnClick(){e((0,ft.zs)({action:"tap",uiElement:{name:"print",frameUuid:t.ownerFrameId}}))}})))((e=>{const t=(0,jr.T)()._t("Печать"),{ref:r,addTooltip:n}=Za({title:t,to:"centerStart"}),a=(0,u.useCallback)((()=>{e.bssOnClick(),window.print()}),[e.ownerFrameId]);return u.createElement(u.Fragment,null,u.createElement(Ba.o,{onClick:a,dataT:"print",innerRef:r,ariaLabel:t},u.createElement(so.K,{color:Te.O.gray_262626})),n)}));var co=r(85858),lo=r(81037),uo=r(13536);const po=e=>({frameId:t})=>({uiElement:{name:"cartIcon",ownerName:"map",frameUuid:t},action:"tap",payload:{cartCounter:{to:e.count}}});var mo=r(62636);const ho=u.memo((()=>{const[e]=(0,uo.j)(),t=(0,mo.c)(e),r=(0,zr.A)(lo.Ki),{useBssHandler:n}=(0,Ss.T)(),a=n(po,{count:t}),i=(0,_s.$)((()=>{a(),r()}));return u.createElement(go,{count:t,onClick:i})}));ho.displayName="CartControl";const go=u.memo((({count:e,onClick:t})=>{const{s:r,css:n}=(0,mr.y)(fo),a=(0,jr.T)(),i=(0,u.useRef)(null),[s,o]=(0,u.useState)(0);(0,u.useEffect)((()=>{setTimeout((()=>{var e;const t=null===(e=i.current)||void 0===e?void 0:e.offsetWidth;o(t?40+t:0)}),0)}),[]);const c=!(!e||!s);return u.createElement("div",Object.assign({className:n(r.container)},Ce.dx.n("wat-cart")),u.createElement("div",Object.assign({},Ce.dx.n("wat-cart-icon-entry"),{className:n(r.root),style:{width:c?s:void 0},onClick:t}),u.createElement("div",{className:n(r.icon,c&&r._shifted)},u.createElement(co.Z,null))),u.createElement("div",{className:n(r.textBlock,c&&r._visible),ref:i},u.createElement("div",{className:n(r.textMain)},a._gg("Корзина")),u.createElement("div",{className:n(r.textQty)},a._nt(["%% товар","%% товара","%% товаров"],e))),!!e&&u.createElement("div",Object.assign({className:n(r.counter)},Ce.dx.n("wat-cart-count")),e))}));go.displayName="Inner";const fo=(0,mr.k)({container:{position:"relative",pointerEvents:"auto",width:40,height:40,":hover":{color:(0,ha.j)(Te.O.gray_262626,.7)}},root:Object.assign(Object.assign({},fr.oN),{position:"absolute",transform:"translateZ(0)",top:0,bottom:0,end:0,width:40,borderRadius:Et.E0.oval,background:Te.O.white,boxShadow:ia.q.popup,cursor:"pointer",transition:"width 150ms ease-out",overflow:"hidden"}),icon:{float:"end",transform:"translateZ(0)",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",transition:"margin 150ms ease-out"},_shifted:{marginEnd:8},textBlock:{position:"absolute",height:40,end:40,pointerEvents:"none",padding:"0 20px",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",opacity:0,transition:"none"},_visible:{opacity:1,transition:"opacity 150ms ease 150ms"},textMain:Object.assign({},fr.oN),textQty:Object.assign(Object.assign({},fr.yG),{color:Te.O.gray_929292,whiteSpace:"nowrap"}),counter:Object.assign(Object.assign({},fr.Yq),{lineHeight:fr.Yq.fontSize,position:"absolute",top:-4,end:4,padding:4,minWidth:16,height:16,transform:"translateX(50%)",boxSizing:"border-box",borderRadius:Et.E0.oval,display:"flex",justifyContent:"center",alignItems:"center",color:Te.O.white,background:Te.O.red_fe5000})});var vo=r(7300),yo=r(57570);const bo=e=>{switch(e){case"eta":return"ctxLayerIcon";case"photos":return"photosLayerIcon";case"realty":return"realtyLayerIcon";case"parkings":return"parkingLayerIcon";case"metro":return"metroLayerIcon";case"exchange":return"exchangeCurrencyLayerIcon";case"backTo2004":return"backTo2004LayerIcon";case"roadAccident":return"trafficIncidentLayerIcon";default:return}},wo=e=>{switch(e){case"eta":return"ctxLayer";case"photos":return"photosLayer";case"backTo2004":return"backTo2004Layer";case"realty":return"realtyLayer";case"parkings":return"parkingLayerIcon";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"roadAccident":return"trafficIncidentLayer";default:return}},Io=e=>({frameId:t},r)=>{const n=(0,h.fq)(r),a=(0,Q.O)(r),{type:i,position:s,hasOwner:o}=e,c=bo(i),l=wo(i);if(c&&l)return{uiElement:{name:c,ownerName:s&&o?"mapLayersList":void 0,frameUuid:t,position:s||1},payload:{mapLayer:{entity:{type:"mapLayer",segmentInfo:(0,yo.U)({locale:a,region_id:n})},name:l}}}},Eo=e=>({frameId:t},r)=>{const n=(0,h.fq)(r),a=(0,Q.O)(r),{type:i,enableMapLayer:s,position:o,hasOwner:c}=e,l=bo(i),d=wo(i);if(!l||!d)return;return{uiElement:{name:l,ownerName:o&&c?"mapLayersList":void 0,frameUuid:t,position:o||1},action:"roadAccident"===i?s?"on":"off":"tap",payload:{mapLayer:{name:d,entity:{type:"mapLayer",segmentInfo:(0,yo.U)({locale:a,region_id:n})},enableMapLayer:s}}}};var Co=r(38609);function xo(e,t,r=!1){switch(e){case"additional":return t._gg("Дополнительные слои");case"realty":return t._gg("Недвижимость");case"parkings":return t._gg("Парковки");case"eta":return t._t("Транспорт на карте");case"photos":return t._t("Фотографии");case"metro":return t._t("Метро на карте");case"exchange":return t._gg("Обмен валют");case"backTo2004":return r?t._gg("Назад в будущее"):t._gg("Назад в 2004");case"roadAccident":return t._gg("Карта плотности ДТП");default:return void 0}}var ko=r(69511);function _o({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},u.createElement("path",{fill:e,d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29L27.52 24zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3L22.42 22z"}))}function Oo({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},u.createElement("path",{fill:e,d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2h-1.34zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22h-2.06z"}))}function So({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},u.createElement("path",{fill:e,d:"M8.47 24h3.43c-1.354-.696-2.51-1.723-3.358-2.987-.849-1.264-1.363-2.722-1.495-4.238-.132-1.517.123-3.042.74-4.433.619-1.391 1.58-2.603 2.793-3.522L16 24l5.42-15.18c1.213.919 2.174 2.13 2.792 3.522.618 1.391.872 2.916.74 4.433-.131 1.516-.646 2.974-1.494 4.238-.849 1.264-2.004 2.291-3.358 2.987h3.43c1.254-1.182 2.212-2.642 2.799-4.262.586-1.62.784-3.355.576-5.066-.207-1.71-.813-3.348-1.77-4.782C24.18 8.457 22.9 7.268 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58c-1.503.845-2.786 2.03-3.746 3.462-.96 1.432-1.57 3.069-1.782 4.78-.211 1.71-.017 3.447.566 5.069.583 1.622 1.54 3.084 2.792 4.27z"}))}function zo({color:e="currentColor"}){return u.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M24 7.15C21.5649 5.76802 18.7989 5.07653 16 5.15C13.2011 5.07653 10.4351 5.76802 8 7.15V19.15L11.66 22.07L8.29 25.44L9.71 26.85L13.41 23.15H18.59L22.29 26.85L23.71 25.44L20.34 22.07L24 19.15V7.15ZM10 11.15H22V13.57L16 17L10 13.57V11.15ZM16 7.15C18.0612 7.1335 20.1037 7.54199 22 8.35V9.15H10V8.35C11.8954 7.53895 13.9385 7.13032 16 7.15ZM18.3 21.15H13.7L10 18.15V15.87L16 19.3L22 15.87V18.19L18.3 21.15Z",fill:e}))}function Mo({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e,viewBox:"0 0 32 32"},u.createElement("path",{d:"M22 18h-3v2h3v-2zm-12 0h3v2h-3v-2zm12-4H10v2h12v-2z"}),u.createElement("path",{fillRule:"evenodd",d:"M16 5c-2.484 0-5.011.308-6.776.583C7.313 5.881 6 7.544 6 9.418V14H4v2h2v9a2 2 0 002 2h2a2 2 0 002-2h8a2 2 0 002 2h2a2 2 0 002-2v-9h2v-2h-2V9.418c0-1.874-1.313-3.537-3.224-3.835C21.011 5.308 18.484 5 16 5zM9.532 7.56C11.249 7.292 13.662 7 16 7c2.337 0 4.751.292 6.468.56.878.136 1.532.91 1.532 1.858V25h-2v-1a1 1 0 00-1-1H11a1 1 0 00-1 1v1H8V9.418c0-.949.654-1.722 1.532-1.858z"}))}function jo({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},u.createElement("path",{d:"M14 4c2.582 0 4.935.978 6.71 2.585l1.936-1.939.708.708-1.939 1.937A9.959 9.959 0 0 1 24 14a9.954 9.954 0 0 1-2.084 6.111c.924.127 1.953.758 2.584 1.389.625.625 1.837 2.423 3.634 5.393a.903.903 0 0 1-1.241 1.241c-2.97-1.797-4.768-3.009-5.393-3.634-.63-.63-1.262-1.66-1.39-2.584A9.954 9.954 0 0 1 14 24a9.963 9.963 0 0 1-6.71-2.585l-1.936 1.939-.708-.708 1.939-1.937C4.978 18.935 4 16.582 4 14s.978-4.935 2.585-6.71L4.646 5.355l.708-.708L7.29 6.585A9.963 9.963 0 0 1 14 4zm6 4.708-4.277 4.276a2 2 0 0 1-2.739 2.739l-1.436 1.438a4.002 4.002 0 0 0 5.136-.195l.144-.138 1.415 1.415a6.002 6.002 0 0 1-8.117.34L8.708 20A8 8 0 0 0 20 8.708zm-12 0A7.967 7.967 0 0 0 6 14c0 2.03.755 3.882 2 5.292l1.418-1.418a6.003 6.003 0 0 1 0-7.748zm3.172 2.464a4 4 0 0 0-.332 5.281l1.437-1.437a2 2 0 0 1 2.739-2.739l1.437-1.437a4 4 0 0 0-5.281.332zM14 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-2.03 0-3.882.755-5.292 2l1.417 1.419a6.002 6.002 0 0 1 7.75-.001L19.291 8A7.962 7.962 0 0 0 14 6z",fill:e,fillRule:"evenodd"}))}function To({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},u.createElement("path",{d:"M27.14 22.36L25.23 8.59a3 3 0 0 0-3-2.59h-2.64l-2 2h-3.18l-2-2H9.74a3 3 0 0 0-3 2.59L4.86 22.36A3.2 3.2 0 0 0 11 24l1.68-4h6.66L21 24a3.2 3.2 0 0 0 6.13-1.67zm-2.26 1.23a1.24 1.24 0 0 1-2-.33L20.67 18h-9.34l-2.19 5.26a1.25 1.25 0 0 1-2 .33 1.2 1.2 0 0 1-.28-1L8.75 8.86a1 1 0 0 1 1-.86h1.85l2 2h4.82l2-2h1.85a1 1 0 0 1 1 .86l1.91 13.77a1.2 1.2 0 0 1-.3.96z"}),u.createElement("path",{d:"M18.005 14.002l2-2.003 2.002 2-2 2.003zM10.002 14.003l2-2.003 2.002 2-2 2.002z"}))}function No({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},u.createElement("path",{fill:e,fillRule:"evenodd",d:"M13 10h4.5a3.5 3.5 0 110 7H15v1h3v2h-3v2h-2v-2h-2v-2h2v-1h-2v-2h2v-5zm2 5h2.5a1.5 1.5 0 000-3H15v3z",clipRule:"evenodd"}),u.createElement("path",{fill:e,fillRule:"evenodd",d:"M16 5C9.925 5 5 9.925 5 16s4.925 11 11 11 11-4.925 11-11S22.075 5 16 5zM7 16a9 9 0 1118.001.001A9 9 0 017 16z",clipRule:"evenodd"}))}function Po({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e},u.createElement("path",{d:"M6 9a3 3 0 013-3h14a3 3 0 013 3v14a3 3 0 01-3 3H9a3 3 0 01-3-3V9zm3-1a1 1 0 00-1 1v10.586l1.879-1.879a2.998 2.998 0 014.242 0L20.414 24H23a1 1 0 001-1V9a1 1 0 00-1-1H9zM8 23v-.586l3.293-3.293a1 1 0 011.414 0L17.586 24H9a1 1 0 01-1-1zm9-9.5a1.5 1.5 0 113.001.001A1.5 1.5 0 0117 13.5zm1.5-3.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7z",fillRule:"evenodd"}))}var Lo=r(2041),Fo=r(44284);function Ro({color:e="currentColor"}){return u.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.753 3.341a1 1 0 0 0-1.751.721l.5 8A1 1 0 0 0 15.5 13H24a1 1 0 0 0 .8-.4l3-4a1 1 0 0 0-1.017-1.576l-3.427.761-.364-2.91a1 1 0 0 0-1.643-.634l-2.748 2.356-2.848-3.256ZM16.439 11l-.258-4.131 1.566 1.79a1 1 0 0 0 1.404.1l2.087-1.79.27 2.155a1 1 0 0 0 1.209.852l1.861-.413L23.5 11h-7.06Zm-3.867.58-.248-1.991c-.993.05-1.928.12-2.695.21-1.252.149-2.133 1.12-2.358 2.246l-.707 3.536-.564.752a5 5 0 0 0-1 3V25a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-5.667a5 5 0 0 0-1-3l-.564-.752L25.32 15H8.72l.512-2.563c.078-.39.35-.618.633-.652.753-.09 1.697-.158 2.707-.206ZM8 17l-.4.533A3 3 0 0 0 7.019 19H11a1 1 0 0 1 1 1v1H7v4h2v-2h14v2h2v-4h-5v-1a1 1 0 0 1 1-1h3.981a3 3 0 0 0-.581-1.467L24 17H8Z",fill:e}))}const Ho=(0,u.memo)((({type:e})=>{const t=(0,Ie.v9)(h.fq);switch(e){case"eta":return u.createElement(Mo,null);case"metro":return"32"===t?u.createElement(Oo,null):"38"===t?u.createElement(So,null):"99"===t?u.createElement(zo,null):u.createElement(_o,null);case"realty":return u.createElement(ko.b,null);case"parkings":return u.createElement(Lo.d,null);case"photos":return u.createElement(Po,null);case"additional":return u.createElement(Fo.S,null);case"exchange":return u.createElement(No,null);case"backTo2004":return u.createElement(jo,null);case"roadAccident":return u.createElement(Ro,null);default:return u.createElement(To,null)}}));Ho.displayName="Icon";var Do=r(35774),Bo=r(3005);const Ao=(0,u.memo)((e=>{const{type:t,isDropdownOpen:r,isActive:n,position:a,promotedLayer:i,onLayerHover:s,hasLabel:o}=e,{css:c,s:l}=(0,mr.y)(Vo),d=(0,Co.T)(),{ref:p,addTooltip:m}=Za({title:xo(t,d,n),to:"bottomMiddle",offset:4});(0,Do.F)({ref:p,isActive:n,currentLayer:t,promotedLayer:i});const g="additional"===t,f=(0,u.useRef)(null),{isHovered:v}=(0,Aa.X)({ref:f});(0,u.useEffect)((()=>{s(t,v)}),[v]);const{bssRef:y,useBssHandler:b}=(0,Ss.T)(Io({type:t,position:a})),w=b(Eo,{type:t,enableMapLayer:!n,position:a}),I=(0,Ie.I0)(),E=(0,u.useCallback)((()=>{g||(w(),I((0,vo.t)({newLayer:n?void 0:t})))}),[t,n,w,s]),C=(0,Ie.v9)(h.kL),x=(0,Rs.W)(function(e,t){switch(e){case"metro":return!t||"32"!==t.id&&"38"!==t.id?void 0:{type:"metroLayer",query:Bo.B,cityAlias:t.uri_code};case"realty":return{type:"realty"};default:return}}(t,C));return u.createElement("li",Object.assign({className:c(l.menuItem,g&&l._additional,n&&g&&l._additionalActive),ref:"additional"===t?f:p,onClick:E},Ce.dx.n("wat-layer-list-item"),Ce.dx.t(t),Ce.dx.s(n.toString())),u.createElement(ks.Z,{href:x,color:"inherit"},u.createElement("div",{className:c(l.icon,!g&&n&&l._active),ref:y},u.createElement(Ho,{type:t}))),o&&u.createElement("span",{className:c(l.label)},xo(t,d,n)),!r&&m)}));Ao.displayName="LayersControlItem";const Vo=(0,mr.k)({menuItem:Object.assign(Object.assign({},fr.oN),{display:"inline-flex",alignItems:"center",height:"100%",cursor:"pointer",listStyleType:"none","&:not(:last-child)":{paddingEnd:8}}),_additional:{paddingStart:8,paddingEnd:8,marginEnd:-8,boxShadow:ia.q.innerBorderStartBase,color:Te.O.gray_929292,":hover":{color:Te.O.blue_028eff}},_additionalActive:{color:Te.O.blue_028eff},icon:{flex:"0 0 32px",height:32},_active:{marginEnd:-4,marginStart:-4,paddingEnd:4,paddingStart:4,color:Te.O.white,borderRadius:Et.E0.small,backgroundColor:Te.O.blue_028eff,":hover":{background:Te.O.blue_0070cc}},label:{marginStart:8}});var Zo=r(77584);const Uo=e=>{const{layer:t,activeLayer:r,isDropdownOpen:n,isDropdownHovered:a}=e;return n||a?t===r||"additional"===t:r===t},$o=(0,u.memo)((e=>{const{position:t,isActive:r,item:{title:n,type:a}}=e,{css:i,s}=(0,mr.y)(Wo),{bssRef:o,useBssHandler:c}=(0,Ss.T)(Io({type:a,position:t,hasOwner:!0})),l=c(Eo,{type:a,enableMapLayer:!r,position:t,hasOwner:!0}),d=(0,Ie.I0)(),p=(0,u.useCallback)((()=>{"additional"!==a&&(l(),d((0,vo.t)({newLayer:r?void 0:a})))}),[a,r,l,d]);return u.createElement("li",Object.assign({className:i(s.root,r&&s._active),onClick:p,ref:o},Ce.dx.n("wat-layer-drop-down-list-item"),Ce.dx.t(a),Ce.dx.s(r.toString())),u.createElement("div",{className:i(s.icon)},u.createElement(Ho,{type:a})),n)}));$o.displayName="DropdownItem";const Wo=(0,mr.k)({root:{position:"relative",display:"flex",alignItems:"center",minWidth:172,paddingTop:4,paddingBottom:4,paddingStart:20,paddingEnd:24,whiteSpace:"nowrap",listStyleType:"none",borderRadius:Et.E0.default,color:Te.O.gray_929292,cursor:"pointer","--icon-color":Te.O.gray_262626,":hover":{color:Te.O.blue_028eff}},_active:{color:Te.O.gray_262626,"--icon-color":Te.O.blue_028eff,":hover":{color:Te.O.blue_028eff}},icon:{postion:"absolute",height:32,width:32,start:0,marginEnd:16,color:"var(--icon-color)"}}),qo=(e,{tp:t})=>{const{items:r,activeLayer:n}=e;return{list:r.reduce(((e,r)=>{const a=xo(r,t,r===n);return a?[...e,{type:r,title:a}]:e}),[])}},Go=(0,u.memo)((e=>{const{items:t,isDropdownOpen:r}=e,{css:n,s:a}=(0,mr.y)(Qo),i=(0,Ie.v9)((e=>e.appContext.activeLayer)),{list:s}=(0,hr.Gb)(qo,{items:t,activeLayer:i});return u.createElement("nav",{className:n(a.root)},u.createElement("ul",null,s.map(((e,t)=>u.createElement($o,{key:t,item:e,position:t+1,isActive:Uo({layer:e.type,activeLayer:i,isDropdownOpen:r,isDropdownHovered:!0})})))))}));Go.displayName="Dropdown";const Qo=(0,mr.k)({root:{display:"block",boxShadow:ia.q.popup,borderRadius:Et.E0.default,background:Te.O.white,paddingTop:8,paddingBottom:8}});var Ko=r(20761),Jo=r(14693),Xo=r(61824),Yo=r(51763),ec=r(5163),tc=r(12563);const rc=(0,tc.createModel)("hasBusInViewport",(({services:e},{viewport:t},r)=>({fetch(){return(0,ec.mG)(this,void 0,void 0,(function*(){return void 0!==r?r:(yield e.etaApi.getHasBusInViewport({viewport:t,zoom:11})).data.has_bus_in_viewport}))}})),(({fetch:e})=>{e()}));var nc=r(29782),ac=r(68786),ic=r(60404),sc=r(32563),oc=r(38406),cc=r(49361),lc=r(18522);const dc=(0,Fe.P1)([({state:e,localityId:t})=>{var r;return t&&(null===(r=e.data.roadAccident[t])||void 0===r?void 0:r.data)||void 0}],(e=>({roadAccidentData:e})));var uc=r(20711),pc=r(76825),mc=r(21818);const hc=(0,uc.G)("fetchRoadAccident",(e=>({diskApi:t})=>t.getRoadAccidentData({localityId:e.localityId})),(0,pc.r)("roadAccident",{start:(e,{params:t})=>(0,mc.Av)(e,t.localityId),success:(e,{result:t,params:r})=>(0,mc.Cj)(e,r.localityId,t),error:(e,{params:t,error:r})=>(0,mc.VJ)(e,t.localityId,r)}));var gc=r(18547);const fc=["5349042514588558","5349042514588559"],vc=["1","9","18","19","21","32","38","67","99","105","107","110","208","209"];function yc(e){const{mainItems:t,additionalOnlyItems:r,isDropdownOpen:n,isDropdownHovered:a}=e,{featureRealty:i,featureReadOnly:s,featureExchange:o,featureBackTo2004:c,featureRoadAccidentHeatmap:l}=(0,Ko.Z)(),d=(0,Ie.v9)((e=>e.appContext.activeLayer)),p=(0,Ie.I0)(),m=(0,Ie.v9)((e=>e.appContext.weak.fullScreenBanner)),g=(0,Ie.v9)((e=>(0,cc.n)(e)||!!(0,xr.t0)(e.appContext.frames,"directions"))),f=(0,Ie.v9)((e=>e.session.is3dEnabled)),v=(0,Ie.v9)((e=>e.appContext.zoom)),y=(0,Ie.v9)(h.kG),b=(0,Ie.v9)((e=>{var t;return(null===(t=null==y?void 0:y.data)||void 0===t?void 0:t.regionId)?(0,nc.D4)({state:e,id:y.data.regionId}):void 0})),w=null==b?void 0:b.data,I=(0,u.useMemo)((()=>(null==w?void 0:w.bounds)?(0,Xo.Hg)((0,sc.J)(w.bounds)):void 0),[null==w?void 0:w.id]),E=(0,Yo.tT)(I?rc({viewport:[{lon:I[1][0],lat:I[0][1]},{lon:I[0][0],lat:I[1][1]}]}):void 0).data,C=!!w&&!!E&&f&&!(0,Jo.e)(v),x="loading"===(null==b?void 0:b.meta.status)||"loading"===(null==y?void 0:y.meta.status),k=Uo({layer:"roadAccident",activeLayer:d,isDropdownOpen:n,isDropdownHovered:a}),_=(0,Ie.v9)(h.E5)||"",O=(0,Ie.v9)(h.k2),S=fc.includes(_)?O:_,z=(0,Ie.v9)((e=>dc({state:e,localityId:S}).roadAccidentData));(0,u.useEffect)((()=>{k&&f&&l&&!z&&S&&p(hc({localityId:S}))}),[k,S,l,z,f,p]),(0,u.useEffect)((()=>{l&&f||!k||p((0,ac.u$)())}),[l,k,f,p]),function(e=[]){(0,lc.K)(((t,{Heatmap:r})=>{const n=e.map((({longitude:e,latitude:t,severity:r})=>({coordinates:[e,t],weight:r})));if(!n.length)return;const a=new r(t,{points:n,pointRadius:["interpolate",["linear"],["zoom"],7,1,9,3,10,6,11,9,12,15,13,25,14,35,16,75,18,150,19,250,20,500],palette:{.37:"rgba(53,136,253,0)",.425:"rgba(53,136,253,0.2)",.45:"rgb(255,201,77,0.7)",.5:"rgb(255,202,20)",1:"rgb(245,0,7)"},intensity:["interpolate",["linear"],["zoom"],9,.13,11,.24,13,.35,16,.365,18,.47],opacity:1});return()=>{a.destroy()}}),[e])}(k?z:void 0);const M=Uo({layer:"backTo2004",activeLayer:d,isDropdownOpen:n,isDropdownHovered:a});(0,u.useEffect)((()=>{(g||!c||v<9)&&M&&p((0,ac.u$)())}),[g,M,v,c,p]);const j=Uo({layer:"metro",activeLayer:d,isDropdownOpen:n,isDropdownHovered:a});(0,u.useEffect)((()=>{(!w||!vc.includes(w.id)||v<9)&&j&&p((0,ac.u$)())}),[null==w?void 0:w.id,j,v]);const T=Uo({layer:"eta",activeLayer:d,isDropdownOpen:n,isDropdownHovered:a});(0,u.useEffect)((()=>{C||!T||void 0===E||x||p((0,vo.t)({newLayer:void 0}))}),[C,E,x]);const N=(0,Ie.v9)((e=>!!(0,xr.t0)(e.appContext.frames,"realty"))),P=Uo({layer:"realty",activeLayer:d,isDropdownOpen:n,isDropdownHovered:a});(0,u.useEffect)((()=>{i&&(N&&!P&&p((0,ac.t9)("realty")),P&&!N&&p((0,ac.u$)()))}),[d,N,i,P,p]);const L=Uo({layer:"parkings",activeLayer:d,isDropdownOpen:n,isDropdownHovered:a});(0,u.useEffect)((()=>{L&&p((0,ac.t9)("parkings"))}),[L,p]);const F=(0,Ie.v9)((e=>{var t;return null===(t=e.appContext.frames[e.appContext.frames.length-1])||void 0===t?void 0:t.type}));if((0,u.useEffect)((()=>{o&&("exchange"!==F&&"exchange"===d&&p((0,ac.u$)()),"exchange"===F&&"exchange"!==d&&p((0,ac.t9)("exchange")))}),[o,F,d,p]),m)return{mainLayers:ic.LZ,additionalLayers:ic.LZ};let R=t.reduce(((e,t)=>{switch(t){case"realty":return i?[...e,"realty"]:e;case"metro":return w&&vc.includes(w.id)&&f&&v>=9?[...e,"metro"]:e;case"eta":return C?[...e,"eta"]:e;case"photos":return f&&!s?[...e,"photos"]:e;case"exchange":{const t=(0,oc.P)(null==w?void 0:w.id)||"exchange"===d;return o&&t?[...e,"exchange"]:e}case"roadAccident":return f&&l?[...e,"roadAccident"]:e;default:return[...e,t]}}),[]);const H=r.reduce(((e,t)=>{switch(t){case"parkings":{const t=e.findIndex((e=>"eta"===e));return f&&(null==w?void 0:w.flags.parking_layer)?-1!==t?(0,gc._)(e,"parkings",t+1):[...e,"parkings"]:e}case"backTo2004":return c&&!g&&v>=9&&f?[...e,"backTo2004"]:e;default:return[...e,t]}}),[...R]);return R.length>4&&(R=R.slice(0,4)),R.length>1&&(R=[...R,"additional"]),{mainLayers:R,additionalLayers:H}}var bc=r(77542);var wc=r(43583);const Ic=["realty","metro","eta","exchange","roadAccident","photos"],Ec=["parkings","backTo2004"],Cc=["realtyPriceRent","realtyPriceSale","realtyWalkDistance"],xc=(0,u.memo)((()=>{const{s:e,css:t}=(0,mr.y)(kc),r=(0,u.useRef)(null),n=(0,u.useRef)(null),{isHovered:a,refCallback:i}=(0,Aa.X)({ref:n}),[s,o]=(0,u.useState)(!1),[c,l]=(0,u.useState)(!1),d=(0,u.useRef)(!1);d.current=s||a,(0,u.useEffect)((()=>{setTimeout((()=>{l(d.current)}),0)}),[s,a]);const p=(0,Ie.v9)((e=>e.appContext.activeLayer)),{mainLayers:m,additionalLayers:g}=yc({mainItems:Ic,additionalOnlyItems:Ec,isDropdownOpen:c,isDropdownHovered:a}),{bssRef:f}=(0,Ss.T)((v={size:m.length},({frameId:e})=>{const{size:t}=v;return{uiElement:{name:"mapLayersList",ownerName:"mapLayers",frameUuid:e},payload:{mapLayersList:{size:t}}}}));var v;const y=(0,u.useCallback)(((e,t)=>{o("additional"===e&&!!t)}),[]),b=function(e){if(e.includes("roadAccident"))return"roadAccident";if((new Date).getMinutes()%2==0){if(e.includes("metro"))return"metro"}else if(e.includes("realty"))return"realty";return e.includes("exchange")?"exchange":e.includes("photos")?"photos":void 0}(m),w=(0,Ie.v9)((e=>e.session.is3dEnabled)),I=(0,Ie.v9)(h.kL),E=(0,Ie.v9)(wc.j),C=function({is3dEnabled:e,activeLayer:t,activeSublayer:r,projectData:n}){return e&&"realty"===t&&(r&&Cc.includes(r)||(null==n?void 0:n.code)&&P.yJ.includes(n.code)||(null==n?void 0:n.flags.metro))}({is3dEnabled:w,activeLayer:p,activeSublayer:E,projectData:I})&&!c;return m.length?u.createElement("nav",{className:t(e.root),ref:f},u.createElement("ul",Object.assign({className:t(e.list),ref:r},Ce.dx.n("wat-layers-icon-entry")),m.map(((e,t)=>u.createElement(Ao,{key:e,type:e,isActive:Uo({layer:e,activeLayer:p,isDropdownOpen:c,isDropdownHovered:a}),onLayerHover:y,position:t+1,isDropdownOpen:c,promotedLayer:b,hasLabel:1===m.length})))),c&&u.createElement("div",Object.assign({className:t(e.dropdown),ref:i},Ce.dx.n("wat-layers-drop-down-list")),u.createElement(Go,{items:g,isDropdownOpen:c})),C&&u.createElement("div",Object.assign({className:t(e.sublayers)},Ce.dx.n("wat-realty-sublayers-switcher-short")),u.createElement(bc.vc,null))):null}));xc.displayName="LayersControl";const kc=(0,mr.k)({root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"40px",background:Te.O.white,cursor:"pointer",pointerEvents:"auto",boxShadow:ia.q.popup,borderRadius:Zo.E.default},list:{position:"relative",zIndex:Et.W5.top,overflow:"hidden",height:"100%",padding:"0 8px"},dropdown:{position:"absolute",top:40,end:0,zIndex:Et.W5.top,paddingTop:8},sublayers:{zIndex:Et.W5.top,position:"absolute",top:48,start:"50%",transform:"translateX(-50%)"}});var _c=r(90777),Oc=r(26634),Sc=r(63846),zc=r(64298);const Mc=(0,u.memo)((e=>{var t,r;const{dataViewerWidth:n}=e,{css:a,s:i,inline:s}=(0,mr.y)(jc),{godmode:o,supportedLangs:c}=(0,Ko.Z)(),l=c.length>1,d=(0,Ie.v9)((e=>e.session.is3dEnabled)),p=o||d||(0,H.$K)((0,X.z)("is3dDisabled")),m=(0,Ie.v9)((e=>"backTo2004"===e.appContext.activeLayer)),g=(0,Ie.v9)((e=>!!e.appContext.weak.floors)),f=!m&&g,v=(0,Ie.v9)(Oc.W),y=(0,Ie.v9)(zc.d),b=(0,Ie.v9)(Sc.S),w=!!(null==v?void 0:v.showCartButton)||!!(null==y?void 0:y.length)||!!(null===(t=b.data)||void 0===t?void 0:t.total),I=(0,Ie.v9)(h.kL),E=!!(null===(r=null==I?void 0:I.flags)||void 0===r?void 0:r.traffic);return u.createElement("div",{className:a(i.root),style:s({start:n})},u.createElement("div",{className:a(i.top,i.row)},u.createElement(Us.g,{justifyContent:"flex-end"},u.createElement("div",{className:a(i._pointerNone)},u.createElement(Ni,null)),u.createElement("div",{className:a(i._pointerNone,i.viewControls)},u.createElement(_c.w,null,u.createElement("div",{className:a(i.topControl)},u.createElement(xc,null)),E&&u.createElement("div",{className:a(i.topControl)},u.createElement(As,null)),u.createElement("div",{className:a(i.topControl)},u.createElement(ys,null))))),w&&u.createElement(_c.w,null,u.createElement("div",{className:a(i.row)},u.createElement(Us.g,{justifyContent:"flex-end"},u.createElement(ho,null))))),u.createElement("div",{className:a(i.middle,i._pointerNone)},u.createElement("div",{className:a(i.middleControls)},u.createElement("div",{className:a(i.viewControls)},f&&u.createElement("div",{className:a(i.controlFloors)},u.createElement(vi,null)),u.createElement("div",null,d&&u.createElement("div",{className:a(i.control)},u.createElement(Cs,null)),u.createElement(_c.w,null,u.createElement("div",{className:a(i.control)},u.createElement(Ai,null))),u.createElement("div",{className:a(i.control)},u.createElement(qa,null)))),p&&u.createElement(_c.w,null,u.createElement("div",{className:a(i.control)},u.createElement(ci.N,null,(({rotation:e,pitch:t})=>u.createElement(oi,{rotation:e,pitch:t}))))))),u.createElement("div",{className:a(i.bottom,i._pointerNone)},u.createElement("div",{className:a(i.control)},u.createElement(Da.Z,{isVertical:!0},u.createElement(io,null),u.createElement(oo,null))),l&&u.createElement("div",{className:a(i.control)},u.createElement(eo,null)),u.createElement(_c.w,null,u.createElement("div",{className:a(i.feedbackControl)},u.createElement(ki,null)))))}));Mc.displayName="Controls";const jc=(0,mr.k)({root:{position:"absolute",top:0,bottom:0,end:16,pointerEvents:"none","& *":{userSelect:"none"},"@media print":{display:"none !important"}},top:{position:"absolute",top:16,start:0,end:0},row:{marginEnd:40,"&:not(:first-child)":{paddingTop:16,marginEnd:-40}},middle:{position:"absolute",top:0,end:4,bottom:"25%",display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"flex-end",height:"50%",transform:"translateY(25%)"},bottom:{position:"absolute",end:0,bottom:16,display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:"column"},control:{width:32,padding:"8px 0"},feedbackControl:{paddingTop:8},topControl:{marginEnd:16,":empty":{display:"none",margin:0}},controlFloors:{width:32,padding:8},middleControls:{display:"flex",flexDirection:"column",alignItems:"flex-end"},viewControls:{display:"flex",alignItems:"flex-end"},_pointerNone:{pointerEvents:"none","& > *":{pointerEvents:"auto"}}});const Tc={layout:{overflowY:"hidden",position:"absolute",top:0,start:0,width:"100%",height:"100%",overflow:"hidden",zIndex:Et.W5.base,pointerEvents:"none"},layer:{transform:"translateZ(0px)",width:"100%",height:"100%",position:"absolute",top:0,start:0,overflow:"hidden","& > *":{position:"relative",pointerEvents:"auto",zIndex:Et.W5.base}},bottom:{zIndex:Et.W5.bottom},base:{zIndex:Et.W5.base},top:{zIndex:Et.W5.top,visibility:"hidden","& > *":{position:"absolute",visibility:"visible","&:empty":{visibility:"hidden"}}}},Nc=(0,xe.D2)(Tc)((function(e){const{bottom:t,base:r,top:n,s:a}=e;return u.createElement("div",{className:(0,we.iv)(a.layout)},u.createElement("div",{className:(0,we.iv)(a.layer,a.base)},r),u.createElement("div",{className:(0,we.iv)(a.layer,a.bottom)},t),u.createElement("div",{className:(0,we.iv)(a.layer,a.top)},n))})),Pc=(0,Fe.P1)([({state:e})=>(0,h.kL)(e),({state:e})=>e.session.godmode||!1,({state:e})=>(0,Be.Pc)(e),({state:e})=>0===e.appContext.frames.length,({state:e})=>e.appContext.lang],((e,t,r,n,a)=>({region:e,godmode:t,showLogoutButton:r,isDashboard:n,lang:a}))),Lc=(0,Re.X1)(((e,t)=>Pc({state:e,props:t})));var Fc=r(54105),Rc=r(32468),Hc=r(72463);const Dc=e=>(0,z.vP)((0,T.BN)(),(0,Rc.$)(e)),Bc=(0,Re.Z3)((e=>({showFeedback(){e((0,yi.U)("online5"))},openInteresting(){e(Dc("interesting"))},openGuidebook(){e(Dc("guidebook"))},openPopupAddOrg(){e((0,Fc.r)({subtype:"addOrg"}))},openPrintWindow(){e((0,z.PQ)((()=>{Hc.Y.set((()=>!1)),window.print()})))},onLogoutClick(){e((0,ls.k)())}})));class Ac extends u.PureComponent{render(){const{s:e}=this.props;return u.createElement("div",{className:(0,xe.iv)(e.root)})}}Ac.displayName=(0,Le.I)("src/modules/sideBar/components/underHamburger");const Vc={root:{position:"absolute",top:"16px",end:"16px",width:"40px",height:"40px",borderRadius:Et.E0.oval,background:"#fff",boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)",cursor:"pointer"},logo:{margin:8,width:"24px",height:"24px",display:"inline-block",verticalAlign:"middle"}},Zc=(0,xe.D2)(Vc)(Ac);class Uc extends u.PureComponent{render(){const{s:e,isSideBarShown:t,isIndicatorShown:r,onClick:n,i18n:{tp:a}}=this.props,i=a._t("Меню");return u.createElement("button",Object.assign({className:(0,xe.iv)(e.root),onClick:n,"data-hamburger":!0},Ce.n("wat-hamburger"),(0,Mi.P)({label:i})),u.createElement($a,{title:i,to:"bottomBottomEnd",offset:12},(n=>u.createElement("div",{className:(0,xe.iv)(e.hamburger,r&&e._withDot),ref:n},u.createElement("span",{className:(0,xe.iv)(e.hamburgerLine,e._line1,t&&e._opened)}),u.createElement("span",{className:(0,xe.iv)(e.hamburgerLine,e._line2,t&&e._opened)}),u.createElement("span",{className:(0,xe.iv)(e.hamburgerLine,e._line3,t&&e._opened)}),u.createElement("span",{className:(0,xe.iv)(e.hamburgerLine,e._line4,t&&e._opened)})))))}}Uc.displayName=(0,Le.I)("src/modules/sideBar/components/hamburger");const $c=(0,xe.D2)((e=>({root:{position:"absolute",top:"16px",end:"16px",width:"24px",height:"24px",padding:8,cursor:"pointer"},hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:Te.O.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:Te.O.gray_262626,borderRadius:Et.E0.oval,start:0,transition:`background ${sa.l.short}ms ease-in-out,\n      transform ${sa.l.short}ms ease-in-out,\n      left ${sa.l.short}ms ease-in-out,\n      top ${sa.l.short}ms ease-in-out`,transform:"translateZ(0)","[data-hamburger]:hover &":{background:e.colors.green_299400_brand}},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"6px"},_line4:{top:"12px"},_opened:{background:e.colors.green_299400_brand,"&:nth-child(1)":{transform:"scale(0)",left:"50%",top:"6px"},"&:nth-child(2)":{transform:"rotate(45deg)"},"&:nth-child(3)":{transform:"rotate(-45deg)"},"&:nth-child(4)":{transform:"scale(0)",left:"50%",top:"6px"}}})))((0,ke.$)()(Uc)),Wc=e=>u.createElement(Se.E,{loader:ze.H.sideMenu,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q});const qc={root:{height:"100%",flexDirection:"column",position:"absolute",top:0,end:0,bottom:0,background:Te.O.white,transition:`transform ${sa.l.short}ms ease-in-out, visibility ${sa.l.short}ms`,boxShadow:ia.q.popup,"@media print":{display:"none !important"}}},Gc=(0,xe.D2)(qc)((function(e){const[t,r]=(0,u.useState)(!1);(0,u.useEffect)((()=>r(!0)),[]);const{children:n,type:a,isHidden:i,s,dir:o}=e,c=function(e){switch(e){case"messenger":return Et.dp.standardFrameWidth;case"sideMenu":return Et.dp.sideMenuWidth}}(a),l={width:c,display:t?"flex":"none",transform:i?`logical translateX(${c}px)`:"logical translateX(0)",visibility:i?"hidden":"visible"};return u.createElement("div",{className:(0,xe.iv)(s.root),style:(0,we.Qo)(l,o)},n)})),Qc=u.memo((e=>{const{lang:t,region:r,isDashboard:n,godmode:a,openPopupAddOrg:i,showLogoutButton:s,openInteresting:o,openGuidebook:c,openPrintWindow:l,onLogoutClick:d,bssOnFeedbackClick:p,showFeedback:m}=e,h=Hc.Y.use(),g=h||n,f=(0,_s.$)((()=>{const{bssSideMenuClick:t}=e;Hc.Y.set((e=>!e)),h||t()})),v=(0,_s.$)((()=>{m(),p()}));return u.createElement(u.Fragment,null,u.createElement(_t.N,null,u.createElement(Zc,null)),u.createElement(Gc,{type:"sideMenu",isHidden:!h},g&&u.createElement(Wc,{lang:t,region:r,showFeedback:v,openPopupAddOrg:i,godmode:a,showLogoutButton:s,openInteresting:o,openGuidebook:c,openPrintWindow:l,onLogoutClick:d})),h?u.createElement($c,{isSideBarShown:h,onClick:f}):u.createElement(_t.N,null,u.createElement($c,{isSideBarShown:h,onClick:f})))}));Qc.displayName="Sidebar";const Kc=(0,_e.z)(void 0,(e=>({bssSideMenuClick(){e((0,G.gF)({showFrameEvent:e=>(0,Oe.x)({state:e,name:"sidebar",uuid:e.appContext.staticFrames.sidebar.id}),mapUuid:e=>e.appContext.staticFrames.map.id},(({showFrameEvent:e,mapUuid:t})=>(0,z.vP)((0,ft.zs)({uiElement:{name:"sidebarIcon",frameUuid:t},action:"tap"}),e&&(0,ft.GM)(Object.assign(Object.assign({},e),{showEventKey:(0,H.by)()}))))))},bssOnFeedbackClick(){e((0,G._N)((e=>e.appContext.staticFrames.sidebar.id),(e=>(0,ft.zs)({uiElement:{name:"feedbackButton",ownerName:"sidebar",frameUuid:e},action:"tap"}))))}})))((0,Re.$j)(Lc,Bc)(Qc)),Jc=(0,Re.X1)((e=>({popup:e.appContext.popup}))),Xc=e=>u.createElement(Se.E,{loader:ze.H.feedback,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q});class Yc extends u.PureComponent{render(){const{children:e,isDark:t,s:r}=this.props;return u.createElement("div",{className:(0,xe.iv)(r.overlay,t&&r._dark)},u.createElement("div",{className:(0,xe.iv)(r.content)},e))}}Yc.displayName=(0,Le.I)("src/modules/popup/components/wrapper");const el={overlay:{background:(0,ha.j)(Te.O.black,.6),boxSizing:"border-box",padding:"32px",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},_dark:{background:(0,ha.j)(Te.O.black,.8)},content:{flex:"1 0 auto",display:"flex",justifyContent:"center"}},tl=(0,xe.D2)(el)(Yc),rl=()=>u.createElement(Se.E,{loader:ze.H.photoUploader,render:e=>u.createElement(e,null),renderPlaceholder:Gr.Q}),nl=e=>u.createElement(Se.E,{loader:ze.H.writeReview,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),al=e=>u.createElement(Se.E,{loader:ze.H.typedFeedback,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),il=e=>u.createElement(Se.E,{loader:ze.H.editFavorite,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),sl=e=>u.createElement(Se.E,{loader:ze.H.videoPopup,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(Gr.w,{asyncStatus:e})}),ol=e=>u.createElement(Se.E,{loader:ze.H.entityVideoPopup,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(Gr.w,{asyncStatus:e})}),cl=e=>u.createElement(Se.E,{loader:ze.H.sharing,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q});var ll=r(63719),dl=r(93649),ul=r(81055),pl=r(42673),ml=r(76608),hl=r(98374),gl=r(6073),fl=r(17586),vl=r(45436),yl=r(47030);const bl=(0,z.gQ)("updateEmail",(e=>{const{email:t,statusId:r,locale:n}=e;return(0,gl.v)(t)?(0,z.xJ)((e=>{const a=(0,Be.bG)(e);if(!a||!a.data)return(0,z.ZT)();const i=(0,fl.j)({new_email:t,email:a.data.email,email_confirmed:a.data.email_confirmed}),s=(0,fl.N)({new_email:a.data.new_email,email:a.data.email,email_confirmed:a.data.email_confirmed}),o=i||s;return(0,z.vP)((0,yl.c)({email:t,locale:n,clientId:"online",statusId:r}),(0,vl.$c)(r,(e=>{if(e&&e.meta){const r=wl(e.meta);return"errorWithEmail"===r||o?(0,R.Mw)({id:(0,H.by)(),type:"emailConfirmation",subtype:r,email:t}):(0,z.ZT)()}})))})):(0,Ln.$)((({tp:e})=>(0,ml.c)((0,hl.v)({title:e._t("Ошибка!"),message:e._t("Неверный адрес электронной почты")}))))})),wl=e=>"success"===e.status?"success":"error"===e.status&&422===e.code?"errorWithEmail":"error",Il=(0,z.gQ)("updateInfo",(e=>(0,G.gF)({locale:e=>(0,Q.O)(e),userInfo:e=>(0,Be.bG)(e),frame:e=>(0,xr.t0)(e.appContext.frames,"userProfile")},(({locale:t,userInfo:r,frame:n})=>{if(!r||!r.data)return(0,z.ZT)();if(!n)return(0,z.ZT)();const{email:a,userId:i,first_name:s,middle_name:o,last_name:c,public_identity_accepted:l}=e,d=(e=>{const{email:t,new_email:r}=e;return t!==r})({email:a,new_email:r.data.new_email||r.data.email}),u=s!==r.data.first_name,p=o!==r.data.middle_name,m=c!==r.data.last_name,h=l!==r.data.public_identity_accepted,g=(0,H.by)(),f=(0,H.by)();return(0,z.vP)((0,z.Mf)((u||m||p||h)&&(0,ul.gS)({first_name:s,last_name:c,middle_name:o,public_identity_accepted:l,userId:i,statusId:g,locale:t}),d&&!!a&&bl({email:a,statusId:f,locale:t}),(0,R.j4)()),(0,pl.m)({}))}))));var El=r(7862);const Cl={title:Object.assign(Object.assign({},fr.yG),{color:Te.O.gray_929292})},xl=(0,xe.D2)(Cl)((0,Ye.C)(((e,{tp:t})=>{const{type:r,user:n}=e;if(!n)return;return{data:((e,t,r)=>{switch(e){case"firstName":{const e=t.first_name;return{title:r._t("Имя"),initialValue:e}}case"middleName":{const e=t.middle_name;return{title:r._gg("Отчество"),initialValue:e,placeholder:r._gg("если есть")}}case"lastName":{const e=t.last_name;return{title:r._t("Фамилия"),initialValue:e}}case"email":{const e=t.new_email||t.email;return{title:r._t("Электронная почта"),initialValue:e,htmlInputType:"email"}}case"password":{const e=void 0;return{title:r._t("Сменить пароль"),initialValue:e,htmlInputType:"password"}}}})(r,n,t)}}))((0,ke.$)()((({data:e,type:t,onChange:r,error:n,s:a})=>{const{title:i,initialValue:s,htmlInputType:o,placeholder:c}=e;return u.createElement(u.Fragment,null,u.createElement("div",{className:(0,xe.iv)(a.title)},i),u.createElement(El.n,{onChange:r,initialValue:s,error:n,dataT:t,inputType:o,placeholder:c}))}))));function kl({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},u.createElement("path",{fill:e,fillRule:"evenodd",d:"M13.222 12.843a4.999 4.999 0 115.555 8.312 4.999 4.999 0 01-5.555-8.312zm1.111 6.651a3 3 0 103.333-4.987 3 3 0 00-3.333 4.987z",clipRule:"evenodd"}),u.createElement("path",{fill:e,fillRule:"evenodd",d:"M20.72 6l1.08 3.24 5.2 2.08V23a3 3 0 01-3 3H8a3 3 0 01-3-3V11.32l5.2-2.08L11.28 6h9.44zm3.987 17.707A1 1 0 0025 23V12.68l-4.8-1.92L19.28 8h-6.56l-.92 2.76L7 12.68V23a1 1 0 001 1h16a1 1 0 00.707-.293z",clipRule:"evenodd"}))}const _l={wrapper:{display:"flex",alignItems:"center",position:"relative"},avatar:{display:"flex",justifyContent:"center",alignItems:"center",color:Te.O.gray_262626,background:Te.O.white,boxShadow:ia.q.popup,overflow:"hidden",borderRadius:Et.E0.oval,width:56,height:56,marginEnd:16},icon:{position:"absolute"},input:{display:"none"},errorText:{color:Te.O.red_fe5000},uploaderText:{color:Te.O.blue_0072ce,cursor:"pointer",display:"flex",alignItems:"center",":hover":{color:Te.O.gray_262626}}},Ol=(0,xe.D2)(_l)((0,Ye.C)(((e,{tp:t})=>{const{user:r}=e;if(!r)return;return{initials:(0,Gi.C)(r,t)}}))((0,ke.$)()((({onUpload:e,avatarUrl:t,errorText:r,initials:n,i18n:{tp:a},s:i})=>{const s=(0,u.useCallback)((()=>{}),[n]),o=(0,u.useCallback)((t=>{e(t)}),[e]);return u.createElement(u.Fragment,null,u.createElement("label",{htmlFor:"avatar-uploader",className:(0,xe.iv)(i.uploaderText)},u.createElement("div",{className:(0,xe.iv)(i.avatar)},u.createElement(Qi.q,{src:t,initials:s}),u.createElement("div",{className:(0,xe.iv)(i.icon)},u.createElement(kl,{color:t?Te.O.white:Te.O.gray_929292}))),a._t("Загрузить аватар")),!!r&&u.createElement("div",{className:(0,xe.iv)(i.errorText)},r),u.createElement("input",{name:"wat-upload-input",id:"avatar-uploader",type:"file",multiple:!0,accept:"image/*",className:(0,xe.iv)(i.input),onChange:o}))}))));var Sl=r(37413),zl=r(49207),Ml=r(1508);const jl=(0,z.gQ)("uploadAvatar",(e=>{const{userId:t,file:r}=e;return(0,G.gF)({locale:e=>(0,Q.O)(e),regionId:e=>(0,h.fq)(e)},(({locale:e,regionId:n})=>{const a=(0,H.by)(),i=(0,H.by)();return(0,z.vP)((0,Ml.t)({objectType:"profile",albumCode:"avatar",objectId:t,locale:e,regionId:n,temporaryId:i,file:r,isReplaced:!0}),(0,G._N)((e=>e.data.photo[i]),(r=>{if(!r||!r.data||!("url"in r.data))return(0,z.ZT)();const n=r.data.url;return(0,ul.gS)({userId:t,avatarUrl:n,locale:e,statusId:a})})))}))}));var Tl=r(96274),Nl=r(46846),Pl=r(52718),Ll=r(72273);const Fl={openDeleteUserProfilePopup:R.Mw,closePopup:R.j4,uploadUserAvatar:jl},Rl=(0,mr.k)({wrapper:{color:Te.O.gray_929292,padding:"16px 24px"},bottomBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},removeLinks:{display:"flex",flexDirection:"column",alignItems:"flex-end"},input:{marginBottom:16,":empty":{marginBottom:0}},agreement:{display:"flex",alignItems:"center",paddingTop:28,cursor:"pointer"},agreementLabel:{color:Te.O.gray_262626,marginInlineStart:4},agreementText:Object.assign(Object.assign({marginTop:14},fr.yG),{color:Te.O.gray_929292}),law:{marginTop:14}}),Hl=(0,Gn.G)({selectors:{},handlers:Fl})((({getUserInfo:e,openDeleteUserProfilePopup:t,uploadUserAvatar:r,user:n})=>{const[a,i]=(0,u.useState)(n.first_name),[s,o]=(0,u.useState)(n.middle_name),[c,l]=(0,u.useState)(n.last_name),[d,p]=(0,u.useState)(n.new_email||n.email),[m,h]=(0,u.useState)(n.phone_number),[g,f]=(0,u.useState)(n.avatar_preview_tpl&&(0,Pl.B)(n.avatar_preview_tpl,{width:128,height:128})),[v,y]=(0,u.useState)(),[b,w]=(0,u.useState)(n.public_identity_accepted),{featurePersonalDataAgreement:I}=(0,Ko.Z)(),{css:E,s:C}=(0,mr.y)(Rl),x=(0,Co.T)(),{bssRef:k}=(0,Ss.T)((({frameId:e},t)=>(0,Oe.x)({state:t,name:"profileSettingsFrame",uuid:e}))),_=(0,u.useCallback)((e=>{i(e)}),[]),O=(0,u.useCallback)((e=>{o(e)}),[]),S=(0,u.useCallback)((e=>{l(e)}),[]),z=(0,u.useCallback)((e=>{p(e)}),[]),M=(0,u.useCallback)((e=>{h(e)}),[]),j=(0,u.useCallback)((()=>{t({id:(0,H.by)(),user:n,type:"deleteUserProfile"})}),[t]),T=(0,u.useCallback)((()=>{w(!b)}),[b,w]),N=(0,u.useCallback)((e=>{w(!e)}),[w]),P=(0,u.useMemo)((()=>({first_name:a,middle_name:s,last_name:c,avatarUrl:g,email:d,phone:m,public_identity_accepted:null!==n.public_identity_accepted||b?b:null,userId:n.user_id})),[a,s,c,g,d,m,b,n]);(0,u.useEffect)((()=>e(P)),[P]);const L=(0,u.useCallback)((e=>{const t=e.target.files;if(!t||!t.length)return;const a=t[0];(0,Sl.w)(a,ic.qk).then((e=>{r({userId:n.user_id,file:a}),y(void 0),f(e.src)})).catch((e=>{const t=(0,zl.R)(e,ic.qk,x);y(t)}))}),[n.user_id]);return u.createElement("div",{className:E(C.wrapper),ref:k},u.createElement("div",Object.assign({className:E(C.input)},Ce.dx.n("wat-edit-userprofile-firstname")),u.createElement(xl,{onChange:_,type:"firstName",user:n,error:!a})),I&&u.createElement("div",Object.assign({className:E(C.input)},Ce.dx.n("wat-edit-userprofile-middlename")),u.createElement(xl,{onChange:O,type:"middleName",user:n})),u.createElement("div",Object.assign({className:E(C.input)},Ce.dx.n("wat-edit-userprofile-lastname")),u.createElement(xl,{onChange:S,type:"lastName",user:n,error:!c})),u.createElement("div",Object.assign({className:E(C.input)},Ce.dx.n("wat-edit-userprofile-email")),u.createElement(xl,{onChange:z,type:"email",user:n,error:!d})),u.createElement("div",Object.assign({className:E(C.input)},Ce.dx.n("wat-edit-userprofile-phone")),u.createElement(Ll.s,{phoneCode:n.phone_code,phone:(n.phone_code||"")+(n.phone_number||""),isConfirmed:n.phone_number_confirmed||!1,onChange:M,source:"profile"})),u.createElement("div",Object.assign({className:E(C.bottomBar)},Ce.dx.n("wat-edit-userprofile-avatar")),u.createElement(Ol,{user:n,avatarUrl:g,errorText:v,onUpload:L}),u.createElement("div",{className:E(C.removeLinks)},u.createElement(ks.r,{color:"gray",dataN:"wat-edit-profile-link",dataT:"remove",onClick:j},x._t("Удалить профиль")))),I&&u.createElement(u.Fragment,null,u.createElement("div",Object.assign({className:E(C.agreement)},Ce.dx.n("wat-edit-userprofile-agreement"),{onClick:T}),u.createElement(Nl.X,{isChecked:!!b,backgroundColor:b?Te.O.green_30ad00:void 0,tickColor:Te.O.white,onClick:N,dataN:"wat-edit-userprofile-agreement-acception"}),u.createElement("span",{className:E(C.agreementLabel)},x._gg("Показывать моё имя, фамилию или никнейм в продуктах 2ГИС"))),u.createElement("div",{className:E(C.agreementText)},x._gg("Обратите внимание: если вы отзовёте согласие на обработку и распространение персональных данных, весь ваш контент будет обезличен. Ваши имя, фамилию или никнейм смогут увидеть только представители компаний, имеющие доступ к Личному кабинету."))),u.createElement("div",{className:E(C.law)},u.createElement(Tl.p,{type:"default",buttonName:x._t("Сохранить")})))})),Dl={updateUserInfo:Il,closePopup:R.j4},Bl={wrapper:{color:Te.O.gray_929292,paddingTop:16,paddingBottom:16,paddingStart:24,paddingEnd:34},header:{borderBottom:`1px solid ${Te.O.gray_e6e6e6}`},close:{position:"absolute",top:12,end:16,cursor:"pointer"},footer:{paddingTop:20,paddingBottom:20}},Al=(0,Gn.G)({selectors:()=>({}),handlers:Dl})((0,xe.D2)(Bl)((0,ke.$)()((({popup:e,closePopup:t,updateUserInfo:r,s:n,i18n:{tp:a}})=>{var i,s;const o=(0,u.useMemo)((()=>e.user),[e]),[c,l]=(0,u.useState)({first_name:o.first_name,middle_name:o.middle_name,last_name:o.last_name,avatarUrl:o.avatar,email:o.new_email||o.email,public_identity_accepted:o.public_identity_accepted,userId:o.user_id}),d=(0,u.useCallback)((()=>{r(c)}),[c]),p=(0,u.useCallback)((()=>{t()}),[e.id]),m=(0,u.useCallback)((e=>{l(e)}),[]);return u.createElement(ll.F,{dataN:"wat-edit-user-profile-popup",header:u.createElement(u.Fragment,null,u.createElement("div",{className:(0,xe.iv)(n.wrapper,n.header)},a._t("Редактирование профиля")),u.createElement("div",{className:(0,xe.iv)(n.close),onClick:p},u.createElement(ya.x,{color:Te.O.gray_262626}))),body:u.createElement(Hl,{user:o,getUserInfo:m}),footer:u.createElement(dl.y,{submitText:a._t("Сохранить"),withoutUserAvatar:!0,onSubmit:d,onCancel:p,expirementalStyles:n.footer,disabledButton:!(null===(i=c.first_name)||void 0===i?void 0:i.trim())||!(null===(s=c.last_name)||void 0===s?void 0:s.trim())})})})))),Vl={deleteUserProfile:(0,z.gQ)("deleteProfile",(e=>(0,G.gF)({locale:e=>(0,Q.O)(e)},(({locale:t})=>{const r=(0,H.by)();return e?(0,z.vP)((0,R.j4)(),(0,V.xO)(),(0,ul.ai)({locale:t,userId:e,statusId:r}),(0,ls.k)()):(0,z.ZT)()})))),openEditProfilePopup:Yi.Z},Zl={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},fr.FY),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56},cancel:{background:Te.O.blue_028eff,color:Te.O.white}},Ul=(0,Gn.G)({selectors:{},handlers:Vl})((0,xe.D2)(Zl)((0,ke.$)()((({popup:e,deleteUserProfile:t,openEditProfilePopup:r,s:n,i18n:{tp:a}})=>{const i=(0,u.useCallback)((()=>{t(e.user.user_id)}),[e]),s=(0,u.useCallback)((()=>{r()}),[e.id]),o=(0,u.useMemo)((()=>u.createElement("div",{className:(0,xe.iv)(n.wrapper)},u.createElement("div",{className:(0,xe.iv)(n.text)},u.createElement("h1",{className:(0,xe.iv)(n.title)},a._t("Уверены в этом?")),u.createElement("p",null,a._t("Ваш аккаунт будет удалён, но все отзывы, фотографии и зацепки останутся в справочнике, став анонимными."))))),[e.id]),c=(0,u.useMemo)((()=>u.createElement(u.Fragment,null,u.createElement("div",{className:(0,xe.iv)(n.button,n.cancel),onClick:s},a._t("Не удалять")),u.createElement("div",{className:(0,xe.iv)(n.button)},u.createElement(ks.r,{onClick:i},a._t("Удалить"))))),[e.id]);return u.createElement(ll.F,{dataN:"wat-delete-user-profile-popup",header:u.createElement(u.Fragment,null),body:o,footer:c})})))),$l={closeEmailConfirmaionPopup:R.j4},Wl=u.memo((e=>{const{closeEmailConfirmaionPopup:t,title:r,description:n,s:a,i18n:{tp:i}}=e,s=(0,u.useMemo)((()=>u.createElement("div",{className:(0,xe.iv)(a.wrapper)},u.createElement("div",{className:(0,xe.iv)(a.text)},u.createElement("h1",{className:(0,xe.iv)(a.title)},r),u.createElement("p",null,n)))),[n,r,a.wrapper,a.text,a.title]),o=(0,u.useMemo)((()=>u.createElement("div",{className:(0,xe.iv)(a.button),onClick:t},i._t("ok"))),[t,a.button,i]);return u.createElement(ll.F,{dataN:"wat-confirm-email-popup",body:s,footer:o})})),ql={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},fr.FY),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56,background:Te.O.blue_028eff,color:Te.O.white,borderRadius:`0 0 ${Et.E0.default} ${Et.E0.default}`}},Gl=(0,Gn.G)({selectors:{},handlers:$l})((0,xe.D2)(ql)((0,ke.$)()((0,Ye.C)((({popup:{subtype:e,email:t}},{tp:r})=>({title:"success"===e?r._t("Необходимо подтвердить новый адрес"):r._t("Что-то пошло не так"),description:"success"===e?r._t("Для подтверждения перейдите по ссылке в письме, которое мы отправили по адресу %1",[t]):"errorWithEmail"===e?r._t("Данный e-mail занят другим пользователем"):r._t("Попробуйте еще раз!")})))(Wl))));var Ql=r(95652),Kl=r(30933),Jl=r(55902);const Xl=(0,z.gQ)("submitComplaint",(({data:e,context:t})=>{const r=(0,H.by)();return"review"===e.type?(0,$i.m)((0,z.vP)((0,R.BW)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!0})})),(0,Ql.am)({reviewId:e.id,text:e.text,statusId:r}),ed(r,e.type))):(0,z.vP)((0,R.BW)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!0})})),Yl(e,r,t),ed(r,e.type))})),Yl=(e,t,r)=>(0,G.gF)({baseParams:Kl.w},(({baseParams:n})=>(0,Ql.K6)({statusId:t,data:Object.assign(Object.assign(Object.assign({},n),(0,Jl.A)()),{photoId:e.id,message:e.text,errorType:"product",emailValue:r.email,objectId:r.popup.objectId,objectType:r.popup.objectType})}))),ed=(e,t)=>(0,z.xJ)((r=>{const n=r.status[e];return n&&n.meta?n&&"success"===n.meta.status?(0,z.vP)((0,Ln.$)((({tp:e})=>(0,ml.c)((0,hl.V)({title:e._t("Спасибо"),message:"photo"===t?e._t("Мы проверим это фото!"):e._t("Мы проверим этот отзыв!")})))),(0,R.j4)()):n&&"error"===n.meta.status?(0,z.vP)(td(n.meta.code),(0,R.BW)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!1})}))):void 0:td()})),td=e=>(0,Ln.$)((({tp:t})=>(0,ml.c)((0,hl.v)({title:400===e?t._t("Длина сообщения должна быть от 3 до 500 символов"):t._t("Что-то пошло не так"),message:t._t("Не получилось отправить жалобу на отзыв. Повторите попытку.")})))),rd={isSendingStatus:e=>!(!e.appContext.popup||"complaint"!==e.appContext.popup.type)&&!!e.appContext.popup.isSending,user:e=>(0,Be.bG)(e).data},nd={onSubmitComplaintButtonClick:Xl,onCloseButtonClick:R.j4},ad={wrapper:{padding:"12px 24px",boxShadow:ia.q.innerBorderBottomBase},title:Object.assign({},fr.FY),law:{marginTop:16}},id=(0,Gn.G)({selectors:rd,handlers:nd})((0,xe.D2)(ad)((0,ke.$)()((e=>{const{user:t,popup:r,onSubmitComplaintButtonClick:n,onCloseButtonClick:a,i18n:{tp:i},s,isSendingStatus:o}=e,{entityId:c,subtype:l}=r,[d,p]=(0,u.useState)(""),[m,h]=(0,u.useState)(""),g="photo"===l,f=g?i._t("Пожаловаться на фото"):i._t("Жалоба на отзыв"),v=g?!t&&(m.length<3||m.length>100)||d.length<3||d.length>500||o:d.length<3||d.length>500||o,y=(0,u.useMemo)((()=>u.createElement("div",{className:(0,xe.iv)(s.wrapper)},g&&!t&&u.createElement(El.n,{error:!!m&&m.length>3&&m.length<100,placeholder:i._t("Укажите эл. почту, и мы ответим на ваши вопросы"),onChange:h,inputType:"email"}),u.createElement(El.n,{multiline:!0,linesCount:6,placeholder:i._t("Опишите суть жалобы своими словами"),error:!!d&&d.length>3&&d.length<100,onChange:p}),u.createElement("div",{className:(0,xe.iv)(s.law)},u.createElement(Tl.p,{type:"default_partner",buttonName:i._t("Отправить")})))),[g,t]),b=(0,u.useCallback)((()=>n({data:{type:l,id:c,text:d},context:{popup:r,email:t&&t.email||m}})),[d,t]);return u.createElement(ll.F,{dataN:"wat-review-coplaint-popup",header:u.createElement("div",{className:(0,xe.iv)(s.wrapper,s.title)},u.createElement("h1",null,f)),body:y,footer:u.createElement(dl.y,{disabledButton:v,withAuth:!0,submitText:i._t("Отправить"),onSubmit:b,onCancel:a})})}))));var sd=r(25437),od=r(97738);const cd=(e,{dateFns:t,config:{comma:r}})=>{const{date:n,entity:a}=e;if(!a)return;const i="name"in a?a.name:void 0;return{title:i,description:`${t.format(new Date(n),"d MMMM yyyy")}${r} ${i}`}},ld=(0,Gn.G)({selectors:({entityId:e,searchId:t})=>({entity:r=>(0,y.wj)({state:r,entityId:e,searchId:t}).data,isSearchBot:e=>e.session.isSearchBot})})((e=>{const{s:t,css:r}=(0,mr.y)(dd),n=(0,hr.Gb)(cd,e);if(!n)return null;const{title:a,description:i}=n;if(!a)return null;const{entity:s,isSearchBot:o}=e;return u.createElement("div",{className:r(t.wrapper)},!!s&&u.createElement("div",{className:r(t.image)},u.createElement(od.T,{entity:s,isLoadingForced:o})),u.createElement("div",null,u.createElement("div",{className:r(t.title)},u.createElement("h1",null,a)),!!i&&u.createElement("div",null,i)))})),dd=(0,mr.k)({wrapper:{padding:"12px 24px",boxShadow:ia.q.innerBorderBottomBase,display:"flex",alignItems:"center"},image:{marginEnd:16},title:Object.assign(Object.assign({},fr.FY),{marginBottom:4})}),ud=(0,u.memo)((({onTextChange:e,officialAnswerText:t})=>{const{s:r,css:n}=(0,mr.y)(pd),a=(0,Co.T)();return u.createElement("div",{className:n(r.wrapper)},!!t&&u.createElement(u.Fragment,null,u.createElement("div",{className:n(r.title)},a._t("Официальный ответ")),u.createElement("div",{className:n(r.text)},t)),u.createElement("div",{className:n(r.title)},a._t("Добавьте комментарий")),u.createElement(El.n,{onChange:t=>e(t),autoFocus:!0,multiline:!0}))}));ud.displayName="Body";const pd=(0,mr.k)({wrapper:Object.assign(Object.assign({},fr.oN),{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}),title:{color:Te.O.gray_929292},text:{boxShadow:ia.q.innerBorderBottomBase,paddingTop:8,paddingBottom:20,paddingStart:0,paddingEnd:0,marginBottom:16}});var md=r(31940),hd=r(33373),gd=r(79659),fd=r(43893),vd=r(81169),yd=r(62849);const bd=(0,z.gQ)("submitReviewComment",(e=>{const{reviewId:t,text:r}=e,n=(0,H.by)(),a=(0,z.vP)((0,md.g7)({id:t,text:r,statusId:n}),(0,vl.$c)(n,(e=>(0,hd.d)(e)?(0,z.Mf)((0,R.j4)(),(0,Ln.$)((({tp:e})=>(0,ml.c)((0,hl.V)({title:e._t("Спасибо!"),message:e._t("Ваш комментарий отправлен")}))))):(0,Ln.$)((({tp:e})=>(0,ml.c)((0,hl.v)({title:e._t("Ошибка!"),message:e._t("Попробуйте еще раз!")})))))));return(0,z.Rh)((({featurePersonalDataAgreement:e,featurePhoneLaw:t})=>(0,G.gF)({hasPhone:Be.DK,status:t=>(0,gd.I)(t,e)},(({hasPhone:e,status:r})=>{const n=t&&!e;return n||"idle"===r?(0,fd.L)({after:e=>e?a:(0,z.ZT)(),openPopup:n?()=>(0,yd.p)():()=>(0,vd.I)(!1)}):a}))))})),wd={review:e=>{const{popup:t}=e.appContext;if("addReviewComment"!==(null==t?void 0:t.type))return;const r=t.reviewId;return(0,sd.Tt)({state:e,id:r}).data}},Id={closeAddReviewCommentPopup:R.j4,submitComment:bd},Ed=e=>{var t;const{review:r}=e;if(r&&!r.temporary)return{date:r.date_created,officialAnswer:null===(t=r.official_answer)||void 0===t?void 0:t.text,entityId:r.object.id}},Cd=(0,Gn.G)({selectors:wd,handlers:Id})((e=>{const{closeAddReviewCommentPopup:t,submitComment:r,review:n,popup:{searchId:a}}=e,[i,s]=(0,u.useState)(""),[o,c]=(0,u.useState)(!0),l=(0,u.useCallback)((e=>{s(e),c(e.length<4)}),[i]),d=(0,u.useCallback)((()=>{n&&r({text:i,reviewId:n.id})}),[t,i]),p=(0,Co.T)(),m=(0,hr.Gb)(Ed,e);if(!m)return null;const{date:h,entityId:g,officialAnswer:f}=m;return u.createElement(ll.F,{dataN:"wat-add-review-comment-popup",header:u.createElement(ld,{date:h,entityId:g,searchId:a}),body:u.createElement(ud,{onTextChange:l,officialAnswerText:f}),footer:u.createElement(dl.y,{submitText:p._t("Опубликовать"),withAuth:!0,onSubmit:d,onCancel:t,disabledButton:o})})})),xd=e=>u.createElement(Se.E,{loader:ze.H.communalPopup,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),kd=e=>u.createElement(Se.E,{loader:ze.H.paymentForm,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),_d=e=>u.createElement(Se.E,{loader:ze.H.cart,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),Od=e=>u.createElement(Se.E,{loader:ze.H.deliveryOrderPopup,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),Sd=e=>u.createElement(Se.E,{loader:ze.H.sendOrderPopup,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),zd=e=>u.createElement(Se.E,{loader:ze.H.broadcast,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),Md=e=>u.createElement(Se.E,{loader:ze.H.thanksForReview,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),jd=()=>u.createElement(Se.E,{loader:ze.H.thanksForPhoto,render:e=>u.createElement(e,null),renderPlaceholder:Gr.Q}),Td=e=>u.createElement(Se.E,{loader:ze.H.personalDataAgreementPopup,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}),Nd=e=>u.createElement(Se.E,{loader:ze.H.smmTipPopup,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(Gr.w,{asyncStatus:e})}),Pd=e=>u.createElement(Se.E,{loader:ze.H.smmCheckoutPopup,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:e=>u.createElement(Gr.w,{asyncStatus:e})});function Ld(){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"212",height:"103",fill:"none"},u.createElement("path",{fill:"url(#phone-confirmation-a)",d:"M81.866 93.095h-4.23c-3.085.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.588-6.467 5.673-6.169h3.882c2.737.249 12.989 4.428 12.989 7.811v24.776c0 3.334-9.954 7.065-12.64 7.264Z"}),u.createElement("path",{fill:"url(#phone-confirmation-b)",d:"m94.108 92.249-12.043.846c-3.086.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.587-6.467 5.673-6.169l12.043 1.194c2.737.249 4.877 3.234 4.877 6.567v24.776c0 3.383-2.14 6.269-4.877 6.468Z"}),u.createElement("path",{fill:"url(#phone-confirmation-c)",d:"M60.07 47.423c0-8.905-3.534-16.965-8.86-20.995l-2.09-2.686h-5.225c-8.808-.15-16.173 9.95-16.173 23.184 0 13.78 7.962 23.632 17.169 23.632.298 0 6.32-.1 6.32-.1V68.12c5.325-3.831 8.858-11.791 8.858-20.697Z"}),u.createElement("path",{fill:"url(#phone-confirmation-d)",d:"M95.402 27.174c0-7.462-2.986-14.229-7.415-17.562l-1.741-2.239h-4.38c-7.365-.1-13.536 8.309-13.536 19.403 0 11.493 6.619 19.752 14.382 19.752.25 0 5.325-.05 5.325-.05v-1.94c4.38-3.234 7.365-9.901 7.365-17.364Z"}),u.createElement("path",{fill:"url(#phone-confirmation-e)",d:"M65.642 47.423c0 12.14-6.569 22.488-15.178 23.134-9.207.697-17.17-9.85-17.17-23.631 0-13.782 7.963-24.08 17.17-23.135 8.61.945 15.178 11.443 15.178 23.632Z"}),u.createElement("path",{fill:"url(#phone-confirmation-f)",d:"M101.225 27.125c0 10.149-5.474 18.806-12.69 19.353-7.714.597-14.333-8.209-14.333-19.702 0-11.492 6.669-20.099 14.332-19.303 7.216.697 12.691 9.503 12.691 19.652Z"}),u.createElement("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M128.951 98.456c0 1.426-.771 2.641-1.78 2.717-1.082.082-2.016-1.155-2.016-2.77 0-1.613.934-2.825 2.016-2.713 1.009.105 1.78 1.34 1.78 2.766ZM200.352 3.773c0 1.426-.771 2.64-1.781 2.717-1.081.082-2.015-1.155-2.015-2.77 0-1.613.934-2.825 2.015-2.713 1.01.105 1.781 1.34 1.781 2.766ZM14.247 17.012c0 1.426-.77 2.64-1.78 2.717-1.082.082-2.016-1.156-2.016-2.77s.934-2.825 2.016-2.713c1.01.104 1.78 1.34 1.78 2.766ZM51.083 36.765l-.302 21.402M44.167 46.996l13.197.543M93.758 74.888l-10.942-.068 7.627-10.98v21.485M150.099 77.903c5.897.582 45.866 4.547 51.091-27.312 2.683-16.373-37.845-37.523-52.341-36.302-6.539.55-49.442 5.432-55.097 6.7-5.002 1.122-7.54 3.693-7.224 6.754.144 1.384.475 4.264 5.947 5.729.799.215 1.645.407 2.546.575 5.182.986 12.031 1.198 20.261.096.597-.078 1.99-.145 2.641-.195.025 0 .049 0 .07-.002"}),u.createElement("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M123.256 50.321c-3.307 4.941-1.567 16.859 16.951 17.493 12.249.42 15.19-4.363 15.939-8.803"}),u.createElement("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M121.345 43.28c-.593 7.517 4.84 11.995 18.307 12.551 3.022.125 10.696.205 14.545-3.32M124.815 62.323c-2.963 1.271-4.214 9.292 4.565 13.774 7.412 3.783 22.95 3.55 25.875-2.522 1.565-3.25.167-6.608-2.962-8.06"}),u.createElement("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M162.21 31.402c-14.232-5.966-17.263-.587-28.369-1.077-12.518-.553-16.333 1.618-16.359 5.702-.044 6.814 8.821 11.165 20.194 9.347 4.936-.789 10.035 1.793 14.433 3.206 4.959 10.675 12.888 18.007 23.258 16.535"}),u.createElement("defs",null,u.createElement("linearGradient",{id:"phone-confirmation-a",x1:"71.946",x2:"94.527",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#195441"}),u.createElement("stop",{offset:".09",stopColor:"#195441"}),u.createElement("stop",{offset:".1",stopColor:"#195640"}),u.createElement("stop",{offset:".36",stopColor:"#197A31"}),u.createElement("stop",{offset:".61",stopColor:"#199427"}),u.createElement("stop",{offset:".83",stopColor:"#19A420"}),u.createElement("stop",{offset:"1",stopColor:"#19AA1E"})),u.createElement("linearGradient",{id:"phone-confirmation-b",x1:"76.426",x2:"99.007",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#19AA1E"}),u.createElement("stop",{offset:".976",stopColor:"#23CC29"}),u.createElement("stop",{offset:"1",stopColor:"#23CC29"})),u.createElement("linearGradient",{id:"phone-confirmation-c",x1:"27.703",x2:"60.062",y1:"47.161",y2:"47.161",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#195441"}),u.createElement("stop",{offset:".09",stopColor:"#195441"}),u.createElement("stop",{offset:".1",stopColor:"#195640"}),u.createElement("stop",{offset:".36",stopColor:"#197A31"}),u.createElement("stop",{offset:".61",stopColor:"#199427"}),u.createElement("stop",{offset:".83",stopColor:"#19A420"}),u.createElement("stop",{offset:"1",stopColor:"#19AA1E"})),u.createElement("linearGradient",{id:"phone-confirmation-d",x1:"68.311",x2:"95.391",y1:"26.976",y2:"26.976",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#195441"}),u.createElement("stop",{offset:".09",stopColor:"#195441"}),u.createElement("stop",{offset:".1",stopColor:"#195640"}),u.createElement("stop",{offset:".36",stopColor:"#197A31"}),u.createElement("stop",{offset:".61",stopColor:"#199427"}),u.createElement("stop",{offset:".83",stopColor:"#19A420"}),u.createElement("stop",{offset:"1",stopColor:"#19AA1E"})),u.createElement("linearGradient",{id:"phone-confirmation-e",x1:"33.278",x2:"65.638",y1:"47.205",y2:"47.205",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#19AA1E"}),u.createElement("stop",{offset:".976",stopColor:"#23CC29"}),u.createElement("stop",{offset:"1",stopColor:"#23CC29"})),u.createElement("linearGradient",{id:"phone-confirmation-f",x1:"74.202",x2:"101.232",y1:"26.942",y2:"26.942",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#19AA1E"}),u.createElement("stop",{offset:".976",stopColor:"#23CC29"}),u.createElement("stop",{offset:"1",stopColor:"#23CC29"}))))}var Fd=r(93501),Rd=r(11658);const Hd=(0,u.memo)((()=>{const[e,t]=(0,u.useState)(59),{_gg:r}=(0,jr.T)(),{css:n,s:a}=(0,mr.y)(Dd),{useBssHandler:i}=(0,Ss.T)(),s=i(Rd.t1),o=()=>{const e=Date.now(),r=setInterval((()=>{const n=Math.floor(60-(Date.now()-e)/1e3);n>0?t(n):(clearInterval(r),t(0))}),1e3);return()=>{r&&clearInterval(r)}};(0,u.useEffect)((()=>o()),[]);const c=(0,_s.$)((()=>{t(59),o(),s()}));return 0===e?u.createElement(Fd.z,{appearance:"ghost",onClick:c,experimentalStyles:a.refreshButton},r("Отправить код ещё раз")):u.createElement("p",{className:n(a.text)},r(`Новый код можно запросить через 0:${e<10?0:""}${e}`))}));Hd.displayName="RefreshCodeTimer";const Dd=(0,mr.k)({text:Object.assign(Object.assign({},fr.oN),{color:Te.O.gray_929292,marginBottom:40,width:255,marginStart:"auto",marginEnd:"auto",textAlign:"left"}),refreshButton:{marginBottom:40,padding:0}});var Bd=r(84489);const Ad=(0,u.memo)((({phone:e,withDecline:t,source:r})=>{const{_gg:n}=(0,jr.T)(),{css:a,s:i}=(0,mr.y)(Vd),s=(0,Ie.I0)(),{bssRef:o,useBssHandler:c}=(0,Ss.T)((0,Rd.a2)()),{bssRef:l}=(0,Ss.T)((0,Rd.Df)()),d=c(Rd.Gk),[p,m]=(0,u.useState)(["","","",""]),h=p.every((e=>""!==e)),g=(0,_s.$)((()=>{d(),s((0,Bd.OW)(r))})),f=(0,_s.$)((e=>{const t=parseInt(e.target.value),r=parseInt(e.target.dataset.index||""),n=[...p];return""!==e.target.value||Number.isNaN(r)?0<=t&&t<=9&&!Number.isNaN(r)?(n[r]=t.toString(),m(n),void(0,Bd.lS)(e.target)):void 0:(n[r]=e.target.value,void m(n))})),v=(0,_s.$)((e=>{const t=parseInt(e.target.dataset.index||"");if(!Number.isNaN(t))return 37===e.keyCode?(e.preventDefault(),void(0,Bd.j1)(e.target)):39===e.keyCode?(e.preventDefault(),void(0,Bd.lS)(e.target)):void(13===e.keyCode&&y())})),y=(0,_s.$)((()=>{}));return u.createElement(ll.F,{dataN:"wat-confirm-phone-popup",onClose:g,body:u.createElement("div",{className:a(i.body),ref:o},u.createElement(Ld,null),u.createElement("h1",{className:a(i.header),ref:l},n("Подтвердите номер")),u.createElement("p",{className:a(i.text)},u.createElement("span",{className:a(i.textLine)},n("Введите код отправленный в СМС")),u.createElement("span",{className:a(i.textLine)},n(`на номер ${e.replace(" ","&nbsp;")}`))),u.createElement("div",{className:a(i.inputWrapper)},p.map(((e,t)=>u.createElement("input",{key:t,className:a(i.input),type:"number",placeholder:"-",min:0,max:9,value:e,"data-index":t,onChange:f,onKeyDown:v})))),u.createElement(Hd,null),u.createElement(Fd.z,{appearance:h?"secondary":"noncontrast",wide:!0,disabled:!h,onClick:y},n("Подтвердить")),t&&u.createElement(Fd.z,{appearance:"ghost",onClick:g},n("Отказаться и не привязывать")))})}));Ad.displayName="PhoneConfirmationPopup";const Vd=(0,mr.k)({body:{padding:"56px 116px",textAlign:"center"},header:Object.assign(Object.assign({},fr.hC),{fontWeight:fr.Ue.bold,marginTop:28,marginBottom:16}),text:Object.assign({},fr.oN),textLine:{display:"block"},inputWrapper:{display:"flex",justifyContent:"space-between",margin:"32px 0"},input:Object.assign(Object.assign({},fr.hC),{flexGrow:1,border:"none",borderBottom:`1px solid ${Te.O.gray_e6e6e6}`,padding:"12px 0",marginEnd:16,textAlign:"center",":focus":{borderBottomColor:Te.O.blue_0070cc,outline:"none","::placeholder":{color:"transparent"}}})}),Zd=()=>u.createElement(Se.E,{loader:ze.H.phoneLawPopup,render:e=>u.createElement(e,null),renderPlaceholder:Gr.Q});class Ud extends u.PureComponent{render(){const{s:e,isDark:t,popup:r}=this.props,n=this.renderContentModule();return n?u.createElement(kn.j.Provider,{value:{frameId:r.id}},u.createElement("div",{className:(0,xe.iv)(e.popup)},u.createElement(tl,{isDark:t},n))):null}renderContentModule(){const{popup:e}=this.props;switch(e.type){case"feedback":return u.createElement(Xc,{type:e.subtype});case"createReview":case"editReview":return u.createElement(nl,{popup:e});case"photoUploader":return u.createElement(rl,null);case"typedFeedback":return u.createElement(al,{popup:e});case"editFavorite":return u.createElement(il,{popup:e});case"videoPlayer":return u.createElement(sl,{popup:e});case"entityVideoPlayer":return u.createElement(ol,{popup:e});case"editUserProfile":return u.createElement(Al,{popup:e});case"deleteUserProfile":return u.createElement(Ul,{popup:e});case"sharing":return u.createElement(cl,{popup:e});case"paymentForm":return u.createElement(kd,{popup:e});case"complaint":return u.createElement(id,{popup:e});case"emailConfirmation":return u.createElement(Gl,{popup:e});case"addReviewComment":return u.createElement(Cd,{popup:e});case"deliveryOrder":return u.createElement(Od,{popup:e});case"cart":return u.createElement(_d,{popup:e});case"communal":return u.createElement(xd,{popup:e});case"sendOrder":return u.createElement(Sd,{popup:e});case"broadcast":return u.createElement(zd,{popup:e});case"thanksForReview":return u.createElement(Md,{popup:e});case"thanksForPhoto":return u.createElement(jd,null);case"personalDataAgreement":return u.createElement(Td,{withDecline:e.withDecline});case"smmTipPopup":return u.createElement(Nd,{popup:e});case"smmCheckout":return u.createElement(Pd,{popup:e});case"phoneConfirmationPopup":return u.createElement(Ad,{phone:e.phone,withDecline:e.withDecline,source:e.source});case"phoneLawPopup":return u.createElement(Zd,null);default:return null}}}Ud.displayName=(0,Le.I)("src/modules/popup");const $d=(0,Re.$j)(Jc)((0,Ye.C)((({popup:e})=>{if(e)return{popup:e,isDark:"isPopupGlassDark"in e&&e.isPopupGlassDark}}))((0,xe.D2)({popup:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})(Ud)));var Wd=r(28385);const qd=(0,Re.X1)((e=>({notifications:e.appContext.weak.notifications}))),Gd=(0,Re.Z3)((e=>({onNotificationClick(t){e((0,ml.y)({id:t}))}})));var Qd=r(71341);class Kd extends u.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick(this.props.notification.id)}}render(){const{title:e,message:t,icon:r,s:n,bssRef:a}=this.props;return u.createElement("div",Object.assign({ref:a,className:(0,xe.iv)(n.notification)},Ce.dx.n("wat-notification"),Ce.dx.t("error"===r?"error":"success"),{onClick:this.handleClick}),u.createElement("div",{className:(0,xe.iv)(n.icon,"error"===r&&n._error)},u.createElement(Qd.m,null)),u.createElement("div",{className:(0,xe.iv)(n.title)},e),u.createElement("div",{className:(0,xe.iv)(n.message)},t))}componentDidMount(){this.hideTimer=window.setTimeout((()=>{this.handleClick()}),6e3)}componentWillUnmount(){window.clearTimeout(this.hideTimer)}}Kd.displayName=(0,Le.I)("src/modules/notifications/components/notification");const Jd={notification:{background:Te.O.white,paddingTop:20,paddingBottom:20,paddingStart:56,paddingEnd:20,boxShadow:ia.q.popup,borderRadius:Et.E0.isolate,cursor:"pointer",position:"relative",animationName:{from:{transform:"translateY(30px)",opacity:0},to:{transform:"translateY(0)",opacity:1}},animationDuration:`${sa.l.short}ms`},icon:{color:Te.O.green_299400,position:"absolute",top:12,start:12},_error:{color:Te.O.red_fe5000,transform:"rotate(180deg)"},title:Object.assign(Object.assign({},fr.Rw),{marginBottom:4}),message:Object.assign({},fr.oN)},Xd=(0,_e.z)((e=>{const{notification:t}=e,r=t.payload.bssName;if(r)return{uiElement:{name:r,frameUuid:e.notification.id},payload:t.payload.payload}}))((0,Ye.C)((({notification:e})=>{const{type:t,payload:r}=e;return{title:r.title,message:r.message,icon:"success"===t?"success":"error"}}))((0,xe.D2)(Jd)(Kd)));class Yd extends u.PureComponent{constructor(){super(...arguments),this.handleNotificationClick=e=>{this.props.onNotificationClick(e)}}render(){const{notifications:e,s:t}=this.props;return e.length?u.createElement("div",{className:(0,xe.iv)(t.root)},e.slice(-3).map((e=>u.createElement("div",{className:(0,xe.iv)(t.item),key:e.id},u.createElement(Xd,{key:e.id,notification:e,onClick:this.handleNotificationClick}))))):null}}Yd.displayName=(0,Le.I)("src/modules/notifications");const eu=(0,Re.$j)(qd,Gd)((0,xe.D2)({root:{position:"absolute",top:72,end:16,width:304},item:{marginBottom:16}})(Yd));function tu(){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"53",height:"16",fill:"none",viewBox:"0 0 53 16"},u.createElement("mask",{id:"1me3gmfafa",width:"53",height:"16",x:"0",y:"0",fill:"#000",maskUnits:"userSpaceOnUse"},u.createElement("path",{fill:"#fff",d:"M0 0h53v16H0z"}),u.createElement("path",{fillRule:"evenodd",d:"M8 15c3.85 0 7-3.136 7-7s-3.15-7-7-7C4.136 1 1 4.136 1 8s3.136 7 7 7zM8 3.187c2.406 0 4.04 1.853 4.04 3.85 0 .803-.175 1.503-.584 2.378-2.391 0-2.829 1.59-2.931 2.654l-.073.743h-.904l-.073-.743c-.102-1.065-.54-2.654-2.931-2.654-.409-.875-.584-1.575-.584-2.377 0-1.998 1.634-3.85 4.04-3.85zm9.333 3.792c-.014-2.406 1.692-3.792 3.967-3.792 2.202 0 3.69 1.27 3.69 3.253 0 1.647-1.007 2.566-2.713 3.383-.643.309-1.354.643-2.085.948h4.725v1.896h-7.584V9.896c1.532-.51 2.377-.831 3.792-1.517 1.08-.525 1.75-.991 1.75-1.837 0-.817-.613-1.459-1.575-1.459-1.269 0-1.881.934-1.852 1.896h-2.115zm15.313-1.75H28.27v7.438h-2.042V3.333h6.417V5.23zm1.02-1.896h2.042v5.965L39.5 3.333h2.042v9.334H39.5V6.702l-3.806 5.965h-2.027V3.333zM49.68 9.167h2.115c-.307 2.114-1.954 3.646-4.565 3.646-2.887 0-4.812-2.028-4.812-4.813 0-2.785 1.925-4.813 4.812-4.813 2.61 0 4.258 1.56 4.565 3.646H49.68c-.32-1.035-1.225-1.75-2.392-1.75-1.764 0-2.829 1.444-2.829 2.917 0 1.473 1.094 2.917 2.771 2.917 1.152 0 2.13-.715 2.45-1.75z",clipRule:"evenodd"})),u.createElement("path",{fill:"#262626",fillRule:"evenodd",d:"M8 15c3.85 0 7-3.136 7-7s-3.15-7-7-7C4.136 1 1 4.136 1 8s3.136 7 7 7zM8 3.187c2.406 0 4.04 1.853 4.04 3.85 0 .803-.175 1.503-.584 2.378-2.391 0-2.829 1.59-2.931 2.654l-.073.743h-.904l-.073-.743c-.102-1.065-.54-2.654-2.931-2.654-.409-.875-.584-1.575-.584-2.377 0-1.998 1.634-3.85 4.04-3.85zm9.333 3.792c-.014-2.406 1.692-3.792 3.967-3.792 2.202 0 3.69 1.27 3.69 3.253 0 1.647-1.007 2.566-2.713 3.383-.643.309-1.354.643-2.085.948h4.725v1.896h-7.584V9.896c1.532-.51 2.377-.831 3.792-1.517 1.08-.525 1.75-.991 1.75-1.837 0-.817-.613-1.459-1.575-1.459-1.269 0-1.881.934-1.852 1.896h-2.115zm15.313-1.75H28.27v7.438h-2.042V3.333h6.417V5.23zm1.02-1.896h2.042v5.965L39.5 3.333h2.042v9.334H39.5V6.702l-3.806 5.965h-2.027V3.333zM49.68 9.167h2.115c-.307 2.114-1.954 3.646-4.565 3.646-2.887 0-4.812-2.028-4.812-4.813 0-2.785 1.925-4.813 4.812-4.813 2.61 0 4.258 1.56 4.565 3.646H49.68c-.32-1.035-1.225-1.75-2.392-1.75-1.764 0-2.829 1.444-2.829 2.917 0 1.473 1.094 2.917 2.771 2.917 1.152 0 2.13-.715 2.45-1.75z",clipRule:"evenodd"}),u.createElement("path",{fill:"#F1EDDA",d:"M11.456 9.415v1h.637l.27-.578-.907-.422zm-2.931 2.654l.995.097v-.002l-.995-.095zm-.073.743v1h.907l.088-.902-.995-.098zm-.904 0l-.995.098.088.902h.907v-1zm-.073-.743l-.995.095v.002l.995-.097zM4.544 9.415l-.906.422.269.578h.637v-1zm12.79-2.436l-1 .006.005.994h.994v-1zm4.943 2.844l-.432-.902.432.902zm-2.085.948l-.385-.923.385 1.923v-1zm4.725 0h1v-1h-1v1zm0 1.896v1h1v-1h-1zm-7.584 0h-1v1h1v-1zm0-2.771l-.316-.949-.684.228v.72h1zm3.792-1.517l.436.9h.001l-.437-.9zm-1.677-1.4v1h1.03l-.03-1.03-1 .03zm8.823-1.75v-1h-1v1h1zm4.375 0v1h1v-1h-1zm-4.375 7.438v1h1v-1h-1zm-2.042 0h-1v1h1v-1zm0-9.334v-1h-1v1h1zm6.417 0h1v-1h-1v1zm3.062 0h1v-1h-1v1zm-2.041 0v-1h-1v1h1zm2.041 5.965h-1v3.437l1.844-2.9-.844-.537zM39.5 3.333v-1h-.55l-.294.464.844.536zm2.042 0h1v-1h-1v1zm0 9.334v1h1v-1h-1zm-2.042 0h-1v1h1v-1zm0-5.965h1V3.276l-1.843 2.888.843.538zm-3.806 5.965v1h.548l.295-.462-.843-.538zm-2.027 0h-1v1h1v-1zm18.127-3.5l.99.143.165-1.143h-1.155v1zm-2.115 0v-1h-.737l-.218.704.955.296zm2.115-2.334v1h1.157l-.168-1.145-.99.145zm-2.115 0l-.955.296.218.704h.737v-1zM14 8c0 3.31-2.701 6-6 6v2c4.401 0 8-3.582 8-8h-2zM8 2c3.299 0 6 2.69 6 6h2c0-4.418-3.599-8-8-8v2zM2 8c0-3.312 2.688-6 6-6V0C3.584 0 0 3.584 0 8h2zm6 6c-3.312 0-6-2.688-6-6H0c0 4.416 3.584 8 8 8v-2zm5.04-6.963c0-2.545-2.077-4.85-5.04-4.85v2c1.85 0 3.04 1.4 3.04 2.85h2zm-.678 2.8c.456-.977.678-1.821.678-2.8h-2c0 .626-.13 1.182-.49 1.955l1.812.845zM9.52 12.164c.045-.47.155-.898.395-1.2.198-.25.592-.55 1.541-.55v-2c-1.443 0-2.463.495-3.107 1.307-.603.758-.762 1.657-.82 2.252l1.991.191zm-.073.746l.073-.744-1.99-.195-.073.744 1.99.195zm-1.9.902h.905v-2h-.904v2zM6.48 12.166l.073.744 1.99-.195-.073-.744-1.99.195zm-1.936-1.751c.949 0 1.343.3 1.54.55.24.301.35.73.396 1.2l1.99-.192c-.057-.595-.217-1.494-.819-2.252-.644-.812-1.664-1.306-3.107-1.306v2zM2.96 7.038c0 .978.222 1.822.678 2.8l1.812-.846c-.36-.773-.49-1.329-.49-1.955h-2zM8 2.188c-2.963 0-5.04 2.304-5.04 4.85h2c0-1.451 1.19-2.85 3.04-2.85v-2zm13.3 0c-1.336 0-2.588.408-3.516 1.254-.94.858-1.46 2.088-1.45 3.543l2-.012c-.006-.95.32-1.617.798-2.053.49-.448 1.23-.732 2.168-.732v-2zm4.69 4.252c0-1.26-.481-2.355-1.362-3.123-.866-.757-2.04-1.13-3.328-1.13v2c.914 0 1.585.263 2.013.636.414.361.677.892.677 1.617h2zm-3.281 4.285c.899-.43 1.723-.936 2.32-1.628.628-.725.96-1.601.96-2.657h-2c0 .591-.17.999-.472 1.349-.332.384-.864.746-1.672 1.132l.864 1.804zm-2.133.969c.756-.315 1.487-.66 2.134-.97l-.866-1.803a42.17 42.17 0 01-2.037.927l.77 1.846zm4.34-1.923h-4.724v2h4.725v-2zm1 2.896V10.77h-2v1.896h2zm-8.583 1h7.584v-2h-7.584v2zm-1-3.771v2.77h2v-2.77h-2zm4.356-2.417c-1.366.662-2.17.967-3.672 1.468l.633 1.898c1.56-.52 2.447-.857 3.911-1.566l-.872-1.8zm1.186-.937c0 .105-.021.182-.16.314-.18.173-.494.365-1.027.624l.874 1.798c.546-.265 1.108-.57 1.532-.973.467-.444.781-1.023.781-1.763h-2zm-.575-.459c.254 0 .39.081.456.145a.414.414 0 01.119.314h2a2.41 2.41 0 00-.734-1.757c-.48-.462-1.132-.702-1.841-.702v2zm-.853.866c-.008-.268.075-.485.194-.622.103-.118.29-.244.659-.244v-2c-.9 0-1.654.341-2.167.93-.497.571-.706 1.302-.685 1.996l2-.06zm-3.114 1.03h2.115v-2h-2.115v2zm10.938-1.75h4.375v-2H28.27v2zm1 6.438V5.229h-2v7.438h2zm-3.042 1h2.042v-2h-2.042v2zm-1-10.334v9.334h2V3.333h-2zm7.417-1h-6.417v2h6.417v-2zm1 2.896V3.333h-2V5.23h2zm2.062-2.896h-2.041v2h2.041v-2zm1 6.965V3.333h-2v5.965h2zm1.948-6.501L34.864 8.76l1.688 1.073 3.792-5.964-1.688-1.073zm2.886-.464H39.5v2h2.042v-2zm1 10.334V3.333h-2v9.334h2zm-3.042 1h2.042v-2H39.5v2zm-1-6.965v5.965h2V6.702h-2zm-1.963 6.503l3.806-5.965-1.686-1.076-3.806 5.965 1.686 1.076zm-2.87.462h2.027v-2h-2.027v2zm-1-10.334v9.334h2V3.333h-2zm19.127 4.834h-2.115v2h2.115v-2zm-4.565 5.646c1.505 0 2.805-.445 3.787-1.262.981-.818 1.582-1.96 1.767-3.241l-1.979-.287c-.12.834-.497 1.515-1.069 1.991-.572.477-1.4.799-2.506.799v2zM41.417 8c0 1.627.565 3.091 1.61 4.153 1.048 1.063 2.516 1.66 4.202 1.66v-2c-1.202 0-2.14-.418-2.776-1.064-.64-.649-1.036-1.59-1.036-2.749h-2zm5.812-5.813c-1.686 0-3.154.597-4.201 1.66C41.982 4.91 41.417 6.373 41.417 8h2c0-1.158.396-2.1 1.035-2.749.637-.647 1.575-1.064 2.777-1.064v-2zm5.554 4.501c-.186-1.267-.787-2.406-1.765-3.226-.98-.82-2.28-1.275-3.789-1.275v2c1.101 0 1.93.327 2.504.808.575.482.951 1.165 1.071 1.984l1.98-.291zM49.68 7.833h2.115v-2H49.68v2zm-2.392-1.75c.717 0 1.242.419 1.437 1.046l1.91-.592c-.447-1.443-1.73-2.454-3.347-2.454v2zM45.458 8c0-1.03.72-1.917 1.83-1.917v-2c-2.42 0-3.83 2.001-3.83 3.917h2zm1.771 1.917c-1.015 0-1.77-.88-1.77-1.917h-2c0 1.908 1.43 3.917 3.77 3.917v-2zm1.495-1.046c-.185.598-.761 1.046-1.495 1.046v2c1.57 0 2.95-.982 3.405-2.454l-1.91-.592z",mask:"url(#1me3gmfafa)"}))}function ru(){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"16",fill:"none",viewBox:"0 0 54 16"},u.createElement("mask",{id:"7ukszbduua",width:"54",height:"16",x:"0",y:"0",fill:"#000",maskUnits:"userSpaceOnUse"},u.createElement("path",{fill:"#fff",d:"M0 0h54v16H0z"}),u.createElement("path",{fillRule:"evenodd",d:"M14.888 6.746a7 7 0 11-2.492-4.193l-1.361 1.004A5.35 5.35 0 008 2.617C5.032 2.617 2.617 5.032 2.617 8S5.032 13.383 8 13.383 13.383 10.968 13.383 8c0-.048 0-.096-.002-.144l1.507-1.11zm-9.553-.613L8 7.803l5.54-4.082c.33.427.613.894.838 1.391L8 9.812l-2.665-1.67v-2.01zm36.44-.942l1.902-1.403h-6.37v8.424h6.37V10.81h-4.552V8.652h3.883V7.25h-3.883V5.19h2.65zM30.287 7.072H32.5c2.01 0 3.115.886 3.115 2.494 0 1.682-1.22 2.646-3.35 2.646h-3.794V3.788h7.251L33.82 5.191h-3.53v1.881zm0 3.737h1.896c1.122 0 1.69-.373 1.691-1.167 0-.777-.537-1.168-1.691-1.168h-1.896v2.335zm18.55-7.02h-3.469v8.423h1.818V9.826h1.65c2.213 0 3.588-1.164 3.588-3.023 0-1.86-1.374-3.015-3.588-3.015zm-.04 4.634h-1.61V5.191h1.61c1.165 0 1.806.574 1.806 1.616 0 1.042-.64 1.616-1.806 1.616zM23.78 10.782c.56 0 1.103-.136 1.57-.393l.402-.22 1.176.866c-.775.832-1.92 1.288-3.23 1.288-1.253 0-2.395-.442-3.217-1.245-.819-.8-1.27-1.91-1.27-3.124 0-1.208.453-2.301 1.275-3.078.817-.773 1.962-1.198 3.224-1.198 1.162 0 2.18.353 2.94 1.022l.087.076-1.304.96a2.77 2.77 0 00-1.653-.517c-1.638 0-2.828 1.17-2.828 2.781 0 1.612 1.19 2.782 2.828 2.782z",clipRule:"evenodd"})),u.createElement("path",{fill:"#F1EDDA",d:"M14.888 6.746l.984-.178-.286-1.579-1.291.952.593.805zm-2.492-4.193l.593.805 1.043-.768-1.007-.815-.629.778zm-1.361 1.004l-.566.824.587.402.572-.421-.593-.805zm2.346 4.3l-.593-.806-.422.311.015.524 1-.03zM8 7.802l-.531.847.576.362.548-.404L8 7.803zm-2.665-1.67l.532-.848-1.532-.96v1.808h1zM13.54 3.72l.791-.612-.597-.773-.787.58.593.805zm.84 1.391l.593.805.652-.48-.335-.738-.91.413zM8 9.812l-.531.848.576.361.548-.403L8 9.813zm-2.665-1.67h-1v.554l.47.294.53-.848zm38.342-4.354l.593.805 2.45-1.805h-3.043v1zm-1.903 1.403v1h.329l.264-.195-.593-.805zm-4.466-1.403v-1h-1v1h1zm0 8.424h-1v1h1v-1zm6.37 0v1h1v-1h-1zm0-1.402h1v-1h-1v1zm-4.553 0h-1v1h1v-1zm0-2.157v-1h-1v1h1zm3.883 0v1h1v-1h-1zm0-1.403h1v-1h-1v1zm-3.883 0h-1v1h1v-1zm0-2.06v-1h-1v1h1zm-8.837 1.882h-1v1h1v-1zm-1.817 5.14h-1v1h1v-1zm0-8.424v-1h-1v1h1zm7.251 0l.594.805 2.449-1.805h-3.043v1zM33.82 5.191v1h.33l.264-.195-.593-.805zm-3.53 0v-1h-1v1h1zm0 5.619h-1v1h1v-1zm3.586-1.168h1-1zm-3.587-1.168v-1h-1v1h1zM45.37 3.788v-1h-1v1h1zm0 8.424h-1v1h1v-1zm1.818 0v1h1v-1h-1zm0-2.386v-1h-1v1h1zm0-1.403h-1v1h1v-1zm0-3.232v-1h-1v1h1zM25.35 10.389l-.48-.878-.003.002.483.876zm.403-.22l.593-.806-.513-.378-.56.306.48.877zm1.176.866l.732.682.765-.82-.903-.667-.594.805zm-6.447.043l.7-.715-.7.715zm.005-6.202l.687.727-.687-.727zm6.165-.176l-.66.751v.001l.66-.752zm.086.076l.593.805 1.001-.738-.935-.82-.659.753zm-1.304.96l-.583.813.59.424.587-.431-.594-.805zM16 8c0-.488-.044-.967-.128-1.432l-1.968.356c.063.348.096.708.096 1.076h2zm-8 8a8 8 0 008-8h-2a6 6 0 01-6 6v2zM0 8a8 8 0 008 8v-2a6 6 0 01-6-6H0zm8-8a8 8 0 00-8 8h2a6 6 0 016-6V0zm5.025 1.775A7.973 7.973 0 008 0v2c1.428 0 2.737.498 3.768 1.331l1.257-1.556zm-1.397 2.587l1.361-1.004-1.186-1.61-1.362 1.004 1.187 1.61zM8 3.617c.916 0 1.766.282 2.47.764l1.13-1.65A6.363 6.363 0 008 1.618v2zM3.617 8A4.389 4.389 0 018 3.617v-2A6.39 6.39 0 001.617 8h2zM8 12.383A4.389 4.389 0 013.617 8h-2A6.39 6.39 0 008 14.383v-2zM12.383 8A4.389 4.389 0 018 12.383v2A6.39 6.39 0 0014.383 8h-2zm-.002-.114l.002.114h2c0-.054 0-.112-.002-.173l-2 .059zm1.914-1.945l-1.507 1.11 1.186 1.61 1.507-1.11-1.186-1.61zM8.53 6.956l-2.664-1.67L4.804 6.98 7.47 8.65l1.06-1.694zm4.415-4.04l-5.54 4.082 1.187 1.61 5.54-4.082-1.187-1.61zm2.343 1.783a7.947 7.947 0 00-.959-1.59l-1.582 1.223a6 6 0 01.72 1.193l1.821-.826zm-6.696 5.919l6.379-4.7-1.187-1.61-6.378 4.7 1.186 1.61zM4.804 8.99l2.665 1.67L8.53 8.965l-2.664-1.67L4.804 8.99zm-.469-2.857v2.01h2v-2.01h-2zm38.749-3.15L41.18 4.386l1.187 1.61 1.902-1.403-1.186-1.61zm-5.776 1.805h6.37v-2h-6.37v2zm1 7.424V3.788h-2v8.424h2zm5.37-1h-6.37v2h6.37v-2zm-1-.402v1.402h2V10.81h-2zm-3.553 1h4.552v-2h-4.552v2zm-1-3.157v2.156h2V8.653h-2zm4.883-1h-3.883v2h3.883v-2zm-1-.403v1.403h2V7.25h-2zm-2.883 1h3.883v-2h-3.883v2zm-1-3.06v2.06h2V5.19h-2zm3.65-1h-2.65v2h2.65v-2zM32.5 6.073h-2.212v2H32.5v-2zm4.115 3.494c0-1.053-.374-1.987-1.179-2.63-.77-.617-1.803-.864-2.936-.864v2c.877 0 1.4.196 1.686.425.251.2.43.513.43 1.069h2zm-4.35 3.646c1.2 0 2.286-.27 3.094-.908.841-.664 1.256-1.632 1.256-2.738h-2c0 .575-.195.931-.496 1.169-.335.264-.923.477-1.853.477v2zm-3.794 0h3.795v-2H28.47v2zm-1-9.424v8.424h2V3.788h-2zm8.251-1H28.47v2h7.252v-2zm-1.31 3.208l1.904-1.403-1.187-1.61-1.903 1.403 1.187 1.61zm-4.124.195h3.531v-2h-3.53v2zm1 .881V5.191h-2v1.881h2zm.896 2.738h-1.896v2h1.896v-2zm.691-.169c0 .08-.014.097-.007.083.01-.02.024-.03.018-.027-.037.026-.22.113-.702.113v2c.639 0 1.302-.1 1.83-.46.598-.409.86-1.037.861-1.708h-2zm-.691-.167c.497 0 .674.09.705.112.002.002-.012-.01-.021-.03-.007-.013.007.006.007.086h2c0-.65-.244-1.279-.84-1.695-.526-.368-1.195-.473-1.851-.473v2zm-1.896 0h1.896v-2h-1.896v2zm1 1.335V8.474h-2v2.335h2zM45.37 4.79h3.468v-2H45.37v2zm1 7.423V3.788h-2v8.424h2zm.818-1H45.37v2h1.818v-2zm-1-1.386v2.386h2V9.826h-2zm2.65-1h-1.65v2h1.65v-2zm2.588-2.023c0 .664-.235 1.13-.609 1.444-.393.332-1.039.58-1.979.58v2c1.273 0 2.421-.336 3.269-1.05.867-.732 1.319-1.779 1.319-2.974h-2zm-2.588-2.015c.942 0 1.588.246 1.98.576.373.313.608.775.608 1.439h2c0-1.195-.452-2.24-1.32-2.97-.849-.713-1.997-1.045-3.268-1.045v2zm-1.65 4.635h1.611v-2h-1.61v2zm-1-4.232v3.232h2V5.191h-2zm2.611-1h-1.61v2h1.61v-2zm2.806 2.616c0-.732-.232-1.437-.8-1.944-.549-.492-1.272-.672-2.006-.672v2c.431 0 .61.107.673.162.045.04.133.144.133.454h2zm-2.806 2.616c.734 0 1.458-.18 2.007-.672.567-.507.8-1.212.8-1.944h-2c0 .31-.089.414-.134.454-.062.056-.241.162-.673.162v2zm-23.931.09c-.31.171-.686.269-1.086.269v2c.72 0 1.43-.175 2.052-.518l-.966-1.751zm.407-.222l-.403.22.958 1.755.403-.22-.958-1.755zm2.248.94l-1.176-.868-1.186 1.61 1.176.867 1.187-1.61zm-3.823 3.09c1.542 0 2.968-.54 3.962-1.606l-1.463-1.364c-.557.598-1.42.97-2.499.97v2zm-3.916-1.53c1.027 1.003 2.428 1.53 3.916 1.53v-2c-1.017 0-1.9-.357-2.518-.96l-1.398 1.43zm-1.57-3.839c0 1.465.546 2.838 1.57 3.839l1.398-1.43c-.614-.6-.969-1.446-.969-2.409h-2zM19.8 4.15c-1.037.98-1.588 2.343-1.588 3.805h2c0-.954.354-1.777.962-2.351L19.8 4.149zm3.91-1.471c-1.482 0-2.884.501-3.91 1.471l1.374 1.454c.608-.576 1.497-.925 2.537-.925v-2zm3.602 1.271c-.97-.853-2.234-1.271-3.601-1.271v2c.958 0 1.729.289 2.28.773l1.321-1.502zm.085.075l-.086-.076-1.318 1.504.086.076 1.318-1.504zm-1.37 2.518l1.304-.961-1.186-1.61-1.304.96 1.187 1.61zm-2.246-.323c.422 0 .771.115 1.07.33l1.167-1.624a3.768 3.768 0 00-2.237-.706v2zM21.953 8c0-1.043.726-1.78 1.828-1.78v-2c-2.175 0-3.828 1.6-3.828 3.78h2zm1.828 1.782c-1.102 0-1.828-.738-1.828-1.782h-2c0 2.18 1.653 3.782 3.828 3.782v-2z",mask:"url(#7ukszbduua)"}),u.createElement("path",{fill:"#262626",fillRule:"evenodd",d:"M14.888 6.746a7 7 0 11-2.492-4.193l-1.361 1.004A5.35 5.35 0 008 2.617C5.032 2.617 2.617 5.032 2.617 8S5.032 13.383 8 13.383 13.383 10.968 13.383 8c0-.048 0-.096-.002-.144l1.507-1.11zm-9.553-.613L8 7.803l5.54-4.082c.33.427.613.894.838 1.391L8 9.812l-2.665-1.67v-2.01zm36.44-.942l1.902-1.403h-6.37v8.424h6.37V10.81h-4.552V8.652h3.883V7.25h-3.883V5.19h2.65zM30.287 7.072H32.5c2.01 0 3.115.886 3.115 2.494 0 1.682-1.22 2.646-3.35 2.646h-3.794V3.788h7.251L33.82 5.191h-3.53v1.881zm0 3.737h1.896c1.122 0 1.69-.373 1.691-1.167 0-.777-.537-1.168-1.691-1.168h-1.896v2.335zm18.55-7.02h-3.469v8.423h1.818V9.826h1.65c2.213 0 3.588-1.164 3.588-3.023 0-1.86-1.374-3.015-3.588-3.015zm-.04 4.634h-1.61V5.191h1.61c1.165 0 1.806.574 1.806 1.616 0 1.042-.64 1.616-1.806 1.616zM23.78 10.782c.56 0 1.103-.136 1.57-.393l.402-.22 1.176.866c-.775.832-1.92 1.288-3.23 1.288-1.253 0-2.395-.442-3.217-1.245-.819-.8-1.27-1.91-1.27-3.124 0-1.208.453-2.301 1.275-3.078.817-.773 1.962-1.198 3.224-1.198 1.162 0 2.18.353 2.94 1.022l.087.076-1.304.96a2.77 2.77 0 00-1.653-.517c-1.638 0-2.828 1.17-2.828 2.781 0 1.612 1.19 2.782 2.828 2.782z",clipRule:"evenodd"}))}function nu(){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"16",fill:"none",viewBox:"0 0 48 16"},u.createElement("mask",{id:"u4u4nuae4a",width:"48",height:"16",x:"0",y:"0",fill:"#000",maskUnits:"userSpaceOnUse"},u.createElement("path",{fill:"#fff",d:"M0 0h48v16H0z"}),u.createElement("path",{fillRule:"evenodd",d:"M8 15c3.85 0 7-3.136 7-7s-3.15-7-7-7C4.136 1 1 4.136 1 8s3.136 7 7 7zM8 3.38c2.31 0 3.878 1.778 3.878 3.696 0 .77-.168 1.442-.56 2.282-2.296 0-2.716 1.526-2.814 2.548l-.07.714h-.868l-.07-.714c-.098-1.022-.518-2.548-2.814-2.548-.392-.84-.56-1.512-.56-2.282C4.122 5.158 5.69 3.38 8 3.38zm9.625 3.64c-.014-2.31 1.622-3.64 3.803-3.64 2.112 0 3.538 1.218 3.538 3.122 0 1.582-.965 2.464-2.6 3.248-.616.294-1.301.56-2 .77h4.67v1.96h-7.41V9.82c1.467-.49 2.278-.798 3.635-1.456 1.034-.504 1.678-.952 1.678-1.764 0-.784-.588-1.4-1.51-1.4-1.217 0-1.804.896-1.776 1.82h-2.028zm17.115.7v.7c0 2.31-1.566 4.2-4.404 4.2-2.727 0-4.6-1.946-4.6-4.62 0-2.674 1.817-4.62 4.67-4.62 2.447 0 3.97 1.414 4.334 3.08h-2.027c-.35-.798-1.217-1.26-2.252-1.26-1.775 0-2.768 1.372-2.768 2.8 0 1.428 1.007 2.8 2.755 2.8 1.09 0 1.999-.532 2.279-1.4H30.07V7.72h4.67zm3.02 4.76h-1.957V3.52h1.958v8.96zm8.684-6.3h-2.028c-.196-.602-.727-1.12-1.915-1.12-1.021 0-1.538.392-1.538.952 0 .686.978.882 2.209 1.092l.054.01c1.619.276 3.274.56 3.274 2.636 0 1.946-1.608 2.87-3.776 2.87-2 0-3.789-1.176-3.985-2.94h2.028c.252.728.993 1.26 2.055 1.26 1.021 0 1.594-.336 1.594-.98 0-.794-1.19-.986-2.381-1.177l-.08-.013c-1.272-.21-3.062-.784-3.062-2.66 0-1.694 1.482-2.73 3.678-2.73 2.167 0 3.663 1.092 3.873 2.8z",clipRule:"evenodd"})),u.createElement("path",{fill:"#262626",fillRule:"evenodd",d:"M8 15c3.85 0 7-3.136 7-7s-3.15-7-7-7C4.136 1 1 4.136 1 8s3.136 7 7 7zM8 3.38c2.31 0 3.878 1.778 3.878 3.696 0 .77-.168 1.442-.56 2.282-2.296 0-2.716 1.526-2.814 2.548l-.07.714h-.868l-.07-.714c-.098-1.022-.518-2.548-2.814-2.548-.392-.84-.56-1.512-.56-2.282C4.122 5.158 5.69 3.38 8 3.38zm9.625 3.64c-.014-2.31 1.622-3.64 3.803-3.64 2.112 0 3.538 1.218 3.538 3.122 0 1.582-.965 2.464-2.6 3.248-.616.294-1.301.56-2 .77h4.67v1.96h-7.41V9.82c1.467-.49 2.278-.798 3.635-1.456 1.034-.504 1.678-.952 1.678-1.764 0-.784-.588-1.4-1.51-1.4-1.217 0-1.804.896-1.776 1.82h-2.028zm17.115.7v.7c0 2.31-1.566 4.2-4.404 4.2-2.727 0-4.6-1.946-4.6-4.62 0-2.674 1.817-4.62 4.67-4.62 2.447 0 3.97 1.414 4.334 3.08h-2.027c-.35-.798-1.217-1.26-2.252-1.26-1.775 0-2.768 1.372-2.768 2.8 0 1.428 1.007 2.8 2.755 2.8 1.09 0 1.999-.532 2.279-1.4H30.07V7.72h4.67zm3.02 4.76h-1.957V3.52h1.958v8.96zm8.684-6.3h-2.028c-.196-.602-.727-1.12-1.915-1.12-1.021 0-1.538.392-1.538.952 0 .686.978.882 2.209 1.092l.054.01c1.619.276 3.274.56 3.274 2.636 0 1.946-1.608 2.87-3.776 2.87-2 0-3.789-1.176-3.985-2.94h2.028c.252.728.993 1.26 2.055 1.26 1.021 0 1.594-.336 1.594-.98 0-.794-1.19-.986-2.381-1.177l-.08-.013c-1.272-.21-3.062-.784-3.062-2.66 0-1.694 1.482-2.73 3.678-2.73 2.167 0 3.663 1.092 3.873 2.8z",clipRule:"evenodd"}),u.createElement("path",{fill:"#F1EDDA",d:"M11.318 9.358v1h.637l.27-.577-.907-.423zm-2.814 2.548l.995.098V12l-.995-.095zm-.07.714v1h.907l.088-.902-.995-.098zm-.868 0l-.995.098.088.902h.907v-1zm-.07-.714l-.995.095v.003l.995-.098zM4.682 9.358l-.906.423.269.577h.637v-1zM17.625 7.02l-1 .006.006.994h.994v-1zm4.74 2.73l.432.902-.432-.902zm-2 .77l-.287-.958.288 1.958v-1zm4.671 0h1v-1h-1v1zm0 1.96v1h1v-1h-1zm-7.41 0h-1v1h1v-1zm0-2.66l-.318-.948-.683.228v.72h1zm3.635-1.456l.436.9h.002l-.438-.9zM19.653 7.02v1h1.03l-.03-1.03-1 .03zm15.087.7h1v-1h-1v1zm0-1.26v1h1.242l-.265-1.213-.977.213zm-2.027 0l-.916.401.262.599h.654v-1zm.014 2.94l.952.307.42-1.307h-1.372v1zm-2.657 0h-1v1h1v-1zm0-1.68v-1h-1v1h1zm5.733 4.76h-1v1h1v-1zm1.958 0v1h1v-1h-1zm-1.958-8.96v-1h-1v1h1zm1.958 0h1v-1h-1v1zm6.655 2.66l-.95.31.224.69h.726v-1zm2.028 0v1h1.13l-.137-1.122-.993.122zm-3.272.924l.169-.986h-.001l-.168.986zm.054.01l-.169.985.169-.986zM38.739 9.68v-1h-1.117l.123 1.11.994-.11zm2.028 0l.945-.327-.233-.673h-.712v1zm1.268-.897l.158-.987-.158.987zm-.08-.013l-.163.987h.004l.16-.987zM14 8c0 3.31-2.7 6-6 6v2c4.401 0 8-3.582 8-8h-2zM8 2c3.3 0 6 2.69 6 6h2c0-4.418-3.599-8-8-8v2zM2 8c0-3.312 2.688-6 6-6V0C3.584 0 0 3.584 0 8h2zm6 6c-3.312 0-6-2.688-6-6H0c0 4.416 3.584 8 8 8v-2zm4.878-6.924c0-2.465-2.01-4.696-4.878-4.696v2c1.753 0 2.878 1.326 2.878 2.696h2zm-.654 2.705c.44-.942.654-1.759.654-2.705h-2c0 .594-.122 1.121-.466 1.86l1.812.845zM9.5 12c.042-.448.147-.85.37-1.13.181-.229.547-.513 1.448-.513v-2c-1.395 0-2.387.479-3.014 1.269-.586.738-.74 1.61-.795 2.184l1.99.19zm-.07.716l.07-.713-1.991-.195-.07.713 1.99.195zm-1.864.903h.868v-2h-.868v2zM6.5 12.004l.07.713 1.99-.195-.07-.713-1.99.195zm-1.82-1.646c.902 0 1.268.284 1.449.513.223.28.328.682.37 1.13l1.991-.19c-.055-.574-.21-1.446-.795-2.184-.627-.79-1.62-1.269-3.014-1.269v2zM3.123 7.076c0 .946.214 1.763.654 2.705l1.812-.846c-.344-.738-.466-1.265-.466-1.859h-2zM8 2.38c-2.867 0-4.878 2.23-4.878 4.696h2C5.122 5.706 6.247 4.38 8 4.38v-2zm13.428 0c-1.29 0-2.5.395-3.4 1.216-.91.832-1.412 2.023-1.403 3.43l2-.012c-.005-.903.304-1.532.753-1.942.461-.422 1.159-.692 2.05-.692v-2zm4.538 4.122c0-1.219-.465-2.282-1.319-3.028-.84-.734-1.975-1.094-3.219-1.094v2c.869 0 1.502.25 1.903.6.387.339.635.837.635 1.522h2zm-3.169 4.15c.864-.414 1.66-.902 2.24-1.573.607-.704.93-1.554.93-2.577h-2c0 .56-.161.941-.445 1.27-.312.362-.817.706-1.589 1.076l.864 1.804zm-2.144.826a15.135 15.135 0 002.144-.826l-.863-1.804a12.98 12.98 0 01-1.856.714l.575 1.916zm4.383-1.958h-4.67v2h4.67v-2zm1 2.96v-1.96h-2v1.96h2zm-8.41 1h7.41v-2h-7.41v2zm-1-3.66v2.66h2V9.82h-2zm4.198-2.356c-1.307.634-2.076.927-3.516 1.408l.634 1.897c1.496-.5 2.35-.823 3.755-1.505l-.873-1.8zm1.114-.864c0 .089-.014.153-.14.274-.169.16-.464.342-.975.591l.876 1.798c.523-.255 1.067-.55 1.478-.941.454-.433.762-.998.762-1.722h-2zm-.51-.4c.234 0 .354.074.409.127a.36.36 0 01.102.273h2c0-.649-.247-1.264-.716-1.715-.47-.451-1.105-.685-1.795-.685v2zm-.776.79a.827.827 0 01.176-.57c.09-.104.258-.22.6-.22v-2c-.873 0-1.608.332-2.109.907-.484.557-.686 1.268-.666 1.943l2-.06zm-3.027 1.03h2.027v-2h-2.027v2zm18.115.4v-.7h-2v.7h2zm-5.404 5.2c1.65 0 3.021-.555 3.98-1.534.953-.972 1.424-2.285 1.424-3.666h-2c0 .929-.312 1.716-.852 2.266-.533.544-1.364.934-2.552.934v2zM24.736 8c0 1.575.555 2.99 1.565 4.015 1.012 1.026 2.425 1.605 4.035 1.605v-2c-1.118 0-2.005-.394-2.611-1.01-.608-.616-.99-1.511-.99-2.61h-2zm5.67-5.62c-1.662 0-3.096.572-4.117 1.604-1.018 1.03-1.554 2.449-1.554 4.016h2c0-1.107.373-1.998.977-2.61.602-.609 1.502-1.01 2.693-1.01v-2zm5.311 3.867c-.472-2.164-2.435-3.867-5.312-3.867v2c2.018 0 3.103 1.125 3.358 2.293l1.954-.426zM32.713 7.46h2.027v-2h-2.027v2zM30.46 6.2c.763 0 1.19.33 1.336.661l1.832-.802C33.075 4.795 31.768 4.2 30.46 4.2v2zM28.693 8c0-.976.64-1.8 1.768-1.8v-2c-2.423 0-3.768 1.92-3.768 3.8h2zm1.755 1.8c-1.101 0-1.755-.824-1.755-1.8h-2c0 1.88 1.36 3.8 3.755 3.8v-2zm1.327-.707c-.106.33-.523.707-1.327.707v2c1.377 0 2.777-.687 3.23-2.093l-1.903-.614zM30.07 10.4h2.657v-2H30.07v2zm-1-2.68V9.4h2V7.72h-2zm5.67-1h-4.67v2h4.67v-2zm1.063 6.76h1.958v-2h-1.958v2zm-1-9.96v8.96h2V3.52h-2zm2.958-1h-1.958v2h1.958v-2zm1 9.96V3.52h-2v8.96h2zm5.655-5.3h2.028v-2h-2.028v2zm-1.915-1.12c.451 0 .673.098.773.165a.468.468 0 01.191.265l1.902-.62c-.156-.48-.46-.96-.98-1.307-.51-.342-1.15-.503-1.886-.503v2zm-.538-.048c0 .019-.006.059-.03.102s-.047.055-.037.049c.035-.023.202-.103.605-.103v-2c-.618 0-1.22.116-1.7.43-.522.34-.838.885-.838 1.522h2zm1.377.106c-.643-.11-1.08-.196-1.36-.309-.132-.053-.144-.081-.116-.051a.4.4 0 01.099.254h-2c0 .977.759 1.446 1.268 1.652.518.21 1.185.326 1.773.426l.336-1.972zm.054.01l-.053-.01-.338 1.972.054.009.337-1.971zM47.5 9.75c0-.654-.131-1.236-.411-1.737a2.982 2.982 0 00-1.11-1.117c-.806-.478-1.828-.639-2.585-.768l-.337 1.97c.862.148 1.478.267 1.903.519.185.11.304.23.383.372.081.145.157.376.157.761h2zm-4.776 3.87c1.206 0 2.378-.254 3.277-.888.945-.665 1.499-1.691 1.499-2.982h-2c0 .655-.25 1.065-.651 1.348-.447.314-1.163.522-2.125.522v2zm-4.979-3.83c.273 2.456 2.68 3.83 4.98 3.83v-2c-1.7 0-2.873-.977-2.992-2.05l-1.988.22zm3.022-1.11h-2.028v2h2.028v-2zm2.055 1.26c-.72 0-1.023-.335-1.11-.587l-1.89.654c.416 1.204 1.594 1.933 3 1.933v-2zm.594.02c0 .008 0-.025.027-.07.025-.046.052-.06.04-.053a.614.614 0 01-.187.062 2.35 2.35 0 01-.474.041v2c.593 0 1.204-.093 1.7-.394.56-.34.894-.905.894-1.586h-2zm-1.54-.19c.63.102 1.11.183 1.438.31.158.06.196.1.184.089a.33.33 0 01-.082-.209h2c0-1.056-.847-1.542-1.386-1.748-.565-.217-1.276-.326-1.837-.416l-.317 1.974zm-.08-.013l.08.013.317-1.974-.079-.013-.318 1.974zM37.893 6.11c0 1.327.664 2.23 1.5 2.787.784.523 1.718.747 2.4.86l.325-1.973c-.59-.098-1.188-.266-1.616-.551-.378-.252-.609-.574-.609-1.123h-2zm4.678-3.73c-1.24 0-2.387.291-3.252.922a3.388 3.388 0 00-1.426 2.808h2c0-.518.21-.904.605-1.192.426-.311 1.118-.538 2.073-.538v-2zm4.866 3.678C47.145 3.687 45.06 2.38 42.57 2.38v2c1.844 0 2.752.877 2.88 1.922l1.986-.244z",mask:"url(#u4u4nuae4a)"}))}function au(){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"53",height:"16",fill:"none",viewBox:"0 0 53 16"},u.createElement("mask",{id:"wsibno6pba",width:"54",height:"16",x:"0",y:"0",fill:"#000",maskUnits:"userSpaceOnUse"},u.createElement("path",{fill:"#fff",d:"M0 0h54v16H0z"}),u.createElement("path",{fillRule:"evenodd",d:"M15 8c0-.428-.038-.847-.112-1.254l-1.507 1.11.002.144c0 2.968-2.415 5.383-5.383 5.383S2.617 10.968 2.617 8 5.032 2.617 8 2.617a5.35 5.35 0 013.035.94l1.361-1.004A7 7 0 1015 8zm6.03-1.846c0 .681.844.88 1.82 1.11h.002c1.394.33 2.974.702 2.975 2.498 0 1.577-1.359 2.596-3.46 2.596-1.27 0-2.563-.375-3.31-.956l.616-1.409c.732.534 1.764.865 2.705.865 1.42 0 1.63-.595 1.63-.95 0-.692-.844-.895-1.823-1.13h-.001c-1.393-.334-2.971-.712-2.971-2.527 0-1.261.903-2.609 3.436-2.609 1.063 0 2.156.363 2.884.827l-1.346.992c-.5-.227-.88-.319-1.55-.319-.483 0-1.607.099-1.607 1.012zm12.405 1.685l.087.029c.942.31 1.481 1.063 1.481 2.064 0 1.471-1.157 2.28-3.26 2.28h-4.225V3.79h3.99c1.93 0 3.083.811 3.083 2.17 0 .808-.382 1.46-1.075 1.837l-.08.043zm-2.163-2.648h-1.936v2.06h1.937c.966 0 1.477-.353 1.477-1.03 0-.467-.256-1.03-1.477-1.03zm-1.936 5.619h2.267c1.049 0 1.56-.357 1.56-1.079 0-.72-.525-1.078-1.56-1.078h-2.267v2.156zm11.826-5.62l1.904-1.402h-6.37v8.424h6.37V10.81h-4.552V8.652h3.882V7.25h-3.882V5.19h2.648zm8.93 4.285l1.85 2.737h-1.948L48.38 9.823a3.88 3.88 0 01-.154.003h-1.65v2.386h-1.818V3.788h3.468c2.213 0 3.588 1.156 3.588 3.015 0 1.258-.629 2.196-1.72 2.672zm-1.905-4.284h-1.611v3.232h1.61c1.165 0 1.807-.574 1.807-1.616 0-1.042-.642-1.616-1.806-1.616zm-33.809-.079a6.926 6.926 0 00-.839-1.391L8 7.803l-2.665-1.67v2.01L8 9.812l6.378-4.7z",clipRule:"evenodd"})),u.createElement("path",{fill:"#F1EDDA",d:"M14.888 6.746l.984-.178-.286-1.579-1.291.952.593.805zm-1.507 1.11l-.593-.805-.422.311.015.524 1-.03zm-2.346-4.3l-.566.825.587.402.572-.421-.593-.805zm1.361-1.003l.593.805 1.043-.768-1.007-.815-.629.778zm10.455 4.711l-.23.974.23-.974zm0 0l.23-.973-.23.974zm2.976 2.498h1-1zm-6.77 1.64L18.141 11l-.311.712.613.477.614-.788zm.616-1.409l.59-.808-1.007-.734-.5 1.142.917.4zm2.512-1.214l.233-.973-.233.973zm-.001 0l-.233.972.233-.973zm3.35-4.31l.593.805 1.174-.865-1.23-.784-.538.844zm-1.347.992l-.414.91.534.243.473-.348-.593-.805zm9.335 2.407l.314-.95-.314.95zm-.087-.029l-.475-.88-2.041 1.103 2.203.727.313-.95zm1.568 2.093h-1 1zm-7.485 2.28h-1v1h1v-1zm0-8.423v-1h-1v1h1zm5.998 4.007l.475.88.002-.001-.477-.88zm-4.18-2.605v-1h-1v1h1zm0 2.06h-1v1h1v-1zm0 3.558h-1v1h1v-1zm0-2.156v-1h-1v1h1zm13.73-4.865l.593.805 2.45-1.805h-3.043v1zm-1.904 1.403v1h.329l.264-.195-.593-.805zm-4.466-1.403v-1h-1v1h1zm0 8.424h-1v1h1v-1zm6.37 0v1h1v-1h-1zm0-1.402h1v-1h-1v1zm-4.552 0h-1v1h1v-1zm0-2.157v-1h-1v1h1zm3.882 0v1h1v-1h-1zm0-1.403h1v-1h-1v1zm-3.882 0h-1v1h1v-1zm0-2.06v-1h-1v1h1zm13.429 7.022v1h1.883l-1.055-1.56-.828.56zm-1.85-2.737l-.4-.916-1.103.48.674.997.828-.56zm-.099 2.737l-.828.56.297.44h.531v-1zM48.38 9.823l.828-.56-.307-.454-.548.015.027 1zm-1.804.003v-1h-1v1h1zm0 2.386v1h1v-1h-1zm-1.818 0h-1v1h1v-1zm0-8.424v-1h-1v1h1zm1.819 1.403v-1h-1v1h1zm0 3.232h-1v1h1v-1zM13.539 3.721l.791-.613-.598-.772-.786.58.593.805zm.84 1.391l.593.805.651-.48-.334-.737-.91.412zM8 7.803l-.531.847.576.362.548-.404L8 7.803zm-2.665-1.67l.532-.848-1.532-.96v1.808h1zm0 2.01h-1v.553l.47.293.53-.847zM8 9.812l-.531.847.576.361.548-.403L8 9.813zm5.904-2.889c.063.348.096.708.096 1.076h2c0-.488-.044-.967-.128-1.432l-1.968.356zm.07 1.737l1.507-1.11-1.186-1.61-1.507 1.11 1.186 1.61zm.409-.66c0-.054 0-.112-.002-.173l-2 .059.002.114h2zM8 14.383A6.39 6.39 0 0014.383 8h-2A4.389 4.389 0 018 12.383v2zM1.617 8A6.39 6.39 0 008 14.383v-2A4.389 4.389 0 013.617 8h-2zM8 1.617A6.39 6.39 0 001.617 8h2A4.389 4.389 0 018 3.617v-2zm3.6 1.115A6.35 6.35 0 008 1.617v2c.916 0 1.766.282 2.47.764l1.13-1.65zm.203-.984L10.44 2.752l1.187 1.61 1.361-1.004-1.186-1.61zM8 2c1.428 0 2.737.498 3.768 1.331l1.257-1.556A7.973 7.973 0 008 0v2zM2 8a6 6 0 016-6V0a8 8 0 00-8 8h2zm6 6a6 6 0 01-6-6H0a8 8 0 008 8v-2zm6-6a6 6 0 01-6 6v2a8 8 0 008-8h-2zm9.08-1.709c-.25-.059-.462-.109-.652-.163a2.652 2.652 0 01-.413-.147c-.091-.045-.087-.061-.056-.023a.342.342 0 01.071.196h-2c0 .888.609 1.379 1.103 1.622.457.224 1.04.356 1.489.462l.458-1.947zm.001 0l-.46 1.947h.001l.459-1.947zm3.746 3.47c0-.601-.135-1.139-.405-1.603a3.038 3.038 0 00-1.027-1.041c-.738-.465-1.659-.671-2.314-.826l-.459 1.947c.74.174 1.305.318 1.707.571.18.113.292.23.364.354.07.12.133.303.134.6l2-.002zm-4.46 3.597c1.2 0 2.296-.29 3.118-.907a3.282 3.282 0 001.342-2.69h-2c0 .469-.187.824-.542 1.09-.382.287-1.016.507-1.918.507v2zm-3.925-1.168c.974.759 2.508 1.168 3.925 1.168v-2c-1.121 0-2.175-.34-2.695-.745l-1.23 1.577zm.315-2.597L18.14 11l1.833.801.615-1.408-1.832-.801zm3.621.265c-.737 0-1.56-.268-2.116-.673l-1.178 1.616c.91.664 2.148 1.057 3.294 1.057v-2zm.63.05a.231.231 0 01.075-.158c.024-.02-.11.108-.705.108v2c.825 0 1.506-.17 1.99-.576.519-.435.64-.992.64-1.374h-2zm-1.056-.157c.25.06.463.111.653.166.192.056.324.105.413.15.09.045.087.06.058.024a.328.328 0 01-.067-.183h2c0-.886-.599-1.382-1.099-1.631-.458-.229-1.042-.363-1.492-.47l-.466 1.944zm-.001 0h.001l.466-1.945h-.002l-.465 1.945zm-3.738-3.5c0 .604.133 1.144.4 1.611.267.464.635.802 1.025 1.05.737.472 1.658.682 2.313.839l.466-1.945c-.738-.177-1.303-.323-1.703-.579a1.053 1.053 0 01-.365-.36c-.072-.125-.136-.313-.136-.616h-2zm4.436-3.609c-1.44 0-2.566.385-3.342 1.093a3.366 3.366 0 00-1.094 2.516h2c0-.39.136-.76.442-1.038.309-.282.901-.57 1.994-.57v-2zm3.422.983c-.88-.56-2.16-.983-3.422-.983v2c.863 0 1.771.303 2.347.67l1.075-1.687zM24.78 6.266l.764-.563c.153-.113.3-.22.406-.3l.129-.094.035-.026.01-.007.002-.002-.593-.805-.593-.805-.003.002-.01.007-.035.026-.128.095-.406.299-.764.563 1.186 1.61zm-2.143-.124c.532 0 .771.064 1.136.23L24.6 4.55c-.633-.287-1.155-.408-1.963-.408v2zm-.607.012c0-.005-.005.044-.043.09-.025.031-.028.017.042-.012.07-.028.167-.053.288-.07.117-.015.231-.02.32-.02v-2c-.28 0-.838.025-1.361.237-.27.11-.585.292-.836.598-.264.322-.41.725-.41 1.177h2zm11.806.764l-.087-.028-.627 1.899.087.029.627-1.9zm2.167 3.015c0-1.427-.81-2.567-2.167-3.015l-.627 1.9c.526.173.794.539.794 1.114h2zm-4.26 3.28c1.156 0 2.205-.219 2.992-.77.84-.587 1.268-1.474 1.268-2.51h-2c0 .434-.15.687-.415.872-.317.222-.898.408-1.844.408v2zm-4.225 0h4.226v-2h-4.226v2zm-1-9.424v8.424h2V3.789h-2zm4.99-1h-3.99v2h3.99v-2zm4.083 3.17c0-1.002-.444-1.85-1.242-2.412-.756-.533-1.754-.758-2.84-.758v2c.843 0 1.386.18 1.689.393.262.184.393.421.393.778h2zm-1.598 2.716c1.025-.557 1.598-1.552 1.598-2.715h-2c0 .452-.19.76-.552.957l.954 1.758zm-.082.044l.08-.043-.95-1.76-.08.043.95 1.76zm-4.575-2.528h1.937v-2h-1.937v2zm1 1.06V5.19h-2v2.06h2zm.937-1h-1.937v2h1.937v-2zm.477-.03c0 .043-.008.036.007.006a.167.167 0 01.046-.058s-.032.021-.123.043c-.09.021-.224.038-.407.038v2c.577 0 1.183-.1 1.671-.44.548-.38.806-.962.806-1.59h-2zm-.477-.03c.475 0 .558.111.52.076-.054-.05-.043-.101-.043-.046h2c0-.412-.117-.98-.604-1.427-.472-.433-1.128-.603-1.873-.603v2zm.33 3.619h-2.267v2h2.267v-2zm.56-.079c0 .063-.011.068 0 .043a.183.183 0 01.043-.055s-.008.006-.031.016-.058.021-.109.033a2.17 2.17 0 01-.463.042v2c.605 0 1.238-.097 1.743-.447.573-.398.817-1.002.817-1.632h-2zm-.56-.078c.204 0 .352.018.455.041.103.024.142.05.145.051 0 0-.006-.004-.015-.014a.161.161 0 01-.024-.036c-.012-.025-.002-.022-.002.036h2c0-.639-.254-1.24-.824-1.632-.503-.347-1.133-.446-1.735-.446v2zm-2.267 0h2.267v-2h-2.267v2zm1 1.156V8.653h-2v2.156h2zm12.136-7.826L40.57 4.386l1.186 1.61 1.904-1.403-1.187-1.61zm-5.776 1.805h6.37v-2h-6.37v2zm1 7.424V3.788h-2v8.424h2zm5.37-1h-6.37v2h6.37v-2zm-1-.402v1.402h2V10.81h-2zm-3.552 1h4.552v-2h-4.552v2zm-1-3.157v2.156h2V8.653h-2zm4.882-1h-3.882v2h3.882v-2zm-1-.403v1.403h2V7.25h-2zm-2.882 1h3.882v-2h-3.882v2zm-1-3.06v2.06h2V5.19h-2zm3.648-1h-2.648v2h2.648v-2zm11.61 7.462L50.92 8.915l-1.656 1.12 1.85 2.737 1.657-1.12zm-2.778 1.56h1.949v-2h-1.949v2zm-2.443-2.829l1.615 2.39 1.657-1.12-1.616-2.39-1.656 1.12zm.674.443c.068 0 .132-.002.181-.003l-.054-2-.127.003v2zm-1.65 0h1.65v-2h-1.65v2zm1 1.386V9.826h-2v2.386h2zm-2.818 1h1.818v-2h-1.818v2zm-1-9.424v8.424h2V3.788h-2zm4.468-1h-3.468v2h3.468v-2zm4.588 4.015c0-1.195-.453-2.24-1.32-2.97-.849-.713-1.997-1.045-3.268-1.045v2c.942 0 1.588.246 1.98.576.373.313.608.775.608 1.439h2zm-2.321 3.589c1.46-.637 2.321-1.938 2.321-3.589h-2c0 .864-.398 1.44-1.12 1.756l.799 1.833zm-3.916-4.201h1.61v-2h-1.61v2zm1 2.232V5.191h-2v3.232h2zm.61-1h-1.61v2h1.61v-2zm.807-.616c0 .31-.088.414-.133.454-.063.056-.242.162-.673.162v2c.733 0 1.457-.18 2.006-.672.568-.507.8-1.212.8-1.944h-2zm-.806-.616c.431 0 .61.107.673.162.045.04.133.144.133.454h2c0-.732-.232-1.437-.8-1.944-.55-.492-1.273-.672-2.006-.672v2zM12.749 4.333c.284.366.525.766.718 1.192L15.29 4.7a7.962 7.962 0 00-.959-1.592L12.75 4.333zM8.593 8.608l5.54-4.082-1.187-1.61-5.54 4.082 1.187 1.61zM4.804 6.98L7.47 8.65l1.06-1.694-2.664-1.67L4.804 6.98zm1.531 1.162v-2.01h-2v2.01h2zm2.196.823l-2.664-1.67-1.063 1.694 2.665 1.67L8.53 8.966zm5.254-4.658l-6.378 4.7 1.186 1.61 6.379-4.7-1.187-1.61z",mask:"url(#wsibno6pba)"}),u.createElement("path",{fill:"#262626",fillRule:"evenodd",d:"M15 8c0-.428-.038-.847-.112-1.254l-1.507 1.11.002.144c0 2.968-2.415 5.383-5.383 5.383S2.617 10.968 2.617 8 5.032 2.617 8 2.617a5.35 5.35 0 013.035.94l1.361-1.004A7 7 0 1015 8zm6.03-1.846c0 .681.844.88 1.82 1.11h.002c1.394.33 2.974.702 2.975 2.498 0 1.577-1.359 2.596-3.46 2.596-1.27 0-2.563-.375-3.31-.956l.616-1.409c.732.534 1.764.865 2.705.865 1.42 0 1.63-.595 1.63-.95 0-.692-.844-.895-1.823-1.13h-.001c-1.393-.334-2.971-.712-2.971-2.527 0-1.261.903-2.609 3.436-2.609 1.063 0 2.156.363 2.884.827l-1.346.992c-.5-.227-.88-.319-1.55-.319-.483 0-1.607.099-1.607 1.012zm12.405 1.685l.087.029c.942.31 1.481 1.063 1.481 2.064 0 1.471-1.157 2.28-3.26 2.28h-4.225V3.79h3.99c1.93 0 3.083.811 3.083 2.17 0 .808-.382 1.46-1.075 1.837l-.08.043zm-2.163-2.648h-1.936v2.06h1.937c.966 0 1.477-.353 1.477-1.03 0-.467-.256-1.03-1.477-1.03zm-1.936 5.619h2.267c1.049 0 1.56-.357 1.56-1.079 0-.72-.525-1.078-1.56-1.078h-2.267v2.156zm11.826-5.62l1.904-1.402h-6.37v8.424h6.37V10.81h-4.552V8.652h3.882V7.25h-3.882V5.19h2.648zm8.93 4.285l1.85 2.737h-1.948L48.38 9.823a3.88 3.88 0 01-.154.003h-1.65v2.386h-1.818V3.788h3.468c2.213 0 3.588 1.156 3.588 3.015 0 1.258-.629 2.196-1.72 2.672zm-1.905-4.284h-1.611v3.232h1.61c1.165 0 1.807-.574 1.807-1.616 0-1.042-.642-1.616-1.806-1.616zm-33.809-.079a6.926 6.926 0 00-.839-1.391L8 7.803l-2.665-1.67v2.01L8 9.812l6.378-4.7z",clipRule:"evenodd"}))}const iu=(0,u.memo)((()=>{const{brandName:e,lang:t,defaultCountryCode:r}=(0,Ko.Z)();if("Urbi"===e)return null;const n="UA"!==r;return"ru"===t?u.createElement(su,null,u.createElement(tu,null),n&&u.createElement(ru,null)):u.createElement(su,null,u.createElement(nu,null),n&&u.createElement(au,null))})),su=({children:e})=>{const{css:t,s:r}=(0,mr.y)(ou),{lang:n}=(0,Ko.Z)(),a="ru"===n?"https://dev.2gis.ru":"https://dev.2gis.com";return u.createElement(ks.Z,{external:!0,href:a,styles:r.root},(0,H.oA)(e).map(((e,n)=>u.createElement("div",{key:n,className:t(r.item)},e))))},ou=(0,mr.k)({root:{display:"flex",justifyContent:"flex-end",height:16,marginBottom:3},item:{marginStart:8}}),cu=(0,u.memo)((()=>{const{s:e,css:t}=(0,mr.y)(lu),{licenseAgr:r,privacyUrl:n,comma:a}=(0,Ko.Z)(),i=(0,jr.T)(),s=`${r}?utm_medium=map-footer&utm_campaign=2gis5`;return u.createElement("div",{className:t(e.copyright)},u.createElement(iu,null),u.createElement("div",null,"©",u.createElement(ks.Z,{color:"dark",external:!0,href:"https://www.openstreetmap.org/"},i._t("&nbsp;2GIS, OpenStreetMap contributors"))),u.createElement(ks.Z,{color:"dark",external:!0,href:s},i._t("Лицензионное соглашение")),a," ",u.createElement(ks.Z,{color:"dark",external:!0,href:n},i._t("Политика конфиденциальности").toLowerCase()))})),lu=(0,mr.k)({copyright:Object.assign(Object.assign({position:"absolute",bottom:16,end:72,textAlign:"right"},fr.Vz),{userSelect:"none"})});class du extends u.PureComponent{render(){const{s:e,links:t}=this.props;return u.createElement("div",Object.assign({className:(0,xe.iv)(e.root)},Ce.dx.n("wat-awesome-dash")),t.map((({url:t,name:r},n)=>u.createElement("a",{key:n,className:(0,xe.iv)(e.item),href:t},r))))}}du.displayName=(0,Le.I)("src/modules/seoDash");const uu={root:{position:"absolute",bottom:0,left:0,right:0,height:16,overflowY:"scroll",background:Te.O.white},item:Object.assign(Object.assign({},fr.oN),{display:"inline-block",margin:"0 4px",color:Te.O.blue_0072ce})},pu=(0,Gn.G)({selectors:()=>({seoStoreData:e=>e.data.seoStore}),handlers:{}})((0,Ye.C)((({seoStoreData:e})=>{var t,r;if(null===(r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.links)||void 0===r?void 0:r.length)return{links:e.data.links}}))((0,xe.D2)(uu)(du)));var mu=r(93019),hu=r(86122);const gu=(0,z.gQ)("handleEditClick",(e=>(0,z.vP)((0,T.BN)(),(0,hu.b)(e),Ji())));var fu=r(2418);const vu={onEditClick:gu};class yu extends u.PureComponent{constructor(){super(...arguments),this.handleEditClick=()=>{this.props.onEditClick(this.props.toast.item)}}render(){const{title:e,s:t,i18n:r}=this.props;return u.createElement("div",Object.assign({className:(0,xe.iv)(t.root)},Ce.dx.n("wat-added-to-collection")),u.createElement("span",{className:(0,xe.iv)(t.title)},e),u.createElement(Fd.z,{dataN:"wat-change-collection-button",onClick:this.handleEditClick,compact:!0,appearance:"primary"},r.tp._t("Изменить")))}}const bu={root:{display:"flex",alignItems:"center",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:12,width:"max-content",maxWidth:312,boxSizing:"border-box",wordBreak:"break-word",background:Te.O.white,borderRadius:Et.E0.default,boxShadow:ia.q.popup,"& > button":{flexShrink:0}},title:{marginEnd:12}},wu=(0,xe.D2)(bu)((0,ke.$)()(yu)),Iu=(0,Gn.G)({selectors:({toast:e})=>({collection:(0,mu.nA)(e.collectionId)}),handlers:vu})((0,Ye.C)(((e,t)=>{const{collection:r}=e,{tp:n}=t;if(r)return{title:n._t("Добавлено в «%1»",[(0,fu.c)(r,t)])}}))(wu));var Eu=r(27426),Cu=r(89670);const xu=({onClose:e,timeout:t,children:r,targetBoundingClientRect:n,to:a,offset:i})=>{const s=u.useRef(null);return(0,Cu.k)(s,e,t),(0,Eu.t)(s,e),u.createElement(Va.k,{innerRef:s,targetBoundingClientRect:n,to:a,offset:i||8},r)};const ku=(0,u.memo)((({type:e,to:t})=>{const{css:r,s:n,dir:a}=(0,mr.y)(_u),i=(0,zr.A)(Ji),s=(0,jr.T)(),{bssRef:o}=(0,Ss.T)((c={type:e},(e,t)=>{const r=function(e){switch(e){case"layer_exchange":return"exchangeCurrencyLayerPromo"}}(c.type);if(r)return{uiElement:{name:r,frameUuid:t.appContext.staticFrames.map.id}}}));var c;const l=(0,Ie.v9)(h.kL),d=(0,u.useMemo)((()=>{switch(t){case"centerEnd":return[n._center,"rtl"===a&&n._rtl];default:return n._default}}),[t]),p=(0,u.useMemo)((()=>{switch(e){case"layer_metro":return s._t("Включите&nbsp;слой&nbsp;с&nbsp;метро, так удобнее планировать маршруты");case"realty":return s._gg("Покажем, все объявления в этом доме");case"ppng":return s._gg("Теперь строим маршруты\n для грузового транспорта!");case"layer_realty_heatmap":return(null==l?void 0:l.flags.metro)?s._gg("Покажем,&nbsp;сколько&nbsp;минут&nbsp;идти&nbsp;пешком&nbsp;до&nbsp;метро"):s._gg("Недвижимость&nbsp;города&nbsp;теперь&nbsp;на&nbsp;карте.\nВыбирайте&nbsp;её&nbsp;в&nbsp;отдельном&nbsp;слое");case"layer_realty_sublayers":return(null==l?void 0:l.flags.metro)?s._gg("Включите&nbsp;тепловую&nbsp;карту&nbsp;доступности&nbsp;метро"):s._gg("Включите&nbsp;тепловую&nbsp;карту\nс&nbsp;ценами&nbsp;аренды&nbsp;или&nbsp;продажи");case"layer_photo":return s._t("Прекрасное&nbsp;рядом&nbsp;—&nbsp;посмотрите!\nПоказываем&nbsp;на&nbsp;карте&nbsp;фотографии&nbsp;города");case"layer_exchange":return s._gg("Курсы&nbsp;валют на&nbsp;карте");case"exchange_input":return s._gg("Курс&nbsp;выгодней\nпри&nbsp;обмене&nbsp;большей&nbsp;суммы");case"layer_road_accident":return s._gg("Аварийные места на карте")}}),[e]);return u.createElement("div",{className:r(n.tooltip,d),onClick:i,ref:o},p)})),_u=(0,mr.k)({tooltip:{background:Te.O.blue_028eff,color:Te.O.white,borderRadius:Et.E0.default,boxShadow:ia.q.popup,paddingTop:12,paddingBottom:8,paddingStart:16,paddingEnd:16,boxSizing:"border-box",margin:"auto",userSelect:"none",position:"relative",whiteSpace:"pre-wrap","::before":{content:'""',width:0,height:0,border:"4px solid transparent",borderBottomColor:Te.O.blue_028eff,position:"absolute"}},_default:{"::before":{top:0,start:"50%",marginTop:-8,marginStart:-4}},_center:{"::before":{marginTop:-4,marginStart:-8,top:"50%",start:0,transform:"rotate(-90deg)"}},_rtl:{"::before":{transform:"rotate(90deg)"}}});var Ou=r(87946),Su=r(88540);const zu=()=>(e,t)=>{const r=t.appContext.frames[0];if(!r||"search"!==r.type||"query"!==r.searchType||"market"!==r.tab)return;const n=(0,Su._)({frameId:r.id,state:t});return{uiElement:{name:"trySearchProductsPromo",ownerName:"productsList",frameUuid:r.id},action:"tap",payload:{productsList:n}}},Mu=()=>(e,t)=>{const r=t.appContext.frames[0];if(!r||"search"!==r.type||"query"!==r.searchType||"market"!==r.tab)return;const n=(0,Su._)({frameId:r.id,state:t});return{uiElement:{name:"trySearchProductsPromo",ownerName:"productsList",frameUuid:r.id},payload:{productsList:n},action:"close"}},ju=(e,t)=>{const r=t.appContext.frames[0];if(!r||"search"!==r.type||"query"!==r.searchType||"market"!==r.tab)return;const n=(0,Su._)({frameId:r.id,state:t});return{uiElement:{name:"trySearchProductsPromo",ownerName:"productsList",frameUuid:r.id},payload:{productsList:n}}},Tu=()=>(0,z.vP)((0,Ou.B)({withCustomPlaceholder:!0,shouldStartSearchByQuery:!1,query:""}),Ji()),Nu=(0,u.memo)((({to:e,text:t})=>{const{css:r,s:n,dir:a}=(0,mr.y)(Pu),{useBssHandler:i,bssRef:s}=(0,Ss.T)(ju),o=i(zu),c=(0,zr.A)(Tu),l=(0,u.useCallback)((()=>{c(),o()}),[]),d=i(Mu),p=(0,zr.A)(Ji),m=(0,u.useCallback)((e=>{e.stopPropagation(),p(),d()}),[]),h=(0,u.useCallback)((()=>{switch(e){case"centerEnd":return[n._center,"rtl"===a&&n._rtl];default:return n._default}}),[e]);return u.createElement("div",Object.assign({ref:s,className:r(n.tooltip,h()),onClick:l},Ce.dx.n("wat-promo-tooltip")),u.createElement("div",Object.assign({className:r(n.close),onClick:m},Ce.dx.n("wat-promo-close")),u.createElement(ya.x,null)),t)})),Pu=(0,mr.k)({tooltip:{background:Te.O.blue_028eff,color:Te.O.white,borderRadius:Et.E0.default,boxShadow:ia.q.popup,paddingTop:12,paddingBottom:8,paddingStart:16,paddingEnd:32,boxSizing:"border-box",margin:"auto",wordBreak:"break-word",userSelect:"none",position:"relative",whiteSpace:"pre-wrap",maxWidth:180,"::before":{content:'""',width:0,height:0,border:"4px solid transparent",borderBottomColor:Te.O.blue_028eff,position:"absolute"}},_default:{"::before":{top:0,start:"50%",marginTop:-8}},_center:{"::before":{marginStart:-8,marginTop:-4,top:"50%",start:0,transform:"rotate(-90deg)"}},_rtl:{"::before":{transform:"rotate(90deg)"}},close:{position:"absolute",top:8,end:4,boxSizing:"border-box",color:Te.O.white,":hover":{cursor:"pointer"}}}),Lu=e=>(t,r)=>{const{toast:n}=e;if("productSearchHint"!==(null==n?void 0:n.type))return;const a=r.appContext.frames[0];if(!a||"search"!==a.type||"query"!==a.searchType||"market"!==a.tab)return;const i=(0,Su._)({frameId:a.id,state:r});return{uiElement:{name:"trySearchProductsPromo",ownerName:"productsList",frameUuid:a.id},payload:{productsList:i},action:"autoClose"}},Fu=()=>{const e=(0,Ie.v9)((e=>e.appContext.weak.toast)),{useBssHandler:t}=(0,Ss.T)(),r=(0,zr.A)(Ji),n=t(Lu,{toast:e}),a=u.useCallback((()=>{r(),n()}),[]);if(!e)return null;switch(e.type){case"addedToCollection":return u.createElement(xu,{onClose:a,timeout:3e3,targetBoundingClientRect:e.targetBoundingClientRect,to:"bottomBottomStart"},u.createElement(Iu,{toast:e}));case"showPromoToast":return u.createElement(xu,{onClose:a,timeout:2e4,targetBoundingClientRect:e.targetBoundingClientRect,to:e.to,offset:e.offset},u.createElement(ku,{type:e.subtype,to:e.to}));case"productSearchHint":return u.createElement(xu,{onClose:a,timeout:2e4,targetBoundingClientRect:e.targetBoundingClientRect,to:e.to,offset:e.offset},u.createElement(Nu,{text:e.text,to:e.to}));default:return null}},Ru=e=>u.createElement(Se.E,{loader:ze.H.messenger,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q});var Hu=r(97472),Du=r(49261);const Bu=u.memo((()=>{const[e,t]=(0,u.useState)(void 0);(0,Hu.x)({type:"map:hint",handler:e=>{t(e)}});const{s:r,css:n}=(0,mr.y)(Au);if(!e||"undefined"==typeof window)return null;const a=(0,Du.Y)(e.point);return u.createElement(Va.k,{targetBoundingClientRect:a,to:"bottomEnd",offset:8,pointerEvents:"none"},u.createElement("div",{className:n(r.hint)},e.text))}));Bu.displayName="Hint";const Au=(0,mr.k)({hint:Object.assign(Object.assign({},fr.oN),{background:Te.O.white,boxShadow:ia.q.popup,borderRadius:Et.E0.default,padding:"4px 8px",whiteSpace:"nowrap"})});var Vu=r(7513),Zu=r(98137),Uu=r(76457);var $u=r(65933),Wu=r(54917);const qu=(0,z.gQ)("replaceFrameInBuildingWithOriginalSearchIfNeeded",(e=>(0,z.xJ)((t=>{if(!e)return(0,z.ZT)();const r=t.appContext.frames.find($u.n);if(r){const n=function(e,t){for(const r of[...e].reverse())for(const e of r)if(t(e))return e}(t.appContext.graveyard,(t=>(0,Wu.E)(t)&&((0,xr.QB)(t)===e||(0,xr.vr)(t)===e)));if(n&&(0,Wu.E)(n))return(0,V.Wk)(Object.assign(Object.assign({},n),{id:r.id}))}}))));var Gu=r(75881),Qu=r(89856),Ku=r(86741);const Ju=(0,z.gQ)("getEntityByPoint",(e=>(0,z.xJ)((t=>{const r=t.appContext.zoom,n=t.session.is3dEnabled;if(r)return(0,z.vP)((0,G.zh)((a=>(0,Gu.I5)({point:e.point,zoom:Math.ceil(r),regionId:(0,h.yH)(t)||"0",searchId:e.searchId,is3dEnabled:n,viewpoint:a}))),(0,z.xJ)((t=>{const r=(0,Qu.c)({state:t,searchId:e.searchId});if(!r.meta||"error"===r.meta.status)return;if(!r.data||!r.data.items.length)return;const n=r.data.items[0],a=(0,y.wj)({state:t,entityId:n});return a.data?"point"===a.data.type?(0,Ku.W)({point:e.point,shouldCenterMap:!1}):(0,A.WZ)({entityId:a.data.id,frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,skipFetchEntity:!0}):void 0})))})))),Xu=(0,z.gQ)("openEntityFromMap",(({adsId:e,entityId:t,point:r})=>{const n=(0,H.by)(),a=(0,H.by)(),i=(0,H.by)(),s=(0,H.by)();return(0,z.vP)((0,T.BN)(),(0,Pa.KO)(),(0,Zu.p)(),(0,G._N)(te.Wr,qu),(0,Uu.HP)({frameId:n,entityId:t,searchId:i,gtaId:s,statusId:a,point:r}),t?Yu({entityId:t,point:r,frameId:n,statusId:a,gtaId:s,searchId:i,adsId:e}):Ju({point:r,frameId:n,statusId:a,searchId:i,gtaId:s}))})),Yu=(0,z.gQ)("getEntityById",(e=>(0,z.vP)((0,A.WZ)({entityId:(0,H._J)(e.entityId),frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,adsId:e.adsId}),(0,G.Mb)(e.frameId,(t=>{if(!t||"pending"!==t.type)return(0,z.ZT)();const r=(0,H.by)(),n=(0,H.by)(),a=(0,H.by)();return Ju({point:e.point,frameId:e.frameId,statusId:r,searchId:n,gtaId:a})})))));var ep=r(39206),tp=r(78921),rp=r(90057);const np=(0,z.gQ)("clickMap",(({entityId:e,point:t,type:r,isCommercial:n,sysCode:a,isPersonal:i})=>(0,z.vP)("rmbMenuItem"!==r?function(e){const{type:t,sysCode:r,isCommercial:n,isPersonal:a}=e;switch(t){case"poi":return(0,Vu.Y8)({sysCode:r,isCommercial:n,isPersonal:a});case"routePlatformPoint":return(0,Vu.OF)();default:return(0,Vu.VO)()}}({type:r,sysCode:a,isCommercial:n,isPersonal:i}):(0,z.ZT)(),(0,G.gF)({hashmap:e=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},isRealty:e=>"realty"===e.appContext.activeLayer},(({hashmap:r,isRealty:n})=>n&&r&&e&&void 0!==r[e]?(0,rp.nv)((t=>(0,ep.T)({entity:{id:e,type:"building"},suggestId:null==t?void 0:t.suggestId}))):n?(0,tp.C)(Xu({entityId:e,point:t})):Xu({entityId:e,point:t}))))));var ap=r(90594),ip=r(28623),sp=r(28093);const op=e=>{const{type:t,lonLat:r}=e,n={type:"point",lonLat:r},a="dirTo"===t?[void 0,n]:[n,void 0];return(0,G._N)((e=>(0,xr.t0)(e.appContext.frames,"directions")),(e=>{if(e){const n=e.points.length-1,a="dirTo"===t?n:0,i=(0,ip.z)({type:"point",lonLat:r}),s=(0,sp.r)(i,e.points,a)||e.points;return(0,ap.R)({frameId:e.id,tab:e.tab,framePoints:s})}return(0,zi.b)({points:a})}))},cp=(0,z.gQ)("contextMenuClick",(e=>{const{type:t,lonLat:r,entityId:n}=e;return lp(t,r,n)})),lp=(e,t,r)=>{switch(e){case"info":return np({type:"rmbMenuItem",point:t,entityId:r});case"dirTo":return op({type:"dirTo",lonLat:t});case"dirFrom":return op({type:"dirFrom",lonLat:t});case"share":return(0,z.vP)(np({type:"rmbMenuItem",point:t,entityId:r}),(0,G._N)((e=>(0,xr.t0)(e.appContext.frames,"entity")),(e=>(0,to.q)({frameId:null==e?void 0:e.id}))))}};var dp=r(22168);const up=({color:e="currentColor"})=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{fill:e,fillRule:"evenodd",d:"M12 3a7 7 0 0 0-6.49 9.626l.217.538.576.078C9.471 13.668 11 15.798 11 20h2c0-4.202 1.53-6.332 4.697-6.758l.576-.078.217-.538A7 7 0 0 0 12 3zm0 2a5 5 0 0 1 5 5l-.008.278c-.02.37-.08.732-.181 1.086l-.17.035c-2.12.471-3.652 1.633-4.58 3.43l-.061.123-.061-.124c-.928-1.796-2.46-2.958-4.58-3.429l-.171-.035A5 5 0 0 1 12 5z"})),pp=({color:e="currentColor"})=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{fill:e,fillRule:"evenodd",d:"M17 3a4 4 0 1 1-3.017 6.626l-3.07 1.536a4.016 4.016 0 0 1 0 1.676l3.07 1.536a4 4 0 1 1-.895 1.789l-3.07-1.537a4 4 0 1 1 0-5.253l3.07-1.535A4 4 0 0 1 17 3zm0 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10-5a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})),mp=({color:e="currentColor"})=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{fill:e,fillRule:"evenodd",d:"M13 21a6 6 0 0 1-5.996-5.775L7 15l-.001-2.1A5.002 5.002 0 0 1 8 3a5 5 0 0 1 1 9.9V15a4 4 0 0 0 7.995.2L17 15v-4h2v4a6 6 0 0 1-6 6zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9-2V7h2v2h-2z"})),hp=({color:e="currentColor"})=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},u.createElement("path",{fill:e,fillRule:"evenodd",d:"M9 3c3.2 0 5.9 2.6 6 5.8V11.1c2.7.6 4.4 3.2 3.9 5.9-.5 2.3-2.5 4-4.9 4-2.8 0-5-2.2-5-5 0-2.4 1.7-4.4 4-4.9V9c0-2.2-1.8-4-4-4-2.1 0-3.9 1.7-4 3.8V13H3V9c0-3.3 2.7-6 6-6zm5 10c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-9 2v2H3v-2h2z"}));var gp=r(45435);function fp(e){return{info:"whatIsHere",dirTo:"routeHere",dirFrom:"routeFromHere",share:"sendLink"}[e]}const vp=(0,mr.k)({wrapper:{boxShadow:ia.q.popup,borderRadius:Et.E0.default,background:Te.O.white,cursor:"pointer"},list:{boxSizing:"border-box",position:"relative",boxShadow:ia.q.innerBorderBottomBase,"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",padding:8,paddingEnd:12,listStyleType:"none",userSelect:"none",":hover":{background:Te.O.gray_f2f2f2,color:Te.O.blue_0072ce}},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,marginEnd:8}}),yp=(0,_e.z)((e=>({uiElement:{name:"placeCardMapActionsPopup",ownerName:void 0,frameUuid:e.ownerFrameId}})),((e,t)=>({trackRMBItemClick(r,n){e((0,G._N)((e=>n?(0,y.wj)({state:e,entityId:n}).data:void 0),(e=>{const n={uiElement:{name:fp(r),ownerName:"placeCardMapActionsPopup",frameUuid:t.ownerFrameId},action:"tap",payload:e?{placeItem:(0,gp.Pj)({entity:e})}:void 0};return(0,ft.zs)(n)})))},trackRMBClick(r,n){const a={uiElement:{name:"map"===r?"mapObject":"POI",ownerName:"map",frameUuid:t.ownerFrameId},action:"rightClick",payload:n?{POI:{category:n.sysCode?{id:n.sysCode}:void 0,adsHighlight:n.isCommercial||!1}}:void 0};return e((0,ft.zs)(a))}})))((e=>{const{css:t,s:r}=(0,mr.y)(vp),n=(0,jr.T)(),a=(0,u.useRef)(null),{trackRMBItemClick:i,trackRMBClick:s,bssRef:o}=e,[c,l]=(0,u.useState)(void 0),d=(0,zr.A)(cp);(0,Hu.x)({type:"map:contextmenu",handler:e=>{var t;"map"!==e.origin&&"poi"!==e.origin||(l({lonLat:(0,dp.U)(e),point:(t=e,{x:t.point[0],y:t.point[1]}),entityId:"poi"===e.origin?e.target.id:void 0}),s(e.origin,"poi"===e.origin?e.target:void 0))}}),(0,Hu.x)({type:"common:escapeKeyUp",handler:()=>{l(void 0)},stopIfHandled:!0,priority:Ge.U.FrameElement});const p=(0,u.useMemo)((()=>{if(c)return(0,Du.Y)({top:c.point.y,left:c.point.x})}),[c]),m=(0,_s.$)((e=>{c&&c.lonLat&&(d({type:e.type,lonLat:c.lonLat,entityId:c.entityId}),i(e.type,c.entityId),l(void 0))}));(0,Eu.t)(a,(()=>l(void 0)));const h=[{title:n._t("Что здесь?"),type:"info"},{title:n._t("Маршрут сюда"),type:"dirTo"},{title:n._t("Маршрут отсюда"),type:"dirFrom"},{title:n._t("Отправить ссылку"),type:"share"}],g=(0,u.useCallback)((e=>{switch(e){case"info":return u.createElement(up,{color:Te.O.gray_262626});case"dirTo":return u.createElement(hp,{color:Te.O.gray_262626});case"dirFrom":return u.createElement(mp,{color:Te.O.gray_262626});case"share":return u.createElement(pp,{color:Te.O.gray_262626});default:return null}}),[]);return p?u.createElement(Va.k,{targetBoundingClientRect:p,to:"bottomEnd",offset:0},u.createElement("nav",Object.assign({className:t(r.wrapper),ref:a},Ce.dx.n("wat-context-menu")),u.createElement("ul",{className:t(r.list),ref:o},h.map(((e,n)=>u.createElement("li",Object.assign({},Ce.dx.n("wat-context-menu-item"),Ce.dx.t(e.type),{key:n,className:t(r.item),onClick:()=>m(e)}),u.createElement("div",{className:t(r.icon)},g(e.type)),e.title)))))):null}));var bp=r(27949),wp=r(10060);const Ip=(0,z.gQ)("fetchEntityByEntranceIfNeeded",(e=>(0,G._N)((0,wp.qA)(e.id),(t=>t.data?(0,z.ZT)():(0,wp.y8)(e)))));function Ep(e){const t=(0,bp.r1)(e);if(!t)return(0,Zu.p)();const r="marker"in e?e.marker:void 0,{point:n,origin:a}=e,i="poi"===e.origin?{isCommercial:e.target.isCommercial,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal}:void 0;return(0,z.vP)(("poi"===a||"marker"===a)&&(0,z.PQ)((()=>{Wd.M.set((()=>({id:t,point:n,marker:r,poi:i,origin:a})))})),(0,z.xJ)((a=>{var s;const o=a.data.entity.profile[t];if(!("marker"===e.origin&&"tUgc"===(null===(s=null==r?void 0:r.data)||void 0===s?void 0:s.source)||o&&o.data&&"success"===o.meta.status))return"poi"===e.origin?e.target.sysCode===ic.Dn?(0,z.vP)(Ip({id:t}),(0,G._N)((0,wp.qA)(t),(e=>Wd.M.get()?(0,H.$K)(e.meta)&&"success"===e.meta.status&&(0,H.$K)(e.data)&&(0,H.$K)(e.data.id)?(0,z.PQ)((()=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.id;if(!a)return(0,z.ZT)();Wd.M.set((()=>({id:a,poi:i,point:n,marker:r,origin:"poi"})))})):(0,Zu.p)():(0,z.ZT)()))):(0,A.DZ)({id:t,searchId:void 0}):"marker"===e.origin&&(null==r?void 0:r.data)?(0,A.DZ)({id:t,searchId:(0,te.WK)(a),hash:(0,H._G)(r.id)}):void 0})))}function Cp(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas"),r=!(!t.getContext("webgl",e)&&!t.getContext("experimental-webgl",e)),n=document.createElement("canvas");return`${r?"available":"unavailable"},${!(!n.getContext("webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0}))&&!n.getContext("experimental-webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0})))?"good-perf":"fail-perf"}`}}catch(e){}return"none"}var xp=r(34990),kp=r(22147),_p=r(5352);function Op(e){return e>=11}var Sp=r(57787);const zp=36e5,Mp={};var jp=r(48391);const Tp=e=>{const{locale:t,segmentId:r}=e;if(t&&r)return{baseLocale:t,segmentId:r}};var Np=r(15301),Pp=r(3125);let Lp;setInterval((()=>{const e=+new Date-zp;for(const t of Object.keys(Mp))Mp[t]<e&&delete Mp[t]}),zp);const Fp=e=>({mouseout:t=>{var r;if("marker"===t.origin&&"realty"===(null===(r=t.marker.data)||void 0===r?void 0:r.source)){if((0,Pp.Tg)())return;return Pp.xj.set((()=>{})),(0,Pp.uN)(),void(0,Pp.iV)((()=>{(0,Pp.Tg)()||e((0,Np.l)())}),200)}if("map"!==t.origin){if("ppnot"===t.origin)return e((0,L.Kn)({type:"map:mouseout",event:t}));if("geometry"===t.origin&&t.geometry.eventData&&"routePlatformPoint"===t.geometry.eventData.type)return e((0,kp._)());e((0,J.yy)({hoveredId:void 0})),Lp&&clearTimeout(Lp),Lp=setTimeout((()=>{e((0,Zu.p)()),Lp=void 0}),100)}},mouseover:t=>{var r,n;if("marker"===t.origin&&"realty"===(null===(r=t.marker.data)||void 0===r?void 0:r.source))return Pp.xj.set((()=>{})),Lp&&clearTimeout(Lp),(0,Pp.uN)(),void(0,Pp.iV)((()=>{const r=(0,bp.r1)(t);e((0,z.Mf)(Ep(t),r&&(0,J.yy)({realtyHoveredId:r})))}),50);if("marker"===t.origin&&"infrastructure"===(null===(n=t.marker.data)||void 0===n?void 0:n.source)&&(0,Pp.uN)(),"map"===t.origin)return;if("ppnot"===t.origin)return e((0,L.Kn)({type:"map:mouseover",event:t}));if("geometry"===t.origin&&t.geometry.eventData&&"routePlatformPoint"===t.geometry.eventData.type)return e((0,_p.C)({text:t.geometry.eventData.name,point:{lon:t.geometry.position[0],lat:t.geometry.position[1]}}));const a=(0,bp.r1)(t);a&&(e((0,J.yy)({hoveredId:a})),Sp.a.stopTracker(e),Lp&&clearTimeout(Lp),Lp=setTimeout((()=>{e(Ep(t)),Lp=void 0}),50))},click:t=>{e((0,z.Mf)((0,L.Kn)({type:"map:click",event:t}),(0,J.yy)({hoveredId:void 0,realtyHoveredId:void 0})))},contextmenu:t=>{e((0,L.Kn)({type:"map:contextmenu",event:t}))},dragend:t=>{e((0,L.Kn)({type:"map:dragend",event:t}))},moveend(t){Sp.Y.stopTracker(e),e((0,Pa.$x)(t)),e((0,L.Kn)({type:"map:moveend",event:t}))},move(t){e(function(e){return(0,z.vP)((0,Zu.p)(),(0,L.Kn)({type:"map:move",event:e}))}(t))},performancecaveat(){e((0,tt.n)(["Map","Performance","Slow",void 0,{nonInteraction:!0}]))},floorcomplexchange(t){var r;e((r=t.complex,(0,G.gF)({entityFrame:e=>(0,xr.Fq)(e.appContext.frames),floors:e=>e.appContext.floors,catalogMarkersData:te.H3},(({entityFrame:e,floors:t,catalogMarkersData:n})=>void 0!==r?(0,Ya.NN)({currentFloor:(0,bp.DT)(r,t,e,n),floorNames:r.floorNames,firmsToFloorIndexMap:r.firmsToFloorIndexMap,id:r.id}):(0,Ya.ox)()))))},rulerchange(t){e((0,Mr.s_)({points:t.points}))},zoomend(t){Op(t.zoom)||e((0,kp._)())},adsIconForPoiShown({adsId:t,ownerOrgId:r,donorBranchId:n,view:a,position:i,segmentId:s}){Mp[n]||(!function(e){Mp[e]=+new Date}(n),e((0,G.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:Q.O},(({mapBssUuid:e,dataLocale:o})=>(0,ft.GM)({showEventKey:(0,H.by)(),autoEvent:!0,uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:e},payload:{buyHereIcon:{commentShown:"iconWithLabel"===a,contentOwner:{adsPosition:"buyHereOnMap",adsId:t,org:r}},placeItem:{entity:{id:n,type:"branch",segmentInfo:Tp({locale:o,segmentId:s})},geoPosition:(0,jp.a3)({lon:i[0],lat:i[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}})))))}});class Rp extends u.Component{shouldComponentUpdate(){return!1}render(){return u.createElement("div",{className:(0,xe.iv)(this.props.s.wrapper),style:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"#f6f2de"}},u.createElement("div",{id:"map",style:{background:"transparent",position:"absolute",top:0,right:0,bottom:0,left:0}}))}}Rp.displayName=(0,Le.I)("src/modules/map/components/mapWrapper");const Hp=(0,xe.D2)({wrapper:{"& *":{userSelect:"none"}}})(Rp);var Dp=r(94207),Bp=r(14101),Ap=r(20869),Vp=r(40597);const Zp=(0,z.gQ)("searchInBuildingFromMarker",(e=>{const{buildingId:t,entityId:r}=e;return(0,G.gF)({searchFrame:e=>(0,xr.Di)(e.appContext.frames),currentMarkersId:te.xl},(({searchFrame:e,currentMarkersId:n})=>{if(!e)return(0,z.ZT)();const a=(0,H.by)(),i=(0,H.by)(),s=(e=>{if(e&&"search"===e.type&&"offers"!==e.searchType)return"inbuilding"===e.searchType&&e.originalSearchId?e.originalSearchId:(0,xr.QB)(e)})(e),o=e.query,c=(0,Ap.Q)(e),l="rubricId"in e?e.rubricId:void 0,d=n||(0,H.by)();return(0,z.Mf)((0,T.BN)(),(0,z.vP)((0,Dp.lX)({searchId:a,buildingId:t,query:o,page:1,filterValues:c,hasSearchControls:!0,shouldNotFetchMarkers:!0}),(0,G.gF)({search:e=>(0,Bp.rO)({state:e,searchId:a})},(({search:e})=>{const n=(0,A.xo)({id:(0,H._J)(r),hash:(0,H._G)(r),type:"branch",searchId:a});return!e.data||!e.data.total||e.data.total<2?(0,z.vP)(qu(s),n):(0,z.vP)((0,V.Jt)({id:i,type:"search",searchType:"inbuilding",query:o,buildingId:t,searchId:(0,ue.Ue)(a),originalSearchId:s,page:(0,ue.Ue)(1),gtaId:(0,H.by)(),statusId:(0,H.by)(),noSearchControls:!0,filterPanelState:"manuallyClosed",filterValues:c,rubricId:l}),(0,tp.C)(n))})),(0,G._N)(Jn.m,(e=>e&&(0,J.PP)({frameId:e.id,markersId:d}))),(0,vl.wN)({entityId:t},(e=>{if((0,Ns.G)(e))return(0,A.DZ)({id:t,hash:(0,H._G)(r),searchId:void 0})}))),n?void 0:(0,z.XJ)((0,Vp.lD)()))}))}));var Up=r(36247),$p=r(2551),Wp=r(17041),qp=r(77347),Gp=r(98559),Qp=r(86184),Kp=r(26294),Jp=r(52808),Xp=r(13553);const Yp=(e,{exchangeSearch:t})=>{const r=(0,Xp.X)(e);if(!r)return(0,z.ZT)("Marker with unknown type clicked");switch(r.source){case"catalog":return em(e,r);case"market":return function(e,t){const r=(0,H.by)();return(0,z.vP)((0,Zu.p)(),(0,Vu.Sz)(e,t),"offer"===t.type?(0,A.xo)({id:(0,H._J)(t.branch_id),hash:(0,H._G)(e.id),searchId:r,type:"branch",point:{lon:e.lonLat[0],lat:e.lonLat[1]}}):1===t.product_total?(0,G.zh)((n=>(0,qp.e)({productId:t.product_id,buildingId:e.buildingId,searchId:r,viewpoint:n,filterValues:t.filterValues}))):(0,G.gF)({searchProfile:e=>(0,b.NP)({state:e,searchId:t.searchId}),searchFrame:e=>e.appContext.frames.find(Wu.E),viewpoint:te.Id},(({searchProfile:r,searchFrame:n,viewpoint:a})=>{if(!r.data)throw new Error("No search profile for market marker");if(!n)throw new Error("No search frame for market marker");const i=(0,H.by)();return(0,z.vP)((0,V.Jt)(Object.assign(Object.assign({},n),{id:i})),(0,Wp.Hi)({frameId:i,query:r.data.query,buildingId:e.buildingId,viewpoint:a,filterValues:t.filterValues,parentSearchId:n.tabMarket.parentSearchId}))})))}(e,r);case"realty":return function(e){return(0,z.vP)((0,Zu.p)(),(0,Vu.i2)(e),(0,rp.nv)((t=>{var r;return(0,ep.T)({suggestId:null==t?void 0:t.suggestId,entity:e.buildingId?{id:e.buildingId,type:"building"}:void 0,total:null===(r=e.data)||void 0===r?void 0:r.product_total})})))}(e);case"favorites":return tm(e);case"tUgc":return function(e,t){return(0,z.vP)((0,T.BN)(),(0,z.xJ)((e=>(0,ft.zs)({uiElement:{name:"tUGCPOI",frameUuid:e.appContext.staticFrames.map.id},payload:{tUGC:{id:t.id,category:(0,Up.N)(t.event),mode:(0,$p.P)(e)}},action:"tap"}))),function({id:e}){return(0,V.Jt)({type:"tUgc",eventId:e,id:(0,H.by)()})}({id:t.id}))}(0,r);case"exchange":return function(e,t,r){return(0,z.vP)((0,Zu.p)(),(0,Vu.M8)(e,r),(0,A.xo)({id:t.branch.id,type:"branch",point:{lon:e.lonLat[0],lat:e.lonLat[1]}}))}(e,r,t);case"infrastructure":return function(e,t){return(0,z.vP)((0,Vu.iQ)(e),(0,tp.C)((0,A.xo)({id:e.id,type:t.type})))}(e,r);default:return(0,z.ZT)(`Click in marker ${JSON.stringify(r)} is unhandled`)}};function em(e,t){const r=e.buildingId;return t.cluster&&r?(0,z.gQ)("openFirmsInBuildingFromMarker",(()=>(0,z.vP)((0,Zu.p)(),(0,Vu.pD)(e,t),Zp({buildingId:r,entityId:e.id}))))():(0,z.vP)((0,Zu.p)(),(0,Vu.pD)(e,t),rm({eventMarkerId:e.id,markerData:t}))}function tm(e){return(0,z.vP)((0,Zu.p)(),(0,Vu.N6)(),(0,Gp.L)({type:(0,Jp.l)(e.type)?"private":"public",favoriteId:e.id,shouldCenterMap:!1}))}const rm=(0,z.gQ)("openCatalogEntityFromMarker",(e=>{const{eventMarkerId:t,markerData:r,point:n}=e;return(0,G.gF)({originalSearchId:te.Wr,querySearchFrame:e=>e.appContext.frames.find(Wu.E),buyHereSearchFrame:e=>e.appContext.frames.find(Qp.o)},(({originalSearchId:e,querySearchFrame:a,buyHereSearchFrame:i})=>{const s=e||a&&(0,xr.QB)(a)||(0,H.by)();return(0,z.vP)(qu(e),(0,A.xo)({id:(0,H._J)(t),hash:(0,H._G)(t),searchId:s,type:r.type,point:n,adsId:(0,Kp.J)(i)}))}))}));const nm=(0,z.gQ)("clickEntrance",(({id:e,point:t})=>{const r=(0,H.by)(),n=(0,H.by)();let a=(0,H.by)(),i=(0,H.by)();return(0,z.vP)((0,T.BN)(),(0,Pa.KO)(),(0,Zu.p)(),(0,Vu.Y8)({sysCode:ic.Dn}),(0,V.Jt)({id:r,type:"pending",subtype:"entity",searchId:i,gtaId:n,statusId:a,point:t,entranceId:e}),Ip({id:e,statusId:a}),(0,G._N)((0,wp.qA)(e),(({data:e,meta:s})=>!(0,H.$K)(e)||!(0,H.$K)(e.id)||s&&"error"===s.status?(0,V.D_)(r,(e=>Object.assign(Object.assign({},e),{type:"error",code:s&&"error"===s.status?s.code:500,subtype:"entity"}))):(a=(0,H.by)(),i=(0,H.by)(),(0,A.WZ)({entityId:e.id,frameId:r,statusId:a,searchId:i,gtaId:n,clickPoint:t})))))}));var am=r(65513),im=r(56172);const sm=(0,z.gQ)("clickAdsIconForPoi",(({adsId:e,donorBranchId:t,position:r,ownerOrgId:n,view:a,segmentId:i})=>(0,z.vP)((0,G.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:Q.O},(({mapBssUuid:s,dataLocale:o})=>(0,ft.zs)({uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:s},action:"tap",payload:{buyHereIcon:{commentShown:"iconWithLabel"===a,contentOwner:{adsPosition:"buyHereOnMap",adsId:e,org:n}},placeItem:{entity:{id:t,type:"branch",segmentInfo:Tp({locale:o,segmentId:i})},geoPosition:(0,jp.a3)({lon:r[0],lat:r[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}}))),Xu({entityId:t,adsId:e,point:{lon:r[0],lat:r[1]}})))),om=(0,z.gQ)("clickEtaMarker",(({routeId:e})=>(0,G._N)((e=>(0,xr.t0)(e.appContext.frames,"entity")),(t=>"route"===(null==t?void 0:t.entityType)?(0,z.ZT)():(0,A.xo)({type:"route",id:e})))));var cm=r(30490);function lm(e,t){const r=(0,dp.U)(e);if(r)switch(e.origin){case"adsIconForPoi":return sm(e.markerData);case"marker":return(e=>{if(!e)return!1;const t=e.currentTarget,r=e.target;return!(!t||!r)&&(!!t.querySelector("[data-isctabutton]")&&(e=>{const{parentDataAtr:t,event:r}=e,n=r.currentTarget,a=r.target;if(!n||!a)return!1;let i=a.parentNode;for(;i;){if(i.dataset[t])return!0;if(i===n)return!1;i=i.parentNode}return!1})({parentDataAtr:"isctabutton",event:e}))})(e.htmlLabelEvent)?(e=>{const t=(0,Xp.X)(e);if("catalog"!==(null==t?void 0:t.source))return;const r=(0,am.U)(t);if(!r)return;const n=(0,H._J)(e.id);return(0,z.vP)((0,A.DZ)({id:n,searchId:t.searchId,hash:(0,H._G)(e.id)}),(0,Vu.qk)(e,t),(0,im.c)({actionType:r.type,value:r.value,entityId:n,ctaOwner:"mapMarker"}))})(e.marker):Yp(e.marker,t);case"photo":return(e=>{const{entityId:t,photoId:r}=e;return(0,z.vP)((0,A.wk)({id:t,searchId:void 0}),(0,vl.wN)({entityId:t},(e=>e.data?(0,cm.lc)({entityId:t,photoId:r,entityType:e.data.type,searchId:(0,H.by)()}):(0,z.ZT)())))})({entityId:e.markerData.objectId,photoId:e.markerData.photoId});case"poi":return e.target.sysCode===ic.Dn?nm({id:e.target.id,point:r}):np({entityId:e.target.id,point:r,type:"poi",isCommercial:e.target.isCommercial||!1,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal});case"etaMarker":return om({routeId:e.routeId});case"map":return np({entityId:e.targetId,point:r,type:"map"});case"geometry":return(0,z.vP)((0,kp._)(),np({entityId:e.geometry.eventData.id,point:r,type:e.geometry.eventData.type}));default:return}}function dm(e){return{id:e.id,type:e.type,geometry:e.geometry&&e.geometry.selection}}var um=r(76997),pm=r(40842);const mm=(0,Fe.P1)([({state:e})=>(0,xr.WZ)(e.appContext.frames,["entity","realtyCard"])],(e=>!(!e||!(0,um.yb)(e)&&!(0,We.B)(e))&&e.showNearbyParkings)),hm=(0,Fe.P1)([({state:e})=>function(e){const t=(0,xr.Fq)(e.appContext.frames),r=e.appContext.frames.find(um.yb);if(!t&&!r)return;if(t&&r)return;const n=(null==t?void 0:t.entityId)||(0,pm.W)(e);return n?(0,y.nM)({state:e,entityId:n}).data:void 0}(e),({state:e})=>e.appContext.zoom<=12,({state:e})=>(0,xr.Bj)(e.appContext.frames),mm],((e,t,r,n)=>{if(r&&r.entityId)return{items:[dm({id:r.entityId})]};if(!e)return;const a=n&&"links"in e&&e&&e.links&&e.links.nearest_parking||[];if(!t&&"adm_div"===e.type&&("region"===e.subtype||"district_area"===e.subtype))return;var i,s;const o=("group"in e?(i=e.group,s="geometry"in e?e.geometry:void 0,i?i.reduce(((e,t)=>{const r=dm({id:t.id,type:t.type,geometry:s});return r?e.concat(r):e}),[]):[]):[]).concat(dm(e)||[],a);return o.length?{items:o}:void 0}));var gm=r(65856),fm=r(1514),vm=r(54951),ym=r(31137);const bm=e=>{var t;return!!e&&"catalog"===e.data.source&&!!(null===(t=e.data.flags)||void 0===t?void 0:t.temporary_closed)};const wm=(e,t)=>{const r=(0,am.U)(e),n=null==r?void 0:r.type;if("link"===n||"order"===n)return[{type:n,text:(null==r?void 0:r.caption)||(null==r?void 0:r.name)||t._t("Подробнее"),href:null==r?void 0:r.value}]},Im=(e,t,r,n,a)=>{var i;const s=[],{reviews:o,context:c}=e.data,l=o&&o.general_rating;l&&s.push({type:"rating",text:l.toString(10)});const d=null===(i=null==c?void 0:c.stop_factors)||void 0===i?void 0:i.slice(0,5).map((e=>e.name));d&&d.forEach((e=>{s.push({type:"stopFactor",text:e})}));const u=(e=>{const{marker:t,tp:r,time:n,dateFns:a,is12h:i}=e,s=bm(t),o=(0,gr.w)({entity:t.data,format:"short",ctx:{dateFns:a,tp:r}});if(s&&o)return{text:o,color:(0,vm.S)("closed"),type:"workingTime"};const{timezone_offset:c,schedule:l}=t.data;if(void 0===c||!l)return;const d=(0,ym.t)(n,c),u=(0,fm.Vi)(l,!1,d,r,i),p=(0,gm.S)(l,d);return u?{text:u,color:(0,vm.S)(p),type:"workingTime"}:void 0})({marker:e,time:t,tp:r,dateFns:n,is12h:a});if(u&&s.push(u),s.length)return s};var Em=r(29288),Cm=r(48090);function xm(e){var t;const{marker:r,maxLines:n,tp:a,dateFns:i,time:s,is12h:o,MarkerLabel:c}=e,l=function(e){const{marker:t,time:r,maxLines:n,tp:a,dateFns:i,is12h:s}=e;if(0===n)return ic.LZ;const o=[],c=function(e){const{name:t,name_ex:r}=e;return r?r.primary:t||void 0}(t.data);if(!c)return ic.LZ;if(o.push([{type:"name",text:c}]),1===n)return o;const{ads:l}=t.data,d=(null==l?void 0:l.marker_microcomment)?[{type:"adsText",text:l.marker_microcomment}]:void 0;if(d&&o.push(d),2===n)return o;const u=Im(t,r,a,i,s),p=wm(t.data,a);if(d){const e=p||u;e&&o.push(e)}else u&&o.push(u),p&&o.push(p);return o.slice(0,n)}({marker:r,time:s,maxLines:n,tp:a,dateFns:i,is12h:o}),d=(0,Em.D)(l),{width:p,height:m}=d,h=!!(null===(t=window)||void 0===t?void 0:t.debugMap);return{content:(0,Cm.renderToStaticMarkup)(u.createElement(c,{labelLines:l,dbgSize:h?d:void 0})),width:p,height:m,offset:["commercial"===r.type?20:14,-7]}}var km=r(5791);function _m(e){return e<=0?"0":e<1?e.toFixed(2):Math.floor(e).toString()}var Om=r(13128);function Sm(e,t,r,n){const a=function(e,t,r){const n=(0,Om.Z)(e.data.price_value);if(!n)return;const a=n.currency,i=!!e.data.price_value.from,s=!!e.data.price_value.range,o=a&&r[a]||"";return n.min&&(i||s)?`${t._t("от %1",[(0,km.D)(_m(n.min),{isBreakable:!0})])} ${o}`:n.min?`${(0,km.D)(_m(n.min),{isBreakable:!0})} ${o}`:void 0}(e,t.tp,r);if(!a)return;const i=(0,Cm.renderToStaticMarkup)(u.createElement(n,{text:a})),{width:s,height:o}=(0,Em.D)([[{type:"name",text:a}]]);return{content:i,width:s,height:o,offset:"commercial"===e.type?[18,-9]:[11,-8]}}var zm=r(49808),Mm=r(23008);const jm=({text:e})=>{const{s:t,css:r}=(0,mr.y)(Tm);return u.createElement("div",{className:r(t.self)},e)},Tm=(0,mr.k)({self:Object.assign(Object.assign({},zm.wQ),{maxWidth:Mm.d,cursor:"pointer",userSelect:"none",color:Te.O.gray_262626,textShadow:"-1px -1px 0 #ffffff66, 1px -1px 0 #ffffff66, -1px 1px 0 #ffffff66, 1px 1px 0 #ffffff66"})});const Nm=(0,Fe.P1)([({state:e})=>{const t=(0,te.KC)(e);if(t)return(0,b.BV)({state:e,searchId:(0,ue.Gp)(t)})},({i18n:e})=>e,({currencies:e})=>e],((e,t,r)=>{if(e&&e.data)return function(e,t,r){return{markers:e.markers.map((e=>{const n=Sm(e,t,r,jm);return n?Object.assign(Object.assign({},e),{htmlLabel:n}):e})),indexHashMap:e.indexHashMap}}(e.data,t,r)}));var Pm=r(28633);function Lm(e){const t=e&&Pm.qr.includes(e)?`personal_${e.slice(1)}`:"personal",r="personal"===t?`personal_${Pm.gU.slice(1)}`:t;return{type:t,svgPath:`${(0,n.s)()}markers/coloredPersonal/${r}_marker.svg`}}const Fm=[],Rm=e=>e.point?[e.point.lon,e.point.lat]:e.source_point?[e.source_point.lon,e.source_point.lat]:[],Hm=(e,t,r)=>{const n=e.map((e=>{var n;const a=e.collection_id&&(null===(n=null==r?void 0:r[e.collection_id])||void 0===n?void 0:n.color),i=(0,Pm._p)(e.collection_id,a),s="public"===t?"public":Lm(i).type;return{key:e.id,id:e.id,lonLat:Rm(e),type:s,data:{source:"favorites",entityId:e.object_id}}}));return{indexHashMap:e.reduce(((e,t,r)=>(t.object_id&&(e[t.object_id]=r),e)),{}),markers:n||Fm}};var Dm=r(13710);const Bm=(0,Dm.yc)(),Am=(0,Fe.P1)([({state:e})=>{const t=(0,te.SC)(e),r=t&&(0,ue.Gp)(t),n=(0,xr.t0)(e.appContext.frames,"userProfile"),a=!!n&&"favorites"===n.profileTab;return r?(0,Dm.vE)(r)(e):a?Bm(e):void 0},({state:e})=>(0,mu.tV)(e)],((e,t)=>{if(e)return Hm(e,"personal",t)}));var Vm=r(88073),Zm=r(36123);const Um=(0,Fe.P1)([({state:e})=>$m(e),({state:e})=>(0,h.yH)(e)],((e,t)=>{const r=e?(0,Zm.a)(e,t):void 0;if(r)return Hm(r,"public")})),$m=(0,Fe.P1)([te.SC,Vm.UW,e=>e.data.entity.profile],((e,t,r)=>{const n=e&&(0,ue.Gp)(e),a=n?t[n]:void 0;if(a)return a.map((e=>{if(e.object_id){const t=r[e.object_id];if(t){const r=t.data;return Object.assign(Object.assign({},e),{point:Wm(r,e)})}}return e}))}));function Wm(e,t){return t.point?t.point:e&&"point"in e?e.point:void 0}const qm=3600,Gm=86400,Qm=172800,Km=604800,Jm=1209600,Xm=1e3;var Ym;!function(e){e[e.mon=1]="mon",e[e.tue=2]="tue",e[e.wed=3]="wed",e[e.thu=4]="thu",e[e.fri=5]="fri",e[e.sat=6]="sat",e[e.sun=7]="sun"}(Ym||(Ym={}));const eh=(e,t)=>{const{day:r,start_hour:n,finish_hour:a,start_minute:i,finish_minute:s}=t,o=new Date(e*Xm);o.setSeconds(0),o.setMilliseconds(0);const c=o.getDay(),l=Ym[r],d=o.getDate()+(l-c+7)%7;o.setDate(d),o.setHours(n,i,0,0);const u=Math.floor(o.getTime()/Xm),p=23===a&&59===s;o.setHours(p?24:a,p?0:s,0,0);return[u,Math.floor(o.getTime()/Xm)]},th=e=>e.reduce(((e,t)=>{if(!e.length)return[t];const r=e[e.length-1];return r[1]>=t[0]?[...e.slice(0,e.length-1),[r[0],t[1]]]:[...e,t]}),[]),rh=(e,t)=>{if(!(null==t?void 0:t.length))return!0;const r=t.map((t=>eh(e,t)));r.sort(((e,t)=>e[0]-t[0]));return th(r).some((([t,r])=>nh(e,t,r)))},nh=(e,t,r)=>{if("number"!=typeof t)return!0;if("number"==typeof r&&t>=r)return!0;const n=r||Number.MAX_SAFE_INTEGER;if(e>=t&&e<=n)return!0;if(e>n)return!1;const a=n-t,i=t-e;return a<43200?i<=qm:a<Qm?i<=21600:a<Jm?i<=Gm:i<=Km};var ah=r(11027);const ih=e=>{const{event:t,userId:r,zoomStyle:n}=e;return t.user.id===r||!!((e,t)=>{switch(t){case"SHOW_ALL_MARKERS":return!0;case"SHOW_SMALL_MARKERS":return[3,4,5,6,7].includes(e.road);case"SHOW_LARGE_MARKERS":return"camera"!==e.type&&[5,6,7].includes(e.road);case"SHOW_MAIN_MARKERS":return"camera"!==e.type&&"comment"!==e.type&&[5,6,7].includes(e.road);default:return!1}})(t,n)&&("restriction"!==t.type||((e,t)=>{if(!t)return!0;const{finish_time:r,start_time:n,wdays:a}=t,i=Math.floor(e/Xm);return nh(i,n,r)&&rh(i,a)})(Date.now(),t.data))},sh=(e,t,r)=>{if(!ih({userId:r,zoomStyle:t,event:e}))return[];switch(e.location.type){case"MultiPoint":return((e,t)=>{if("Point"===e.location.type)return[];if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return[];const r="camera"===e.type?(0,ah.y)(e):e.type;return e.location.coordinates.map(((t,n)=>({key:`${e.id}_${n}`,id:`${e.id}_${n}`,lonLat:t,type:r,data:{type:r,id:e.id,source:"tUgc",event:e}})))})(e,t);case"Point":const r=((e,t)=>{if("Point"!==e.location.type)return;if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return;const r="camera"===e.type?(0,ah.y)(e):e.type;return{key:e.id,id:e.id,lonLat:e.location.coordinates,type:r,data:{type:r,id:e.id,source:"tUgc",event:e}}})(e,t);return r?[r]:[];default:return[]}},oh=[],ch=(0,Fe.P1)([({state:e})=>e.appContext.showTrafficOnMap,({state:e,tUgcMarkersState:t})=>{if((0,h.SJ)(e))return t},({state:e})=>{return(t=(0,te.Hr)(e))>16?"SHOW_ALL_MARKERS":t>14?"SHOW_SMALL_MARKERS":t>12?"SHOW_LARGE_MARKERS":t>10?"SHOW_MAIN_MARKERS":"NO_MARKERS";var t},({state:e})=>(0,Be.b1)(e),({state:e})=>(0,xr.WZ)(e.appContext.frames,["product","search"])],((e,t,r,n,a)=>(e=>!!e&&("search"===e.type||"product"===e.type))(a)?{markers:oh,indexHashMap:{}}:e&&t&&"NO_MARKERS"!==r?((e,t,r)=>{const n=[],a={},i=[...e];return i.sort(((e,t)=>t.rate-e.rate)),i.forEach((e=>{const i=sh(e,t,r),s=n.length;return i.forEach(((e,t)=>{a[e.id]=s+t})),n.push(...i)})),{markers:n,indexHashMap:a}})(t,r,n):{markers:oh,indexHashMap:{}}));var lh=r(17506);const dh=(0,Fe.P1)([({state:e})=>e.appContext.frames],(e=>(0,xr.WZ)(e,["search","entity","pending","product","prices","realty","realtyCard"])));var uh=r(45635);const ph=(0,y.T3)();var mh=r(74264);const hh=(0,Fe.P1)([function({state:e}){const t=dh({state:e});return t&&"point"in t?t.point:void 0},function({state:e}){const t=dh({state:e});if(!t)return;const{entityId:r,searchId:n}=(0,uh.G)(t,e);return r?ph({state:e,entityId:r,searchId:n}):void 0},function({state:e}){const t=dh({state:e});if(!t)return;const{entityId:r}=(0,uh.G)(t,e);return r}],((e,t,r)=>{var n;const a=null==t?void 0:t.data;return{entityId:(null==a?void 0:a.id)||r,buildingId:a&&(0,mh.J)(a)?null===(n=a.address)||void 0===n?void 0:n.building_id:void 0,pointFromFrame:e,pointFromEntity:a&&"point"in a?a.point:void 0,withAds:a&&"ads"in a&&(0,lh.d)(a.ads)}}));const gh=(0,Fe.P1)([({state:e})=>e.appContext.floors],(e=>e?{id:e.floorsId,floorIndex:e.currentFloor}:void 0));function fh(e){switch(e){case"commercial":return{width:34,height:54};case"default":default:return{width:30,height:48}}}const vh=(0,Fe.HP)((function(e,t,r,n,a,i,s){const{width:o,height:c}=fh(e);let l;try{l=(0,Cm.renderToStaticMarkup)(u.createElement(i,{type:e,backTo2004:a}))}catch(e){l=""}return[{html:l,width:o,height:c,offset:[-o/2,2-c],coordinates:[r,n],isInteractive:!0,isAnimated:!0,animationDuration:300,zIndex:s,data:{type:"czar",czarType:e,id:t}}]}));var yh=r(6066);function bh(e,t,r){if(t&&t<25){if(e>=13)return 4;if(e>=11)return 1}const n=[{zoom:17,maxLines:4},{zoom:15,maxLines:2},{zoom:12,maxLines:1},{zoom:1,maxLines:0}].find((t=>e>=t.zoom)),a=void 0!==n?n.maxLines:0;return 1===a&&r&&t&&t>50&&e<14.3?0:a}const wh=(0,Fe.HP)((function(e,t){const r=null==t?void 0:t.markers[0],n="market"===(null==r?void 0:r.data.source)&&e.buildingId||e.entityId,a=n?null==t?void 0:t.markers[t.indexHashMap[n]]:void 0,i=(0,H.oA)([e.pointFromFrame,Ih(a),e.pointFromEntity]);if(!i||!i.length)return;const s="commercial"===(null==a?void 0:a.type)||e.withAds?"commercial":"default";return{id:n,entityId:e.entityId,buildingId:e.buildingId,lonLat:[i[0].lon,i[0].lat],type:s}}));function Ih(e){if(!e)return;const[t,r]=e.lonLat;return{lon:t,lat:r}}const Eh="[[COUNT]]",Ch="[[PRICE]]",xh=e=>{const{css:t,s:r}=(0,mr.y)(kh),{visited:n=!1,hovered:a=!1}=e;return u.createElement("div",Object.assign({className:t(r.root)},Ce.dx.n("wat-realty-html-marker"),Ce.dx.s(n?"visited":void 0)),u.createElement("div",{"data-ismarkerlabel":!0},u.createElement("div",{className:t(r.content,n&&r._visited,a&&r._hovered)},u.createElement("div",{className:t(r.count)},Eh),u.createElement("div",{className:t(r.text)},Ch),u.createElement("div",{className:t(r.bullet)},u.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},u.createElement("g",{fill:"none",fillRule:"evenodd"},u.createElement("circle",{cx:"9",cy:"9",r:"8",fill:"currentColor"}),u.createElement("circle",{cx:"9",cy:"9",r:"5",fill:"#FFF"})))))))},kh=(0,mr.k)({root:{background:"transparent",display:"flex",height:0,width:126,pointerEvents:"none",justifyContent:"center"},count:Object.assign(Object.assign({display:"flex",alignItems:"center",height:16},fr.Rw),{lineHeight:fr.Rw.fontSize,padding:"0 4px",marginTop:4,marginBottom:4,marginStart:-4,marginEnd:4,backgroundColor:Te.O.white,borderRadius:1,":empty":{display:"none"}}),content:{height:24,display:"flex",alignItems:"center",pointerEvents:"visible",position:"relative",boxSizing:"border-box",textAlign:"center",backgroundColor:"#0F7DDC",color:"#0F7DDC",borderRadius:Zo.E.default,padding:"4px 8px",cursor:"pointer",":hover":{background:"#e32508",color:"#e32508"}},_visited:{background:"#af7eb2",color:"#af7eb2",":hover":{background:"#e32508",color:"#e32508"}},_hovered:{background:"#e32508",color:"#e32508"},text:Object.assign(Object.assign({},fr.oN),{lineHeight:fr.oN.fontSize,color:Te.O.white}),bullet:{position:"absolute",fontSize:0,left:"50%",top:19,transform:"translateX(-50%)"}}),_h=Math.pow(10,3),Oh=Math.pow(10,6),Sh=Math.pow(10,9);const zh={width:126,height:24,offset:[-63,-27]},Mh=function(){const e=(0,Fe.HP)((()=>(0,Cm.renderToStaticMarkup)(u.createElement(xh,null)))),t=(0,Fe.HP)((()=>(0,Cm.renderToStaticMarkup)(u.createElement(xh,{visited:!0})))),r=(0,Fe.HP)((()=>(0,Cm.renderToStaticMarkup)(u.createElement(xh,{hovered:!0}))));return(n,a)=>{switch(!0){case a:return r();case n:return t();default:return e()}}}();function jh(e,t,r,n){const a=((e,t,r)=>{const n=t&&t>=2;if(!e)return;if(e<_h){const t=Math.round(e);return n?r._gg("от&nbsp;%1",[t]):t.toString()}if(e<Oh){const t=parseFloat((e/_h).toFixed(1));return n?r._gg("от&nbsp;%1&nbsp;тыс.",[t]):r._gg("%1&nbsp;тыс.",[t])}if(e<Sh){const t=parseFloat((e/Oh).toFixed(2));return n?r._gg("от&nbsp;%1&nbsp;млн",[t]):r._gg("%1&nbsp;млн",[t])}const a=Math.round(e/Sh);return n?r._gg("от&nbsp;%1&nbsp;млрд",[a]):r._gg("%1&nbsp;млрд",[a])})(e.data.min_price,e.data.product_total,t),i=e.data.product_total>=2?e.data.product_total:"";if(!a)return e;const s=Mh(r,n),o=Object.assign({content:s.replace(Eh,i.toString()).replace(Ch,a)},zh);return Object.assign(Object.assign({},e),{htmlLabel:o})}const Th=()=>{const e=(0,n.s)();return{icons:{smallbullet:{normal:{img:`${e}markers/realty/small.svg`,size:[10,10],offset:[.5,.5]},hover:{img:`${e}markers/realty/small-hover.svg`,size:[10,10],offset:[.5,.5]},active:{img:`${e}markers/realty/small-visited.svg`,size:[10,10],offset:[.5,.5]}},middlebullet:{normal:{img:`${e}markers/realty/medium.svg`,size:[12,12],offset:[.5,.5]},hover:{img:`${e}markers/realty/medium-hover.svg`,size:[12,12],offset:[.5,.5]},active:{img:`${e}markers/realty/medium-visited.svg`,size:[12,12],offset:[.5,.5]}},bigbullet:{normal:{img:`${e}markers/realty/large.svg`,size:[18,18],offset:[.5,.5]},hover:{img:`${e}markers/realty/large-hover.svg`,size:[18,18],offset:[.5,.5]},active:{img:`${e}markers/realty/large-visited.svg`,size:[18,18],offset:[.5,.5]}}},zIndex:P.yQ.default}};function Nh(){const e=(0,n.s)();return{smallbullet:{normal:{url:`${e}markers/realty/small-visited.svg`},hover:{url:`${e}markers/realty/small-hover.svg`}},middlebullet:{normal:{url:`${e}markers/realty/medium-visited.svg`},hover:{url:`${e}markers/realty/medium-hover.svg`}},bigbullet:{normal:{url:`${e}markers/realty/large-visited.svg`},hover:{url:`${e}markers/realty/large-hover.svg`}}}}var Ph=r(34751);const Lh="dg5_realty_visited_markers",Fh=e=>e.appContext.weak.realtyVisited,Rh=e=>e.appContext.weak.restoredRealtyVisited,Hh=e=>(null==e?void 0:e.categoryId)?`${e.categoryId}_${e.buildingId}`:e.buildingId,Dh=(0,z.gQ)("restorePersistedVisitedMarkers",(()=>(0,z.XJ)((0,G.gF)({restored:Rh,visited:Fh},(({restored:e,visited:t})=>{if(e)return(0,z.ZT)();const r=Vh();r.length>1e3&&(0,re.H)({id:"owieb",message:"too many visited markers in realty",level:"error",payload:{type:"debug",subtype:"visited markers getFormattedDataFromStorage error"}});const n=r.reduce(((e,t)=>(e[t]=!0,e)),{});return(0,J.yy)({realtyVisited:Object.assign(Object.assign({},t),n),restoredRealtyVisited:!0})}))))),Bh=(0,z.gQ)("saveVisitedMarker",(e=>(0,z.XJ)((e=>{const t=Hh({buildingId:e.buildingId,categoryId:e.categoryId}),r=Ah();return-1===r.indexOf(t)&&Ph.tO.local.setItem(Lh,`${t};${r}`),(0,G._N)(Fh,(e=>(0,J.yy)({realtyVisited:Object.assign(Object.assign({},e),{[t]:!0})})))})(e)))),Ah=()=>Ph.tO.local.getItem(Lh)||"",Vh=()=>{const e=Ah().split(";");if(e.length<300)return e;const t=e.slice(0,300);return Ph.tO.local.setItem(Lh,t.join(";")),t},Zh=(0,Fe.P1)([({state:e})=>"realty"===e.appContext.activeLayer,({state:e})=>e.data.realty.markers.default,({state:e})=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},({state:e})=>Fh(e),({state:e})=>e.appContext.weak.realtyHoveredId,({i18n:e})=>e,({state:e})=>{var t;return null===(t=(0,xr.t0)(e.appContext.frames,"realty"))||void 0===t?void 0:t.categoryId},({state:e})=>e.appContext.weak.infrastructureType],((e,t,r,n,a,i,s,o)=>{const c=null==t?void 0:t.data;if(!e||!c||o&&"allInfrastructure"!==o)return;const l=[];for(const e of c){const t=e.building_id,r={source:"realty",product_total:e.product_total,product_id:e.product_id,building_id:e.building_id,min_price:e.min_price},o=t,c=Hh({buildingId:e.building_id,categoryId:s}),d=n&&n[c],u={key:o,id:t,lonLat:[e.lon,e.lat],type:"bigbullet",buildingId:e.building_id,icon:d?Nh():void 0,data:r},p=a?(0,H._J)(a):void 0,m=jh(u,i.tp,d,t===p);l.push(m)}return{indexHashMap:r,markers:l}})),Uh=Object.freeze([]),$h=Object.freeze({}),Wh=(0,Fe.P1)([({state:e})=>e.appContext.weak.realtyHoveredId,Zh,hh],((e,t,r)=>{if(!t)return $h;const n=r.entityId,a=e&&t.indexHashMap?t.indexHashMap[(0,H._J)(e)]:void 0,i=n&&t.indexHashMap?t.indexHashMap[n]:void 0;return{hoveredMarkerIndices:void 0!==a?[a]:Uh,hiddenMarkerIndices:void 0!==i?[i]:Uh}})),qh=(0,Fe.P1)([({state:e})=>"exchange"===e.appContext.activeLayer,({exchangeMarkersState:e})=>e],((e,t)=>{if(e&&(null==t?void 0:t.markersData))return{indexHashMap:t.markersData.hashMap,markers:t.markersData.markers}})),Gh=(0,Fe.P1)([({state:e})=>e.appContext.weak.hoveredId,qh,hh],((e,t,r)=>{if(!t)return ic.Nu;const n=r.entityId,a=e&&t.indexHashMap?t.indexHashMap[e]:void 0,i=n&&t.indexHashMap?t.indexHashMap[n]:void 0;return{hoveredMarkerIndices:void 0!==a?[a]:ic.LZ,hiddenMarkerIndices:void 0!==i?[i]:ic.LZ}}));function Qh(){return u.createElement("svg",{width:"30",height:"48",viewBox:"0 0 30 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{opacity:"0.0363806",d:"M15 46.9999C16.6569 46.9999 18 46.3284 18 45.4999C18 44.6715 16.6569 43.9999 15 43.9999C13.3431 43.9999 12 44.6715 12 45.4999C12 46.3284 13.3431 46.9999 15 46.9999Z",fill:"black"}),u.createElement("path",{opacity:"0.0363806",d:"M15 47.9999C17.4853 47.9999 19.5 46.8807 19.5 45.4999C19.5 44.1192 17.4853 42.9999 15 42.9999C12.5147 42.9999 10.5 44.1192 10.5 45.4999C10.5 46.8807 12.5147 47.9999 15 47.9999Z",fill:"black"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 45.8836H15.8824C15.8824 29.2177 20.7768 23.7974 27.9874 23.7974H28.3297C29.0779 21.5907 30 17.9915 30 15.0004C30 7.1439 23.7679 0.000366211 15 0.000366211C6.23206 0.000366211 0 7.1439 0 15.0004C0 17.9915 0.922059 21.5907 1.67029 23.7974H2.01265C9.22412 23.7974 14.1176 29.2177 14.1176 45.8836H15Z",fill:"url(#paint0_linear)"}),u.createElement("defs",null,u.createElement("linearGradient",{id:"paint0_linear",x1:"15",y1:"22.942",x2:"15",y2:"0.000366211",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#1B89EE"}),u.createElement("stop",{offset:"1",stopColor:"#3198EC"}))))}function Kh(){return u.createElement("svg",{width:"36",height:"52",viewBox:"0 0 36 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{x:"1",y:"9",width:"34",height:"34",rx:"2",fill:"#CB3C3C",stroke:"#7A0E0E",strokeWidth:"2"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 10H3.00001C2.72387 10 2.47387 10.1119 2.29291 10.2929L18 26L33.7071 10.2929C33.5262 10.1119 33.2762 10 33 10Z",fill:"#E95858"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00001 42H33C33.2762 42 33.5262 41.8881 33.7071 41.7071L18 26L2.29291 41.7071C2.47387 41.8881 2.72387 42 3.00001 42Z",fill:"#AE1F1F"}))}function Jh(){return u.createElement("svg",{width:"34",height:"54",viewBox:"0 0 34 54",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{opacity:"0.0363806",d:"M17 52.9999C18.6569 52.9999 20 52.3284 20 51.4999C20 50.6715 18.6569 49.9999 17 49.9999C15.3431 49.9999 14 50.6715 14 51.4999C14 52.3284 15.3431 52.9999 17 52.9999Z",fill:"black"}),u.createElement("path",{opacity:"0.0363806",d:"M17 53.9999C19.4853 53.9999 21.5 52.8807 21.5 51.4999C21.5 50.1192 19.4853 48.9999 17 48.9999C14.5147 48.9999 12.5 50.1192 12.5 51.4999C12.5 52.8807 14.5147 53.9999 17 53.9999Z",fill:"black"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 52.0014H18C18 33.1134 23.547 26.9704 31.719 26.9704H32.107C32.955 24.4694 34 20.3904 34 17.0004C34 8.09637 26.937 0.000366211 17 0.000366211C7.063 0.000366211 0 8.09637 0 17.0004C0 20.3904 1.045 24.4694 1.893 26.9704H2.281C10.454 26.9704 16 33.1134 16 52.0014H17Z",fill:"url(#paint0_linear)"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 10.9999L14 15.4999L17 10.9999L20 15.4999L23 10.9999V21.9999H11V10.9999Z",fill:"white"}),u.createElement("defs",null,u.createElement("linearGradient",{id:"paint0_linear",x1:"17",y1:"26.0009",x2:"17",y2:"0.000366211",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#1B89EE"}),u.createElement("stop",{offset:"1",stopColor:"#3198EC"}))))}function Xh(){return u.createElement("svg",{width:"36",height:"52",viewBox:"0 0 36 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{x:"1",y:"9",width:"34",height:"34",rx:"2",fill:"#E89F00",stroke:"#795300",strokeWidth:"2"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 10H3.00001C2.72387 10 2.47387 10.1119 2.29291 10.2929L18 26L33.7071 10.2929C33.5262 10.1119 33.2762 10 33 10Z",fill:"#FFB81C"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00001 42H33C33.2762 42 33.5262 41.8881 33.7071 41.7071L18 26L2.29291 41.7071C2.47387 41.8881 2.72387 42 3.00001 42Z",fill:"#A77300"}),u.createElement("path",{d:"M10.7273 18.7273L14.3637 23.8182L18 18.7273L21.6364 23.8182L25.2727 18.7273V31.8182H10.7273V18.7273Z",fill:"white"}))}const Yh=({type:e,backTo2004:t})=>u.createElement("div",{style:fh(e)},t?"commercial"===e?u.createElement(Xh,null):u.createElement(Kh,null):"commercial"===e?u.createElement(Jh,null):u.createElement(Qh,null));var eg=r(21958),tg=r(10);const rg={offset:[20,-12]};function ng({formattedMarker:e,maxLines:t}){const r=(({formattedMarker:e,maxLines:t})=>{var r,n;const{data:a}=e;if(!t)return ic.LZ;const i=[],s=a.name,o=null===(n=null===(r=a.reviews)||void 0===r?void 0:r.general_rating)||void 0===n?void 0:n.toString();return s?(i.push([{type:"name",text:s}]),1===t?i:(o&&i.push([{type:"rating",text:o}]),2===t?i:i.slice(0,t))):ic.LZ})({formattedMarker:e,maxLines:t}),n=(0,Cm.renderToStaticMarkup)(u.createElement(eg.S,{labelLines:r})),a=(0,Em.D)(r);return Object.assign(Object.assign({},e),{htmlLabel:Object.assign(Object.assign({content:n},rg),a)})}var ag=r(6365);const ig=(0,Fe.P1)([({state:e})=>(0,pm.W)(e),({state:e})=>e.data.realty.infrastructure,({state:e})=>e.appContext.weak.infrastructureType,({state:e})=>e.appContext.zoom,({state:e})=>e.data.entity.profile,({i18n:{tp:e}})=>e,({config:e})=>e],((e,t,r,n,a,i,s)=>{var o,c;if(!e||!t||!r)return;const l=null===(o=null==t?void 0:t[e])||void 0===o?void 0:o.data;if(!l)return;const d=[],u=[];for(const e in l)for(const t of l[e]){const o=(0,H._J)(t.id),l=null===(c=a[o])||void 0===c?void 0:c.data,p=e===r,m=p&&l?(0,ag.KY)(l,i,{order:"straight",separator:s.addressSeparator})[0]:void 0,h=p&&l?null==l?void 0:l.reviews:void 0,g={source:"infrastructure",type:(0,tg.j)(t.type),searchId:o,name:m,reviews:h,mainInfrastructureType:e},f={key:o,id:o,lonLat:[t.lon,t.lat],type:`${e}_${e===r?"selected":"normal"}`,buildingId:t.geometry_id,data:g},v=p?bh(n):0,y=v?ng({formattedMarker:f,maxLines:v}):f;e===r&&u.push(y),"allInfrastructure"===r&&d.push(y)}return{normal:{markers:d,indexHashMap:d.reduce(((e,t,r)=>(t.id&&(e[t.id]=r),e)),{})},selected:{markers:u,indexHashMap:u.reduce(((e,t,r)=>(t.id&&(e[t.id]=r),e)),{})}}})),sg=(0,Fe.P1)([({state:e})=>e.appContext.weak.hoveredId,ig],((e,t)=>{if(!t)return{normal:ic.Nu,selected:ic.Nu};const r=e&&t.normal.indexHashMap?t.normal.indexHashMap[e]:void 0,n=e&&t.selected.indexHashMap?t.selected.indexHashMap[e]:void 0;return{normal:{hoveredMarkerIndices:void 0!==r?[r]:ic.LZ,hiddenMarkerIndices:ic.LZ},selected:{hoveredMarkerIndices:void 0!==n?[n]:ic.LZ,hiddenMarkerIndices:ic.LZ}}})),og=(0,Fe.P1)([({state:e})=>(0,te.H3)(e),Nm,gh,({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.firmsToFloorIndexMap],((e,t,r,n)=>{if(!t)return function(e,t,r){if(!e||!t||void 0===r)return e;const n={};let a=0;return{markers:e.markers.filter((e=>{const i=(0,H._J)(e.id);return(void 0===t[i]||t[i]===r)&&(n[i]=a,a+=1,!0)})),indexHashMap:n}}(e,n,r&&r.floorIndex)})),cg=e=>{const t=(0,Jn.m)(e);if(t&&"query"===t.searchType&&"catalog"===t.tab)return(0,Bp.rO)({state:e,searchId:(0,xr.QB)(t)}).data},lg=(0,Fe.P1)([og,({state:e})=>cg(e)],((e,t)=>({markersData:e,profile:t}))),dg=(0,Fe.P1)([lg,({state:e})=>e.appContext.zoom],(({profile:e},t)=>{const r=e&&e.searchType===yh.Qt.recovery;return bh(t,e&&e.total,r)}),{compareByFirstArgOnly:!0}),ug=(0,Fe.P1)([og,dg,({state:e})=>e.session.time,({i18n:e})=>e,({is12h:e})=>e],((e,t,r,n,a)=>{if(!e)return;return{markers:function(e){const{markers:t,i18n:r,linesInLabel:n=0,time:a,is12h:i,MarkerLabel:s}=e;return n?t.map((e=>{const t=xm({marker:e,maxLines:n,time:a,tp:r.tp,dateFns:r.dateFns,is12h:i,MarkerLabel:s});return t?Object.assign(Object.assign({},e),{htmlLabel:t}):e})):t}({i18n:n,is12h:a,markers:e.markers,time:r,linesInLabel:t,MarkerLabel:eg.S}),indexHashMap:e.indexHashMap}})),pg=(0,Fe.P1)([({state:e})=>cg(e),og,({state:e})=>"backTo2004"===e.appContext.activeLayer],((e,t,r)=>{if(r)return"backTo2004";const n=e&&e.total;if(n)return n<50?"fewmarkers":"default";if(t){if(t.markers.reduce(((e,t)=>e+(t.data.cluster?t.data.cluster.count:1)),0)<20)return"fewmarkers"}return"default"}));let mg;const hg=(0,Fe.P1)([Nm,ug,({state:e})=>(0,Bp.Aw)({state:e,searchId:(0,te.xl)(e)||""})],((e,t,r)=>(mg&&r&&"loading"===r.meta.status||(mg=e||t),mg))),gg=(0,Fe.P1)([hh,hg,({state:e})=>"backTo2004"===e.appContext.activeLayer],((e,t,r)=>{const n=wh(e,t);return(null==n?void 0:n.id)?vh(n.type,n.entityId,n.lonLat[0],n.lonLat[1],r,Yh,P.yQ.czars):ic.LZ})),fg=(0,Fe.P1)([hg,pg,hh,({state:e})=>e.appContext.weak.hoveredId?(0,y.nM)({state:e,entityId:e.appContext.weak.hoveredId}).data:void 0,({state:e})=>e.appContext.weak.hoveredId,Wh,Gh,sg],((e,t,r,n,a,i,s,o)=>{const c=wh(r,e),l=function(e,t){if(!e||!t)return;const r=t.indexHashMap[(0,H._J)(e)];return"number"==typeof r?[r]:void 0}(null==c?void 0:c.id,e),d=function(e){if(!e)return;const t=[];return e.markers.forEach((r=>{if(bm(r))return t.push(e.indexHashMap[(0,H._J)(r.id)])})),t.length?t:void 0}(e);return{[t]:{hiddenMarkerIndices:l,hoveredMarkerIndices:function(e,t,r){var n;const a=null==r?void 0:r.indexHashMap,i=null==r?void 0:r.markers;if(!e||!a||!i)return;const s=a[e],o=i[s];if(bm(o))return;if("number"==typeof s)return[s];if("branch"===(null==t?void 0:t.type)){const e=null===(n=t.address)||void 0===n?void 0:n.building_id,r=e?a[e]:void 0,s="number"==typeof r?i[r]:void 0;if(bm(s))return;return"number"==typeof r?[r]:void 0}}(a,n,e),activeMarkerIndices:d},realty:i,exchange:s,infrastructureNormal:o.normal,infrastructureSelected:o.selected}}));const vg=(0,Fe.P1)([hg,Am,Um,ch,hh,pg,Zh,qh,ig],((e,t,r,n,a,i,s,o,c)=>{const l={default:[],fewmarkers:[],favorites:[],tUgc:[],realty:[],exchange:[],backTo2004:[],infrastructure:[]},d=wh(a,e);var u,p;return l[i]=e?(u=e.markers,(p=d&&d.id)?u.map((e=>(0,H._J)(e.id)===p?Object.assign(Object.assign({},e),{htmlLabel:void 0}):e)):u):ic.LZ,l.favorites=r?r.markers:t?t.markers:ic.LZ,l.tUgc=n.markers||ic.LZ,l.realty=(null==s?void 0:s.markers)||ic.LZ,l.exchange=(null==o?void 0:o.markers)||ic.LZ,l.infrastructureNormal=(null==c?void 0:c.normal.markers)||ic.LZ,l.infrastructureSelected=(null==c?void 0:c.selected.markers)||ic.LZ,l}));var yg=r(13776),bg=r(36450);const wg={type:"smallbullet",margin:0,safeZone:20,degradation:0},Ig={type:"middlebullet",margin:0,safeZone:24,degradation:0},Eg={type:"bigbullet",margin:0,safeZone:36,degradation:0},Cg={priorityGroups:[Eg,Ig,wg],labelMargin:60},xg={9:{priorityGroups:[Object.assign(Object.assign({},wg),{margin:0,safeZone:0})],labelMargin:30},10:{priorityGroups:[Object.assign(Object.assign({},wg),{margin:0,safeZone:0})],labelMargin:35},11:{priorityGroups:[Object.assign(Object.assign({},Ig),{safeZone:8}),Object.assign(Object.assign({},wg),{safeZone:0})],labelMargin:40},12:{priorityGroups:[Object.assign(Object.assign({},Ig),{safeZone:6}),Object.assign(Object.assign({},wg),{safeZone:0})],labelMargin:45},13:{priorityGroups:[Object.assign(Object.assign({},Ig),{safeZone:2}),Object.assign(Object.assign({},wg),{safeZone:0})],labelMargin:45},14:{priorityGroups:[Object.assign(Object.assign({},Ig),{safeZone:2}),Object.assign(Object.assign({},wg),{safeZone:1})],labelMargin:50},15:{priorityGroups:[Object.assign(Object.assign({},Ig),{safeZone:4}),Object.assign(Object.assign({},wg),{safeZone:2})],labelMargin:55},16:{priorityGroups:[Eg,Ig,wg],labelMargin:60},17:Cg,18:Cg},kg={priorityGroups:[...Pm.qr.map((e=>({type:Lm(e).type,margin:0,safeZone:20,degradation:0}))),{type:"public",margin:0,safeZone:20,degradation:0}],labelMargin:0},_g={9:kg,10:kg,11:kg,12:kg,13:kg,14:kg,15:kg,16:kg,17:kg,18:kg},Og=P.Tq.map((e=>({type:`${e}_normal`,margin:0,safeZone:0,degradation:0}))),Sg={priorityGroups:[...P.Tq.map((e=>({type:`${e}_selected`,margin:0,safeZone:0,degradation:0})))],labelMargin:5},zg={priorityGroups:[...Og],labelMargin:0},Mg={9:Sg,10:Sg,11:Sg,12:Sg,13:Sg,14:Sg,15:Sg,16:Sg,17:Sg,18:Sg},jg={9:zg,10:zg,11:zg,12:zg,13:zg,14:zg,15:zg,16:zg,17:zg,18:zg},Tg={type:"smallbullet",margin:0,safeZone:12,degradation:0},Ng={type:"middlebullet",margin:0,safeZone:20,degradation:0},Pg={type:"bigbullet",margin:0,safeZone:20,degradation:0},Lg={priorityGroups:[Pg,Ng,Tg],labelMargin:0},Fg={9:{priorityGroups:[Object.assign(Object.assign({},Tg),{margin:8,safeZone:0})],labelMargin:25},10:{priorityGroups:[Object.assign(Object.assign({},Tg),{margin:12,safeZone:0})],labelMargin:25},11:{priorityGroups:[Object.assign(Object.assign({},Ng),{margin:14,safeZone:8,degradation:22}),Object.assign(Object.assign({},Tg),{margin:8,safeZone:0})],labelMargin:25},12:{priorityGroups:[Object.assign(Object.assign({},Ng),{margin:14,safeZone:8,degradation:22}),Object.assign(Object.assign({},Tg),{margin:8,safeZone:0})],labelMargin:25},13:{priorityGroups:[Object.assign(Object.assign({},Ng),{margin:4,safeZone:2}),Object.assign(Object.assign({},Tg),{margin:4,safeZone:0})],labelMargin:20},14:{priorityGroups:[Object.assign(Object.assign({},Ng),{safeZone:2}),Object.assign(Object.assign({},Tg),{safeZone:1})],labelMargin:15},15:{priorityGroups:[Object.assign(Object.assign({},Ng),{safeZone:4}),Object.assign(Object.assign({},Tg),{safeZone:2})],labelMargin:10},16:{priorityGroups:[Pg,Ng,Tg],labelMargin:5},17:Lg,18:Lg},Rg={type:"commercial",margin:0,safeZone:0,degradation:78},Hg={type:"smallbullet",margin:0,safeZone:12,degradation:0},Dg={type:"middlebullet",margin:0,safeZone:20,degradation:0},Bg={type:"bigbullet",margin:0,safeZone:20,degradation:0},Ag={priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:52}),Bg,Dg,Hg],labelMargin:0},Vg={9:{priorityGroups:[Object.assign(Object.assign({},Rg),{margin:4,safeZone:4,degradation:0}),Object.assign(Object.assign({},Hg),{margin:0,safeZone:0})],labelMargin:25},10:{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Hg),{margin:0,safeZone:0})],labelMargin:25},11:{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Dg),{safeZone:8}),Object.assign(Object.assign({},Hg),{safeZone:0})],labelMargin:25},12:{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:1,degradation:0}),Object.assign(Object.assign({},Dg),{safeZone:6}),Object.assign(Object.assign({},Hg),{safeZone:0})],labelMargin:25},13:{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:2,degradation:2}),Object.assign(Object.assign({},Dg),{safeZone:2}),Object.assign(Object.assign({},Hg),{safeZone:0})],labelMargin:20},14:{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,margin:0,degradation:6}),Object.assign(Object.assign({},Dg),{safeZone:2}),Object.assign(Object.assign({},Hg),{safeZone:1})],labelMargin:15},15:{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:10,degradation:20}),Object.assign(Object.assign({},Dg),{safeZone:4}),Object.assign(Object.assign({},Hg),{safeZone:2})],labelMargin:10},16:{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:52}),Bg,Dg,Hg],labelMargin:5},17:Ag,18:Ag},Zg=(e,t=16)=>({degradation:0,type:e,margin:t,safeZone:t}),Ug=[Zg("restriction"),Zg("crash"),Zg("roadwork"),Zg("comment"),Zg("other")],$g=[Zg("restriction",5),Zg("crash",5),Zg("roadwork",5),Zg("comment",5),Zg("other",5),...bg.m.map((e=>Zg(e,5)))],Wg={9:{priorityGroups:Ug,labelMargin:0},10:{priorityGroups:Ug,labelMargin:0},11:{priorityGroups:Ug,labelMargin:0},12:{priorityGroups:Ug,labelMargin:0},13:{priorityGroups:Ug,labelMargin:0},14:{priorityGroups:Ug,labelMargin:0},15:{priorityGroups:Ug,labelMargin:0},16:{priorityGroups:$g,labelMargin:0},17:{priorityGroups:$g,labelMargin:0},18:{priorityGroups:$g,labelMargin:0}},qg={priorityGroups:[{type:"grey",margin:0,safeZone:0,degradation:0},{type:"red",margin:0,safeZone:0,degradation:0},{type:"yellow",margin:0,safeZone:0,degradation:0},{type:"green",margin:0,safeZone:0,degradation:0}],labelMargin:0},Gg={9:qg,10:qg,11:qg,12:qg,13:qg,14:qg,15:qg,16:qg,17:qg,18:qg},Qg={default:Vg,backTo2004:Vg,fewmarkers:Object.assign(Object.assign({},Vg),{9:Object.assign(Object.assign({},Vg[9]),{priorityGroups:[Object.assign(Object.assign({},Rg),{margin:4,safeZone:4,degradation:0}),Object.assign(Object.assign({},Dg),{safeZone:4}),Object.assign(Object.assign({},Hg),{margin:0,safeZone:0})]}),10:Object.assign(Object.assign({},Vg[10]),{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Dg),{safeZone:12}),Object.assign(Object.assign({},Hg),{margin:0,safeZone:0})]}),11:Object.assign(Object.assign({},Vg[11]),{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Bg),{safeZone:16}),Object.assign(Object.assign({},Hg),{safeZone:2})]}),12:Object.assign(Object.assign({},Vg[12]),{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Bg),{safeZone:16}),Object.assign(Object.assign({},Hg),{safeZone:2})]}),13:Object.assign(Object.assign({},Vg[13]),{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Bg),{safeZone:0}),Object.assign(Object.assign({},Hg),{safeZone:2})]}),14:Object.assign(Object.assign({},Vg[14]),{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,margin:0}),Object.assign(Object.assign({},Bg),{safeZone:0}),Object.assign(Object.assign({},Hg),{safeZone:2})]}),15:Object.assign(Object.assign({},Vg[15]),{priorityGroups:[Object.assign(Object.assign({},Rg),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Bg),{safeZone:0}),Object.assign(Object.assign({},Hg),{safeZone:2})]})}),tUgc:Wg,favorites:_g,parks:Gg,realty:xg,exchange:Fg,infrastructureSelected:Mg,infrastructureNormal:jg},Kg={marker:{fillColor:"#3389ed",fillOpacity:1,strokeOpacity:1,strokeColor:Te.O.white,strokeWidth:3,width:7},circle:{fillColor:Te.O.blue_028eff,fillOpacity:1,strokeOpacity:.2,strokeColor:Te.O.blue_028eff,strokeWidth:17,width:7}};var Jg=r(67138);const Xg=Math.pow(2,32);function Yg(e,t,r){const n=function(e,t){const r=e*Xg/360,n=Math.sin((i=t,i*Math.PI/180)),a=Math.log((1+n)/(1-n))*Xg/(4*Math.PI);var i;return[r,a]}(e,t),a=rf(r),i=Math.floor((n[0]+Math.pow(2,31))/a),s=Math.floor((n[1]+Math.pow(2,31))/a),o=ef(i,s,r),c=tf(o[0],o[1]),l=ef(i+1,s+1,r);return[c,tf(l[0],l[1])]}function ef(e,t,r){const n=rf(r),a=2147483648;return[e*n-a,t*n-a]}function tf(e,t){const r=360*e/Xg,n=-2*Math.PI/Xg;return[r,90-2*(Math.atan(Math.exp(t*n))/Math.PI*180)]}function rf(e){return Math.pow(2,32-e)}function nf(e){const t=6378137,r=Math.PI/180,n=85.0511287798,a=Math.max(Math.min(n,e.lat),-n),i=Math.sin(a*r),s=t*e.lon*r,o=t*Math.log((1+i)/(1-i))/2,c=2.495320233665337*Math.pow(10,-8);return{lat:256*(c*s+.5),lon:256*(c*o+.5)}}function af(e,t){const r=Math.min(e.lat,t.lat),n=Math.min(e.lon,t.lon);return[Math.max(e.lat,t.lat)-r,Math.max(e.lon,t.lon)-n]}const sf="#5d86dd",of=(0,Fe.P1)([e=>e.session.godmode,e=>(0,te.C8)(e),e=>e.session.screen,Jn.m],((e,t,r,n)=>{if(!e)return ic.LZ;if(!(0,X.z)("mapDebugMode")||!t||200!==t.code||!n||"query"!==n.searchType)return ic.LZ;const a=(0,Jg.v)(n),i=function(e,t,r,n){const a=af(e,t);if(0===a[0]||0===a[1])return 23;const i=af(nf(e),nf(t));if(0===i[0]||0===i[1])return 23;const s=r/i[0],o=n/i[1],c=Math.min(s,o),l=Math.log(c)/Math.log(2),d=Math.round(l)+3;return Math.max(3,Math.min(23,d))}(a[0],a[1],r.width,r.height);return t.items.map((e=>{const{lon:t,lat:r}=e,[n,a]=Yg(t,r,i);return{type:"polyline",points:[n,[a[0],n[1]],a,[n[0],a[1]],n],clickable:!1,style:{fillOpacity:.4,strokeOpacity:1,fillColor:sf,strokeColor:sf,width:2,strokeWidth:0}}}))})),cf=(0,Fe.P1)([e=>e.session.godmode,te.H3],((e,t)=>{if(!e)return ic.LZ;return(0,X.z)("mapDebugMode")&&t?t.markers.map((e=>({type:"circleMarker",position:e.lonLat,radius:3,clickable:!1,style:{fillColor:"#ffffff",strokeColor:"#dd8a26",strokeWidth:1}}))):ic.LZ})),lf=(0,Fe.P1)([of,cf],((e,t)=>[...e,...t]));var df=r(77219),uf=r(27780),pf=r(98326);function mf(e){if(!e)return;return[...e].reverse().reduce(((e,t)=>{const r=t.geometry;return"MultiPolygon"!==r.type||e.push(Object.assign(Object.assign({},t.properties),{coordinates:r.coordinates.map((e=>e.map((e=>function(e){let t=[0,0];return e.map((([e,r])=>{const[n,a]=t,i=[Number((n+e).toFixed(5)),Number((a+r).toFixed(5))];return t=i,i}))}(e)))))})),e}),[])}const hf=[],gf="#959faa",ff="#ffffff",vf=[["interpolate",["linear"],["zoom"],10,"#ff563180",12,"#ff563166",13,"#ff56314d",15,"#ff563133"],["interpolate",["linear"],["zoom"],10,"#ffd46c80",12,"#ffd46c66",13,"#ffd46c4d",15,"#ffd46c33"],["interpolate",["linear"],["zoom"],10,"#7fcd3380",12,"#7fcd3366",13,"#7fcd334d",15,"#7fcd3333"],["interpolate",["linear"],["zoom"],10,"#0c780580",12,"#0c780566",13,"#0c78054d",15,"#0c780533"]],yf=(0,Fe.P1)([e=>e.session.geolocation.allowed,e=>e.session.geolocation.position,e=>e.session.geolocation.accuracy],((e,t,r)=>{if(!e||!t)return hf;const n=[];return r&&n.push({type:"circleMarker",radius:Kg.circle.width||0,position:[t.lon,t.lat],clickable:!1,style:Kg.circle}),n.push({type:"circleMarker",radius:Kg.marker.width||0,position:[t.lon,t.lat],clickable:!0,style:Kg.marker}),n}));const bf=(0,Fe.P1)([function(e){const t=(0,xr.Fq)(e.appContext.frames);if(!t)return;const r=t.routeId||t.entityId;return(0,y.nM)({state:e,entityId:r}).data},e=>Op(e.appContext.zoom),function(e){const t=(0,xr.Fq)(e.appContext.frames);return t?t.activeDirectionId:void 0}],((e,t,r)=>{let n=[];if(!e)return hf;const a="route"===e.type?e:(0,df.t)(e)&&"metro"===e.subtype&&e.routes?e.routes[0]:void 0;if(!a)return hf;const i="route"===e.type?a.route_logo:(0,df.t)(e)&&"metro"===e.subtype?e.route_logo:void 0,s=!!(0,uf.Z)(i),o=a.directions;if(!o||!o.length)return hf;const c=r||o[0].id,l=a.color||"#5d86dd";let d=[];return o.forEach((e=>{const r=e.id===c,a=function(e,t,r,n){if(!e.geometry.selection)return;const a=(0,yg.h_)(e.geometry.selection);if(!a)return;const i=[],s=n?ff:r||gf,o=a.map((e=>[e.lon,e.lat]));return i.push({type:"polyline",points:o,clickable:!0,eventData:{id:e.id},style:{fillColor:s,strokeColor:n?r:ff,strokeOpacity:1,width:6,strokeWidth:2}}),e.platforms.forEach(((a,o)=>{if(!(r&&t||0===o||o===e.platforms.length-1))return;if(!a.geometry.centroid)return;const c=(0,yg.rx)(a.geometry.centroid);c&&i.push({type:"circleMarker",clickable:!0,radius:0===o||o===e.platforms.length-1?n?8:7:n?6:5,position:[c.lon,c.lat],style:{fillColor:ff,strokeColor:n?r:s,strokeOpacity:1,strokeWidth:2},eventData:{type:"routePlatformPoint",id:a.id,name:a.name}})})),i}(e,t,r?l:void 0,s);a&&(r?d=a:n=[...n,...a])})),[...n,...d]}));const wf=(0,Fe.P1)([pf.z,h.kL,wc.j],((e,t,r)=>{var n;if(!t||"realtyWalkDistance"!==r)return hf;const a=mf(null===(n=e[t.id])||void 0===n?void 0:n.data);return a?a.reduce(((e,t,r)=>(t.coordinates.forEach((t=>{e.push({type:"polygon",points:t,style:{fillColor:vf[r],strokeWidth:0},clickable:!1})})),e)),[]):hf}));const If=(0,Fe.P1)([bf,yf,lf,wf],((e,t,r,n)=>{const a=[...e,...t,...r,...n];return a.length?a:hf}));var Ef=r(56199),Cf=r(88869),xf=r(22108),kf=r(22816);const _f=(e,t)=>"pedestrian"!==e?function(e){switch(e){case"fast":case"normal":case"slow":case"slow-jams":case"no-traffic":return e;default:return"ignore"}}(null==t?void 0:t.color):"zlevel-negative"===(null==t?void 0:t.zlevel)?"pedestrian-underground":"pedestrian";var Of=r(12799),Sf=r(18881);var zf=r(39484),Mf=r(46518);const jf=e=>{const{position:t,isCyrillicLang:r,isStartPoint:a,isFinishPoint:i}=e;if(a){return{size:[22,22],offset:[11,11],img:`${(0,n.s)()}directions/pointA.svg`}}if(i){return{size:[22,22],offset:[11,11],img:r?`${(0,n.s)()}directions/pointB.svg`:`${(0,n.s)()}directions/pointBLatin.svg`}}const s={size:[22,22],offset:[11,11],img:`${(0,n.s)()}directions/pointIntermediate.svg`},o=["pointIntermediate","pointIntermediateOne","pointIntermediateTwo","pointIntermediateThree","pointIntermediateFour","pointIntermediateFive","pointIntermediateSix","pointIntermediateSeven","pointIntermediateEight","pointIntermediateNine","pointIntermediateTen"];return Object.assign(Object.assign({},s),{img:`${(0,n.s)()}directions/${t>0&&t<=10?o[t]:o[0]}.svg`})};var Tf=r(53849);const Nf=e=>"direction"===e.type;(0,Tf.F)(Nf);const Pf={ppna:void 0,ppnot:void 0},Lf=(0,Fe.P1)([e=>{const{state:t}=e,r=(0,Si.SI)(t);return r?r.tab:P.QZ},e=>{const{state:t}=e,r=(0,Si.SI)(t);return r?r.points:void 0},e=>{const{state:t}=e,r=(0,Si.SI)(t);return r?r.activeDirectionId:void 0},e=>{const{state:t}=e,r=(0,Si.SI)(t);return r?(0,Ef.cx)({state:t,searchId:(0,Cf.r)(r)||""}):void 0},e=>{const{isCyrillicLang:t}=e;return!!t}],((e,t,r,n,a)=>{const i=t&&function(e,t,r){const n=(0,zf.n)(e,t);if(!n.length)return;return n.map(((e,t)=>!(0,xf.j)(e)&&(0,H.$K)(e.lonLat)?{position:[e.lonLat.lon,e.lonLat.lat],icon:jf({position:t,isCyrillicLang:r,isFinishPoint:t===n.length-1,isStartPoint:0===t})}:void 0))}(t,e,a);if(!i||i.every((e=>!(0,H.$K)(e))))return Pf;if(!n||!n.data||"success"!==n.meta.status){const t={points:i,routes:[]},r="loading"===(null==n?void 0:n.meta.status)||void 0;switch(e){case"bus":return{ppnot:t,isRoutesLoading:r};case"car":case"pedestrian":default:return{ppna:t,isRoutesLoading:r}}}const{data:s}=n;switch(s.type){case"ppna":case"ppng":case"pedestrian":return{ppna:Object.assign({points:i},Rf(s.type,s.items,r))};case"ppnot":return{ppnot:Object.assign({points:i},Hf(s.items,r))}}})),Ff=(0,Fe.P1)([e=>{const{state:t}=e;return t.appContext.weak.hoveredDirection},Lf,e=>{var t;return null===(t=function(e){const t=(0,xr.t0)(e.appContext.frames,"direction");return t&&Nf(t)?t:void 0}(e.state))||void 0===t?void 0:t.directionId}],((e,t,r)=>t.ppnot?Object.assign(Object.assign({},t),{ppnot:Object.assign(Object.assign(Object.assign({},t.ppnot),e),{routes:r?t.ppnot.routes.filter((e=>e.id===r)):t.ppnot.routes})}):t));function Rf(e,t,r){const n=[],a=(0,Of.q)(r,t);return t.forEach((t=>{const r={id:t.id,sections:[]};t.begin_pedestrian_path&&r.sections.push({type:"pedestrian",geometry:t.begin_pedestrian_path.geometry.selection}),(t.maneuvers||[]).forEach((t=>{const n=t.outcoming_path&&t.outcoming_path.geometry;n&&n.forEach((t=>{r.sections.push({type:_f(e,t),geometry:t.selection})}))})),t.end_pedestrian_path&&r.sections.push({type:"pedestrian",geometry:t.end_pedestrian_path.geometry.selection}),n.push(r)})),{routes:n,activeRouteId:a}}function Hf(e,t){const r=[],n=(0,Of.q)(t,e);return e.forEach((e=>{const t={id:e.id,movements:[]};e.movements.forEach((e=>{const r=e.alternatives?e.alternatives[0].geometry:[],n=function(e){return!!e&&!!(0,uf.Z)(e.waypoint.route_logo)}(e);r.forEach((r=>{const a=-1===r.z_first,i=(0,kf.N)(e,n,a);t.movements.push(Object.assign({id:e.id,type:a?"pedestrian-underground":e.type,waypointType:Df(e.waypoint.subtype),geometry:[r.selection],waypointColor:(0,Sf.A)(e),lineColor:i,hoveredLineColor:n?i:(0,Mf.X)(i,.5)},n&&e.waypoint.color?{borderColor:e.waypoint.color,hoveredBorderColor:(0,Mf.X)(e.waypoint.color,.7)}:void 0))}))})),r.push(t)})),{routes:r,activeRouteId:n}}function Df(e){return"mcc"===e||"mcd"===e?"metro":e}var Bf=r(60985);const Af=(0,Fe.P1)([e=>e.appContext.showTrafficOnMap],(e=>e?{}:void 0)),Vf=(0,Fe.P1)([({config:e})=>e,({state:e})=>!!Af(e),({state:e,config:t})=>{const{ppnot:r,ppna:n,isRoutesLoading:a}=Ff({state:e,isCyrillicLang:t.isCyrillicLang});return!(!(null==r?void 0:r.routes.length)&&!(null==n?void 0:n.routes.length))||a},({state:e})=>e.appContext.activeLayer,({state:e})=>!!e.appContext.activeSublayer,({state:e})=>(0,h.kL)(e)],((e,t,r,n,a,i)=>{let s;return a?s=e.grayMapStyleId:"realty"===n&&e.realtyMapStyleId?s=e.realtyMapStyleId:"metro"===n?s="4bf19781-6fa2-4a43-8386-db596f51db8d":"backTo2004"===n?s="9e75a94c-36f7-4254-8101-90139ead38ad":"roadAccident"===n?s="fd6c509e-855c-4b40-b8b6-b90945c95d55":e.customMapStyleId&&(s=e.customMapStyleId),{id:s,globalAttributes:Object.assign({trafficOn:t||r||!1,parkingOn:"parkings"===n},(null==i?void 0:i.id)===ic.oV?{jurisdiction:e.defaultCountryCode.toLowerCase()}:{})}})),Zf=(0,Fe.HP)((e=>e.rasterTileServerUrl?{tilesUrl:([t,r,n])=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${r}&z=${n}&ts=realty_resident_rent`,opacity:["interpolate",["linear"],["zoom"],2,.7,10,.6,13,.5,16,.3,18,.15],minZoom:2,maxZoom:15,maxDisplayZoom:20}:void 0)),Uf=(0,Fe.HP)((e=>e.rasterTileServerUrl?{tilesUrl:([t,r,n])=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${r}&z=${n}&ts=realty_resident_sale`,opacity:["interpolate",["linear"],["zoom"],2,.7,10,.6,13,.5,16,.3,18,.15],minZoom:2,maxZoom:15,maxDisplayZoom:20}:void 0));const $f={fast:"#22aa01",normal:"#ffc402",slow:"#f72000","slow-jams":"#81020d","no-traffic":"#0f6ec1",ignore:"#0f6ec1",pedestrian:"#626262","pedestrian-underground":"#626262",inactive:"#b4bcd2",border:"#ffffff",border2:(0,Mf.X)("#141414",1),hovered:"#000000"},Wf=({base:e,pedestrian:t,inactive:r})=>({normal:e,fast:e,ignore:e,"no-traffic":e,slow:e,"slow-jams":e,pedestrian:t,"pedestrian-underground":t,inactive:r}),qf=(e,t)=>({color:t[e],hoveredColor:t.hovered,borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),Gf=(e=>({lineStylesByZoom:{14:Wf({base:{width:5.73,borderWidth:3,border2Width:.5},pedestrian:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5}}),20:Wf({base:{width:10.5,borderWidth:5.5,border2Width:.8},pedestrian:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5}})},lineStyles:{normal:qf("normal",e),fast:qf("fast",e),ignore:qf("ignore",e),"no-traffic":qf("no-traffic",e),slow:qf("slow",e),"slow-jams":qf("slow-jams",e),pedestrian:qf("pedestrian",e),"pedestrian-underground":qf("pedestrian-underground",e),inactive:qf("inactive",e)}}))($f),Qf=(0,Fe.P1)([({config:e})=>e],(()=>Gf));var Kf=r(46184);const Jf=(0,Kf.E)(Kf.S),Xf=(0,Fe.P1)([({config:e})=>e],(()=>Jf)),Yf=()=>{const e=(0,n.s)();return{icons:{smallbullet:{normal:{img:`${e}markers/smallbullet.svg`,size:[14,14],offset:[.5,.5]},hover:{img:`${e}markers/smallbullet_hover.svg`,size:[16,16],offset:[.43,.43]}},middlebullet:{normal:{img:`${e}markers/middlebullet.svg`,size:[22,22],offset:[.5,.5]},hover:{img:`${e}markers/middlebullet_hover.svg`,size:[26,26],offset:[.42,.42]}},bigbullet:{normal:{img:`${e}markers/bigbullet.svg`,size:[24,24],offset:[.5,.5]},hover:{img:`${e}markers/bigbullet_hover.svg`,size:[28,28],offset:[.43,.43]}}},zIndex:P.yQ.default}},ev=()=>{const e=Pm.qr.reduce(((e,t)=>(e[Lm(t).type]={normal:{img:Lm(t).svgPath,size:[16,16],offset:[.5,.5]}},e)),{});return{icons:Object.assign(Object.assign({},e),{personal:{normal:{img:`${(0,n.s)()}markers/fav-personal.svg`,size:[16,16],offset:[.5,.5]}},public:{normal:{img:`${(0,n.s)()}markers/fav-public.svg`,size:[16,16],offset:[.5,.5]}},home:{normal:{img:`${(0,n.s)()}markers/fav-home.svg`,size:[16,16],offset:[.5,.5]}},work:{normal:{img:`${(0,n.s)()}markers/fav-work.svg`,size:[16,16],offset:[.5,.5]}}}),zIndex:P.yQ.favorites}},tv=()=>{const e=(0,n.s)(),t=P.Tq.reduce(((t,r)=>(t[`${r}_normal`]={normal:{img:`${e}markers/infrastructure/normal/${r}_marker.svg`,size:[24,24],offset:[.5,.5]}},t)),{});return{icons:Object.assign({},t),zIndex:P.yQ.default}},rv=()=>{const e=(0,n.s)(),t=P.Tq.reduce(((t,r)=>(t[`${r}_selected`]={normal:{img:`${e}markers/infrastructure/selected/${r}_marker.svg`,size:[36,36],offset:[.5,.5]}},t)),{});return{icons:Object.assign({},t),zIndex:P.yQ.favorites}},nv=36,av=()=>{const e={icons:{smallbullet:{normal:{img:`${(0,n.s)()}markers/smallbullet.svg`,size:[14,14],offset:[.5,.5]},hover:{img:`${(0,n.s)()}markers/smallbullet_hover.svg`,size:[16,16],offset:[.43,.43]},active:{img:`${(0,n.s)()}markers/smallbullet_closed.svg`,size:[14,14],offset:[.5,.5]}},middlebullet:{normal:{img:`${(0,n.s)()}markers/middlebullet.svg`,size:[22,22],offset:[.5,.5]},hover:{img:`${(0,n.s)()}markers/middlebullet_hover.svg`,size:[26,26],offset:[.42,.42]},active:{img:`${(0,n.s)()}markers/middlebullet_closed.svg`,size:[22,22],offset:[.5,.5]}},bigbullet:{normal:{img:`${(0,n.s)()}markers/bigbullet.svg`,size:[24,24],offset:[.5,.5]},hover:{img:`${(0,n.s)()}markers/bigbullet_hover.svg`,size:[28,28],offset:[.43,.43]},active:{img:`${(0,n.s)()}markers/bigbullet_closed.svg`,size:[24,24],offset:[.5,.5]}},commercial:{normal:{img:`${(0,n.s)()}markers/commercial.svg`,size:[nv,nv],offset:[.5,.5]},hover:{img:`${(0,n.s)()}markers/commercial_hover.svg`,size:[40,40],offset:[.45,.425]},active:{img:`${(0,n.s)()}markers/commercial_closed.svg`,size:[nv,nv],offset:[.5,.5]}}},zIndex:P.yQ.default};return{default:e,fewmarkers:e,tUgc:{icons:Object.assign(Object.assign({},bg.m.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:{normal:{img:`${(0,n.s)()}markers/tUgc-${t}.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,n.s)()}markers/tUgc-${t}.svg`,size:[40,40],offset:[.5,1]}}})),{})),{crash:{normal:{img:`${(0,n.s)()}markers/tUgc-crash.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,n.s)()}markers/tUgc-crash.svg`,size:[40,40],offset:[.5,1]}},roadwork:{normal:{img:`${(0,n.s)()}markers/tUgc-roadwork.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,n.s)()}markers/tUgc-roadwork.svg`,size:[40,40],offset:[.5,1]}},restriction:{normal:{img:`${(0,n.s)()}markers/tUgc-restriction.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,n.s)()}markers/tUgc-restriction.svg`,size:[40,40],offset:[.5,1]}},comment:{normal:{img:`${(0,n.s)()}markers/tUgc-comment.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,n.s)()}markers/tUgc-comment.svg`,size:[40,40],offset:[.5,1]}},other:{normal:{img:`${(0,n.s)()}markers/tUgc-other.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,n.s)()}markers/tUgc-other.svg`,size:[40,40],offset:[.5,1]}}}),zIndex:P.yQ.tUgc},favorites:ev(),realty:Th(),exchange:Yf(),infrastructureNormal:tv(),infrastructureSelected:rv(),backTo2004:{zIndex:P.yQ.default,icons:{smallbullet:{normal:{img:`${(0,n.s)()}markers/2004/smallbullet.svg`,size:[14,14],offset:[.5,.5]},hover:{img:`${(0,n.s)()}markers/2004/smallbullet_hover.svg`,size:[16,16],offset:[.43,.43]},active:{img:`${(0,n.s)()}markers/2004/smallbullet_closed.svg`,size:[14,14],offset:[.5,.5]}},middlebullet:{normal:{img:`${(0,n.s)()}markers/2004/middlebullet.svg`,size:[22,22],offset:[.5,.5]},hover:{img:`${(0,n.s)()}markers/2004/middlebullet_hover.svg`,size:[26,26],offset:[.42,.42]},active:{img:`${(0,n.s)()}markers/2004/middlebullet_closed.svg`,size:[22,22],offset:[.5,.5]}},bigbullet:{normal:{img:`${(0,n.s)()}markers/2004/bigbullet.svg`,size:[24,24],offset:[.5,.5]},hover:{img:`${(0,n.s)()}markers/2004/bigbullet_hover.svg`,size:[28,28],offset:[.43,.43]},active:{img:`${(0,n.s)()}markers/2004/bigbullet_closed.svg`,size:[24,24],offset:[.5,.5]}},commercial:{normal:{img:`${(0,n.s)()}markers/2004/commercial.svg`,size:[nv,nv],offset:[.5,.5]},hover:{img:`${(0,n.s)()}markers/2004/commercial_hover.svg`,size:[40,40],offset:[.45,.425]},active:{img:`${(0,n.s)()}markers/2004/commercial_closed.svg`,size:[nv,nv],offset:[.5,.5]}}}}}},iv=(0,Fe.P1)([({config:e})=>e],(()=>({styles:av(),generalization:Qg}))),sv=["ru","en","az","uk","uz"],ov=(0,Fe.HP)((e=>[e])),cv=(0,Fe.P1)([({state:e})=>e.config.isMobileDevice?0:(0,Oa.w)(e),({rtl:e})=>e],((e,t)=>({[t?"right":"left"]:e}))),lv=(0,Fe.P1)([({state:e})=>e.appContext.center.lon,({state:e})=>e.appContext.center.lat],((e,t)=>[e,t])),dv=(0,Bf.zB)({viewport:cv,center:lv,zoom:({state:e})=>e.appContext.zoom,pitch:({state:e})=>e.appContext.pitch,rotation:({state:e})=>e.appContext.rotation,minZoom:({state:e})=>(0,Fa.d)({project:(0,h.kL)(e),is3d:e.session.is3dEnabled}).min,maxZoom:({state:e})=>(0,Fa.d)({project:(0,h.kL)(e),is3d:e.session.is3dEnabled}).max,lang:({state:e})=>{const t=e.appContext.lang;return sv.includes(t)?t:"en"},projectList:({state:e})=>{const t=(0,h.kL)(e);return ov(t)},htmlMarkers:gg,markers:vg,markersState:fg,markersSettings:iv,floors:gh,select:hm,personalPoi:({state:e})=>(0,te.sH)(e),geometry:({state:e})=>If(e),entrances:({state:e})=>function(e){const t=e.appContext.frames.find((e=>"entity"===e.type)),r=e.appContext.frames.find(um.yb);if(!t||!r){if(t&&"entity"===t.type&&t.isShowEntrance)return(0,De._f)({state:e,entityId:t.entityId,entranceId:t.entranceId,searchId:t.searchId});if(r&&r.isShowEntrance){const t=(0,pm.W)(e);if(!t)return;return(0,De._f)({state:e,entityId:t,entranceId:r.entranceId})}}}(e),traffic:({state:e})=>Af(e),ppna:({state:e,isCyrillicLang:t})=>{var r;return null===(r=Ff({state:e,isCyrillicLang:t}))||void 0===r?void 0:r.ppna},ppnaSettings:({state:e,config:t})=>Qf({state:e,config:t}),ppnot:({state:e,isCyrillicLang:t})=>{var r;return null===(r=Ff({state:e,isCyrillicLang:t}))||void 0===r?void 0:r.ppnot},ppnotSettings:({state:e,config:t})=>Xf({state:e,config:t}),ruler:({state:e})=>e.appContext.ruler.isActive?e.appContext.ruler:void 0,style:({state:e,config:t})=>Vf({state:e,config:t}),photos:({state:e})=>"photos"===e.appContext.activeLayer,rasterLayer:function({state:e,config:t}){switch(e.appContext.activeSublayer){case"realtyPriceRent":return Zf(t);case"realtyPriceSale":return Uf(t);default:return}}});var uv=r(69190);const pv=(0,tc.createModel)("etaByViewport",(({services:e},t)=>({fetch(){return(0,ec.mG)(this,void 0,void 0,(function*(){return(yield e.etaApi.getData(t)).data}))}})),(({fetch:e})=>{e();const t=setInterval((()=>{e()}),15e3);return({clearData:e})=>{clearInterval(t),e()}})),mv=(0,tc.createModel)("etaByDirections",(({services:e},t)=>({fetch(){return(0,ec.mG)(this,void 0,void 0,(function*(){return(yield e.etaApi.getCurrentDirectionsData(t)).data}))}})),(({fetch:e})=>{e();const t=setInterval((()=>{e()}),15e3);return({clearData:e})=>{clearInterval(t),e()}}));const hv={arrowIcon:(0,Cm.renderToStaticMarkup)(u.createElement((function({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"34",viewBox:"0 0 28 34"},u.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},u.createElement("g",{fill:e,fillRule:"nonzero",stroke:"#FFF",strokeWidth:"1.5",transform:"translate(-388 -169)"},u.createElement("g",{transform:"matrix(1 0 0 -1 389 202)"},u.createElement("path",{d:"M13 0c7.18 0 13 5.82 13 13a13 13 0 01-7.053 11.563L13 31.5l-5.946-6.937A13 13 0 010 13C0 5.82 5.82 0 13 0z"})))))}),null)),transport:{bus:{icon:(0,Cm.renderToStaticMarkup)(u.createElement((function({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},u.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},u.createElement("g",{fillRule:"nonzero"},u.createElement("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),u.createElement("path",{fill:"#FFF",d:"M13 5.638c3.259 0 5.703.873 5.703.873v3.118h1.14v3.243l-1.14.815v5.864H17.56c-.45 0-.814-.691-.814-1.14H9.253c0 .449-.365 1.14-.814 1.14H7.297v-5.864l-1.14-.815V9.629h1.14V6.511S9.741 5.638 13 5.638zm3.136 9.351a.856.856 0 100 1.711.856.856 0 000-1.71zm-6.272 0a.856.856 0 100 1.711.856.856 0 000-1.71zm7.127-6.5H9.01v4.562c0 .44.357.798.798.798h6.386c.44 0 .798-.358.798-.798V8.489z"}))))}),null)),color:"#436ABD"},tram:{icon:(0,Cm.renderToStaticMarkup)(u.createElement((function({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},u.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},u.createElement("g",{fillRule:"nonzero"},u.createElement("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),u.createElement("path",{fill:"#FFF",d:"M9.562 19.521l-.83 1.662H7.07l.83-1.662h1.662zm8.309 0l.83 1.662H17.04l-.831-1.662h1.662zM9.457 4.031a20.176 20.176 0 016.37-.078l.492.078-.011.064h.01l-.53 3.035c1.274.19 2.224.455 2.656.588l.257.084V17.86l-5.815 1.661L7.07 17.86V7.802l.258-.084a18.412 18.412 0 012.66-.588l-.53-3.034.01-.001-.01-.064zm6.752 11.336a.831.831 0 100 1.662.831.831 0 000-1.662zm-6.647 0a.831.831 0 100 1.662.831.831 0 000-1.662zm7.478-5.816H8.73v3.324c0 .426.321.777.734.825l.097.006h6.647c.426 0 .777-.321.825-.734l.006-.097V9.55zm-4.154-4.568c-.652 0-1.304.034-1.958.102l.39 1.892a19.312 19.312 0 013.14 0l.39-1.892a18.836 18.836 0 00-1.962-.102z"}))))}),null)),color:"#EB5A2B"},shuttle_bus:{icon:(0,Cm.renderToStaticMarkup)(u.createElement((function({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},u.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},u.createElement("g",{fillRule:"nonzero"},u.createElement("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),u.createElement("path",{fill:"#FFF",d:"M15.566 5.158l.603 1.89c1.158.237 1.962.504 1.962.504l.502 3.421h1.21v1.71l-.856.856v5.987h-1.71a.855.855 0 01-.856-.855H9.579a.855.855 0 01-.855.855h-1.71v-5.987l-.856-.855v-1.71h1.218l.492-3.422s.804-.267 1.963-.503l.603-1.891h5.132zm.855 10.092a.855.855 0 100 1.71.855.855 0 000-1.71zm-6.842 0a.855.855 0 100 1.71.855.855 0 000-1.71zm3.42-6.842c-1.338 0-2.706.27-3.596.49l-.546 3.786h8.299L16.6 8.899c-.89-.22-2.26-.491-3.601-.491zm1.712-1.96h-.684v.685h.684V6.45zm-2.737 0h-.684v.685h.684V6.45zm1.368 0h-.684v.685h.684V6.45zm.685-.683h-.685v.684h.685v-.684zm-1.369 0h-.684v.684h.684v-.684z"}))))}),null)),color:"#883C7A"},trolleybus:{icon:(0,Cm.renderToStaticMarkup)(u.createElement((function({color:e="currentColor"}){return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},u.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},u.createElement("g",{fillRule:"nonzero"},u.createElement("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),u.createElement("path",{fill:"#FFF",d:"M12.247 3.446v2.585a19.556 19.556 0 011.917.01l.649-2.595h.855v2.732c2.061.264 3.421.75 3.421.75v3.36h.856v2.566l-.856.855v5.987h-.855a.856.856 0 01-.855-.855H8.826a.856.856 0 01-.855.855h-.855v-5.987l-.856-.855v-2.566h.855v-3.36s1.44-.514 3.599-.772l.678-2.71h.855zM9.681 15.42a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm6.842 0a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm.856-5.987H8.826v3.42c0 .473.383.856.855.856h6.842a.856.856 0 00.856-.855V9.433z"}))))}),null)),color:"#70AA35"}}};var gv=r(22584);const fv=(0,Fe.P1)([e=>(0,xr.t0)(e.appContext.frames,"directions")],(e=>{if(e&&(0,Si.B7)(e))return(0,Cf.r)(e)})),vv=(0,Fe.P1)([e=>{var t,r;return null===(r=null===(t=(0,Ef.cx)({state:e,searchId:fv(e)||""}))||void 0===t?void 0:t.data)||void 0===r?void 0:r.items},e=>(0,xr.t0)(e.appContext.frames,"directions")],((e,t)=>!t||"directions"!==t.type&&"bus"!==t.tab?ic.LZ:e||ic.LZ)),yv=e=>{var t;const{ppnotDirection:r}=e;if(!(null===(t=null==r?void 0:r.movements)||void 0===t?void 0:t.length))return ic.LZ;const n=r.movements.reduce(((e,t)=>{var r;if(t){const n=t.routes_groups?t.routes_groups[0]:void 0;null===(r=null==n?void 0:n.routes)||void 0===r||r.map((t=>{var r;(null===(r=null==t?void 0:t.direction_ids)||void 0===r?void 0:r.length)&&e.push(...t.direction_ids)}))}return e}),[]),a=(0,gv.m)(n,(e=>e));return a.length?a:ic.LZ};function bv(){const e=function(){const e=(0,Ie.v9)((e=>{var t;const r=null===(t=(0,xr.t0)(e.appContext.frames,"entity"))||void 0===t?void 0:t.entityId,n=r?(0,y.nM)({state:e,entityId:r}).data:void 0;return"route"===(null==n?void 0:n.type)?n:void 0}));return(0,u.useMemo)((()=>{var t;return(null===(t=null==e?void 0:e.directions)||void 0===t?void 0:t.map((({id:e})=>e)))||ic.LZ}),[null==e?void 0:e.directions])}(),t=function(){var e;const t=(0,Ie.v9)((e=>{const t=(0,xr.t0)(e.appContext.frames,"directions");if(t&&"bus"===t.tab)return t.activeDirectionId})),r=(0,Ie.v9)(vv),n=t||(null===(e=r[0])||void 0===e?void 0:e.id),a=(0,u.useMemo)((()=>r.find((e=>e.id===n))),[n,r]);return(0,hr.Gb)(yv,{ppnotDirection:a})}(),r=function(){const e=(0,Ie.v9)((e=>{var t;const r=null===(t=(0,xr.t0)(e.appContext.frames,"entity"))||void 0===t?void 0:t.entityId,n=r?(0,y.nM)({state:e,entityId:r}).data:void 0;if(n&&(0,df.t)(n)&&"stop"===(null==n?void 0:n.subtype))return n}));return(0,u.useMemo)((()=>{var t;return(null===(t=null==e?void 0:e.routes)||void 0===t?void 0:t.reduce(((e,t)=>e.concat(((null==t?void 0:t.direction_ids)||ic.LZ).map((e=>null==e?void 0:e.toString())))),[]))||ic.LZ}),[null==e?void 0:e.routes])}();return e.length?e:t.length?t:r.length?r:ic.LZ}function wv(){const e=(0,Ie.v9)(te.Id),t=(0,Ie.v9)((e=>e.appContext.zoom)),r=(0,Ie.v9)((e=>"eta"===e.appContext.activeLayer)),n=bv();let a;(function({delay:e}={}){const[t,r]=(0,u.useState)("undefined"==typeof window||!document.hidden);return(0,u.useEffect)((()=>{let t;const n=void 0!==e?()=>{document.hidden?t=setTimeout((()=>{t=void 0,r(!1)}),1e4):t?clearTimeout(t):r(!0)}:()=>{r(!document.hidden)};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}}),[e]),t})({delay:1e4})&&(n.length?a=mv({directions:n}):r&&(a=pv({viewport:e,zoom:t})));const i=(0,Yo.tT)(a);return(0,u.useMemo)((()=>i.data?{devices:i.data.devices,styles:hv}:void 0),[i])}var Iv=r(88522),Ev=r(32148),Cv=r(47525);const xv=3e5,kv=(0,u.memo)((e=>{const{mapHandlers:t,bssRef:r,trackWebGlSupport:n,trackVideoadapter:a,subscribeOnMapClick:i,removeListener:s}=e,o=(0,Ko.Z)(),{isCyrillicLang:c,rtl:l,currencies:d,is12h:p}=o,m=(0,u.useContext)(uv.f),h=(0,Iv.b)(),g=(0,Cv.M)({staleTime:6e5,cacheTime:18e5,refetchInterval:xv,refetchOnWindowFocus:!0}),f=(0,u.useMemo)((()=>e=>"undefined"!=typeof window?dv({state:e,i18n:m,isCyrillicLang:c,rtl:l,currencies:d,is12h:p,config:o,exchangeMarkersState:h,tUgcMarkersState:g}):{}),[h,g]),y=(0,Ie.v9)(f),b=(0,Ie.v9)((e=>e.session.is3dEnabled)),w=(0,u.useMemo)((()=>(e=>({mapsapi:{tileServer:e.mapsapiTileServer+"&ts="+e.mapsapiTileset,retinaTileServer:e.mapsapiTileServer+"&ts="+e.mapsapiRetinaTileset,previewTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiTileset,previewRetinaTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiRetinaTileset},jakarta:{zmkTileServer:e.jakartaZmkTileServer,photoTileServer:e.photoTileServer,tileServer:""!==e.jakartaTileServer?e.jakartaTileServer:void 0,tileProtocol:""!==e.jakartaTileProtocol?e.jakartaTileProtocol:void 0,tileSet:""!==e.jakartaTileSet?e.jakartaTileSet:void 0,key:""!==e.jakartaVectorTilesKey?e.jakartaVectorTilesKey:void 0,floorsUrl:""!==e.jakartaFloorsUrl?e.jakartaFloorsUrl:void 0,hasLimitedFunctionality:e.featureReadOnly},godmode:e.godmode}))(o)),[]),[I,E]=(0,u.useState)(b?"3d":"2d");(0,u.useEffect)((()=>{(0,v.y9)(y,t,w,I).catch((()=>{E("2d")}))}),[I]);const C=wv();(0,u.useEffect)((()=>{(0,v.sA)(Object.assign(Object.assign({},y),{eta:C}),I)}),[y,I,C]);const x=(0,Ev.x)(),k=(0,u.useMemo)((()=>({exchangeSearch:x.data})),[x]);return(0,u.useEffect)((()=>{n(),a()}),[]),(0,u.useEffect)((()=>{const e=(0,H.by)();return i(e,(e=>lm(e,k))),()=>{s(e)}}),[k]),u.createElement(u.Fragment,null,u.createElement("div",{ref:r,dir:"ltr"},u.createElement(Hp,null)))}));kv.displayName="MapContainer";const _v=(0,Ie.$j)(void 0,(e=>({mapHandlers:Fp(e),trackWebGlSupport(){e((0,tt.n)(["Map","WebGL",Cp(),void 0,{nonInteraction:!0}]))},trackVideoadapter(){e((0,tt.n)(["Map","Videoadapter",(0,xp.T)(),void 0,{nonInteraction:!0}]))},subscribeOnMapClick(t,r){e((0,L.Oo)({id:t,type:"map:click",handler:r,stopIfHandled:!0,priority:Ge.U.Map}))},removeListener(t){e((0,L.xg)({id:t}))}})))((0,_e.z)(Vu._X)(kv));const Ov=()=>u.createElement(Se.E,{loader:ze.H.privacyPolicyBanner,render:e=>u.createElement(e,null),renderPlaceholder:()=>u.createElement("div",null)}),Sv=u.memo((()=>{const e=(0,Ie.v9)((e=>e.appContext.weak.showPrivacyPolicyBanner)),t=(0,u.useMemo)((()=>({frameId:(0,H.by)()})),[]);return e?u.createElement(kn.j.Provider,{value:t},u.createElement(Ov,null)):null}));Sv.displayName="PrivacyPolicyBanner";const zv=()=>{const[e,t]=(0,u.useState)(!1);return(0,u.useEffect)((()=>t(!0)),[]),e?u.createElement("div",{className:"is_app_healthy",style:{display:"none"}}):null};const Mv=(0,r(186).p)((e=>{const t=e.message&&e.message.toString();(0,re.H)({message:t,level:"error",id:"abhr3",payload:{type:"network",subtype:"ChunkLoadFailed"}})})),jv=(new Error("ChunkLoadError"),e=>u.createElement(Mv,{loader:ze.H.fullBannerInner,render:t=>u.createElement(t,Object.assign({},e)),renderPlaceholder:Gr.Q}));var Tv=r(73893);const Nv=e=>{var t;return"exchange"===e.appContext.activeLayer?"exchangeFullScreenBanner":(0,xr.t0)(e.appContext.frames,"directions")?"routeSearchFullScreenBanner":"checkinFullScreenBanner"===(null===(t=e.appContext.weak.fullScreenBanner)||void 0===t?void 0:t.bannerType)?"checkinFullScreenBanner":void 0},Pv=(0,u.memo)((()=>{const[e,t]=(0,u.useState)(!1),r=(0,Ie.v9)(Nv);(0,Tv.e)("checkinFullScreenBanner"===r?404:void 0);const n=(0,u.useCallback)((()=>{t(!0)}),[]),{featureReadOnly:a,featureAdaptiveRedirect:i,isMobileDevice:s}=(0,Ko.Z)();return a||!s&&"checkinFullScreenBanner"!==r||!r||e||i?null:u.createElement(jv,{type:r,onClose:n})}));Pv.displayName="FullBanner";const Lv=()=>u.createElement(Se.E,{loader:ze.H.gdprCookieBanner,render:e=>u.createElement(e,null),renderPlaceholder:Gr.Q});var Fv=r(82803),Rv=r(70554),Hv=r(95487),Dv=r(67328),Bv=r(60695),Av=r(75604),Vv=r(83157),Zv=r(79802);const Uv=(0,u.memo)((()=>{const{s:e,css:t}=(0,mr.y)($v),{featureReadOnly:r}=(0,Ko.Z)(),n=(0,zr.A)(Dv.f),a=(0,zr.A)(Av.S),i=[u.createElement(Hv.q,{onClick:n,key:"rubricator"})];return r||i.push(u.createElement(Bv.Y,{onClick:a,key:"favorites"})),u.createElement("div",{className:t(e.root)},u.createElement(Rv.S,{ownerName:"dashboardFrame",where:"Dashboard",moreButtons:i}),u.createElement(Zv.C,{source:"dashboard"},u.createElement(Vv.y,null)))})),$v=(0,mr.k)({root:{background:Te.O.white,padding:16,borderTopLeftRadius:8,borderTopRightRadius:8,boxShadow:"0px -3px 10px rgba(38, 38, 38, 0.15)"}});var Wv=r(27421),qv=r(15345),Gv=r(38170);const Qv=(0,u.memo)((({frame:e})=>{const t=(0,jr.T)();switch(e.type){case"realty":return u.createElement(Wv.p,null);case"realtyCard":return u.createElement(qv.Q,null);case"entity":case"pending":return u.createElement(Kv,{backButtonText:t._t("Назад к карточке")});case"search":return u.createElement(Kv,{backButtonText:t._t("Назад к поиску по городу")});default:return u.createElement(Kv,null)}}));Qv.displayName="MapNavFooter";const Kv=(0,u.memo)((({backButtonText:e})=>{const t=(0,zr.A)(Mr.kG,{isMinimized:!1});return u.createElement(Tr.q,{appearance:"transparent"},u.createElement(Tr.Q,{icon:u.createElement(Gv.x,null),onClick:t,shadow:!0,type:"white"},e))})),Jv=(0,u.memo)((({position:e})=>{const{css:t,s:r}=(0,mr.y)(Xv);return u.createElement("div",{className:t(r.root)},"top"===e&&u.createElement("div",{className:t(r.controls,r.top)},u.createElement(_c.w,null,u.createElement("div",{className:t(r.marginStartAuto,r.autoPointerEvents)},u.createElement(ys,null)))),"bottom"===e&&u.createElement("div",{className:t(r.controls)},u.createElement(_c.w,null,u.createElement("div",{className:t(r.marginStartAuto,r.autoPointerEvents)},u.createElement(Ai,null)))))})),Xv=(0,mr.k)({root:{width:"100%",pointerEvents:"none"},top:{marginTop:56},controls:{display:"flex",padding:12},marginStartAuto:{marginStart:"auto"},autoPointerEvents:{pointerEvents:"auto"}}),Yv=da(),ey=(0,u.memo)((()=>{const{s:e,css:t}=(0,mr.y)(ty),r=(0,Ie.v9)((e=>e.appContext.frames[0]||{id:e.appContext.staticFrames.dashboard.id,type:"dashboard"})),n=(0,Ie.v9)((e=>Yv({state:e,frameId:r.id}))),a=(0,u.useMemo)((()=>Object.assign(Object.assign({},n),{isLeftMost:!0,isRightMost:!0})),[n]),i=(0,Ie.v9)((e=>!!e.appContext.isDataViewerMinimized)),s=(0,zr.A)(Mr.kG,{isMinimized:!1}),o=(0,Ko.Z)();return(0,u.useEffect)((()=>{i&&s()}),[r.id]),u.createElement("div",{className:t(e.root,i&&e._minimized)},u.createElement(kn.j.Provider,{value:{frameId:r.id}},u.createElement("div",{className:t(e.topContentWrapper)},(0,Sa.U)(r,a,o)&&u.createElement(aa,{frame:r,frameContext:a})),"dashboard"!==r.type?u.createElement("div",{className:t(e.frame)},u.createElement(xn,{frame:r,frameContext:a})):u.createElement(u.Fragment,null,u.createElement(Jv,{position:"top"}),u.createElement("div",{className:t(e.dashboard)},u.createElement(Jv,{position:"bottom"}),u.createElement("div",{className:t(e.dashboardWrapper)},u.createElement(Uv,null)))),i&&u.createElement("div",{className:t(e.footer)},u.createElement(Qv,{frame:r}))))})),ty=(0,mr.k)({root:{width:"100%",height:"100%",display:"flex",position:"absolute",zIndex:Fv.W.base,pointerEvents:"none"},_minimized:{top:"100%"},topContentWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:Fv.W.top},footer:{position:"absolute",bottom:"100%",left:0,right:0,margin:"auto",pointerEvents:"auto"},frame:{position:"relative",width:"100%",height:"100%",zIndex:Fv.W.base,pointerEvents:"auto"},dashboard:{position:"absolute",bottom:0,width:"100%"},dashboardWrapper:{pointerEvents:"auto"}});var ry=r(90243);const ny=u.memo((()=>{const{css:e,s:t}=(0,mr.y)(ay),r=(0,jr.T)(),n=(0,Ie.I0)(),a=(0,Ie.v9)((e=>e.appContext.activeSublayer)),i={realtyPriceSale:[r._gg("Дешевле"),r._gg("Дороже")],realtyPriceRent:[r._gg("Дешевле"),r._gg("Дороже")],realtyWalkDistance:[r._gg("< 5 мин"),r._gg("5-10"),r._gg("10-20"),r._gg("20-30")]},s=(0,_s.$)((()=>{n((0,ac.P)())}));return"realtyPriceSale"!==a&&"realtyPriceRent"!==a&&"realtyWalkDistance"!==a?null:u.createElement(u.Fragment,null,a&&u.createElement("div",{className:e(t.temperatureBlock)},u.createElement("div",{className:e(t.scaleWrapper)},u.createElement(ry.I,{segments:"realtyWalkDistance"===a?P.fN:P.tC,labels:i[a],labelFontSize:13,labelsMarginTop:4,labelsJustifyContent:"realtyWalkDistance"===a?"space-around":void 0})),u.createElement("div",{onClick:s},u.createElement(ya.x,{color:Te.O.gray_cccccc}))))}));ny.displayName="TemperatureScaleControl";const ay=(0,mr.k)({temperatureBlock:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,marginBottom:0,marginStart:8,marginEnd:8,paddingTop:8,paddingBottom:4,paddingStart:8,paddingEnd:8,backgroundColor:Te.O.white,borderRadius:8,boxShadow:"0 3px 10px rgba(38, 38, 38, 0.15)"},scaleWrapper:{width:"100%",paddingEnd:8}});var iy=r(8275),sy=r(2910),oy=r(6319);const cy=(0,z.gQ)("fillstateRealtyMarkers",(()=>(0,z.XJ)((0,rp.nv)((e=>(0,G.gF)({entity:t=>{var r;const n=null==e?void 0:e.suggestId;return n?null===(r=(0,y.nM)({state:t,entityId:n}))||void 0===r?void 0:r.data:void 0},viewpoint:te.Id},(({entity:t,viewpoint:r})=>e&&(0,rp.Bg)(e)?!t||(0,oy.t)(t)||(0,sy.N)(t)?(0,iy.q)({filters:e.filterValues,categoryId:e.categoryId,viewpoint:r}):(0,iy.q)({filters:e.filterValues,categoryId:e.categoryId,viewpoint:r,entityId:t.id}):(0,z.ZT)()))))))),ly=u.memo((()=>{const{featureRealty:e}=(0,Ko.Z)(),t=(0,Ie.v9)((e=>(0,xr.t0)(e.appContext.frames,"realty")));return e&&t?u.createElement(dy,{frame:t}):null})),dy=({frame:e})=>(function(e){const t=(0,Ie.I0)(),r=(0,Ie.v9)(te.Z1);u.useEffect((()=>{t(cy())}),[r,e.categoryId,e.filterValues,e.suggestId,t])}(e),function(e){const t=(0,Ie.I0)();u.useEffect((()=>{t(Dh())}),[t]),u.useEffect((()=>{e.entity&&"building"===e.entity.type&&t(Bh({buildingId:e.entity.id,categoryId:e.categoryId}))}),[e.entity,e.categoryId,t])}(e),null);const uy=()=>u.createElement(Se.E,{loader:ze.H.seoPromoQr,render:e=>u.createElement(e,null),renderPlaceholder:()=>u.createElement("div",null)});class py extends u.Component{constructor(){super(...arguments),this.state={errorMessage:"",error:""},this.render=()=>{const{isMessengerOpen:e,dataViewerWidth:t,mapFrameId:r}=this.props;return this.state.error?u.createElement(Nc,{base:u.createElement(u.Fragment,null),bottom:u.createElement(u.Fragment,null),top:u.createElement("div",{style:{padding:"16px",width:"100%",height:"100%",boxSizing:"border-box",background:"#fff"}},u.createElement("div",{style:{padding:"16px 0"}},u.createElement(rr.j,{code:500})),u.createElement("div",{style:{display:"flex",justifyContent:"center",paddingBottom:16}},this.props.i18n.tp._t("Или покажите это разработчикам")),u.createElement("pre",{style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},`Session id: ${this.props.config.sessionId}`,u.createElement("br",null),`User id: ${this.props.config.userId}`,u.createElement("br",null),`${this.state.error}`))}):u.createElement(Nc,{bottom:u.createElement(u.Fragment,null,u.createElement(kn.j.Provider,{value:{frameId:r}},u.createElement(_v,null),u.createElement(_t.N,null,u.createElement(u.Fragment,null,u.createElement(uy,null),u.createElement(cu,null),u.createElement(Bu,null),u.createElement(Mc,{dataViewerWidth:t}))),u.createElement(_t.i,null,u.createElement("div",{style:{display:"none"}},u.createElement(xc,null))),u.createElement(ly,null)),u.createElement(_t.N,null,u.createElement(Kc,null)),u.createElement(_t.i,null,u.createElement(ny,null)),u.createElement(Gc,{type:"messenger",isHidden:!e},e&&u.createElement(Ru,null)),u.createElement(zv,null)),base:u.createElement(u.Fragment,null,u.createElement(_t.N,null,u.createElement(ja,null)),u.createElement(_t.i,null,u.createElement(ey,null)),u.createElement("div",{id:"photoViewer"}),u.createElement("div",{id:"tooltips"})),top:u.createElement(u.Fragment,null,u.createElement(pu,null),u.createElement($d,null),u.createElement(eu,null),u.createElement(_t.N,null,u.createElement(Fu,null)),u.createElement(kn.j.Provider,{value:{frameId:r}},u.createElement(Wd.u,null),u.createElement(yp,null),u.createElement(Pv,null)),u.createElement("div",{id:"confirm",style:{width:"100%",height:"100%",pointerEvents:"none",visibility:"hidden"}}),u.createElement(Sv,null),u.createElement(Lv,null),u.createElement(_t.i,null,u.createElement(Kc,null)))})}}componentDidCatch(e,t){const r=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"";(0,re.H)({message:r,level:"error",id:"tb3ic",payload:{type:"exception",subtype:"appRender",stack:e.stack}}),this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`})}}const my=(0,Ie.$j)((e=>({dataViewerWidth:(0,Oa.w)(e),mapFrameId:e.appContext.staticFrames.map.id,isMessengerOpen:e.appContext.messenger&&e.appContext.messenger.isOpen})))((0,ke.$)()((0,wn.R)()(py)));var hy=r(88919),gy=r(83583),fy=r(6990),vy=r(64687),yy=r(66878);var by=r(89969),wy=r(5615),Iy=r(22491),Ey=r(76506),Cy=r(43231),xy=r(48618),ky=r(90011);const _y=(0,z.gQ)("updateEverythingWhenUserLoggedIn",(()=>{const e=window.__actionAfterLogin;return window.__actionAfterLogin=void 0,(0,z.Mf)(e,(0,G.gF)({userId:e=>e.session.userId,userData:e=>(0,Be.bG)(e).data},(({userId:e,userData:t})=>(0,z.Mf)((0,Ey.k)({userId:e,authId:t?t.user_id:void 0}),(0,wy.s)(),(0,Iy.K)(),!!t&&!!t.user_id&&(0,z.Mf)((0,xy.Jd)(),(0,Cy.A0)(),(0,z.Rh)((({featureCart:e})=>e&&(0,ky.o)({}))))))))}));var Oy=r(5958),Sy=r(36623),zy=r(52034);var My=r(44509);function jy(e){let t;return(0,z.vP)((0,G.gF)({isUserLoggedIn:Be.Pc,isUserStatusUnknown:Be.zP},(({isUserLoggedIn:e,isUserStatusUnknown:r})=>(r||(t=e),(0,z.ZT)()))),(0,pl.m)({}),(0,G._N)(Be.Pc,(r=>void 0!==t&&r===t?(0,z.ZT)():"refresh"===e?r?_y():(0,z.vP)((0,Sy.I)(),(0,Oy.Y)(),(0,G._N)(Be.bG,(e=>{var t;return"error"===(null===(t=e.meta)||void 0===t?void 0:t.status)&&401===e.meta.code?(0,z.PQ)((()=>{zy.remove("2gis_sdk_token")})):(0,z.ZT)()}))):r?_y():(0,z.ZT)())))}var Ty=r(29627);let Ny;var Py=r(46857),Ly=r(95969),Fy=r(21980);let Ry="";var Hy=r(67551);const Dy=(0,W.mq)("turnAutoPageViewOn"),By=(0,z.gQ)("showEmailUpdateNotification",(()=>(0,G._N)((e=>e.appContext.weak.emailVerificationStatus),(e=>{const t=t=>"error"===e?t._t("Что-то пошло не так"):t._t("Готово"),r=t=>"error"===e?t._t("Попробуйте еще раз!"):t._t("Электронная почта подтверждена");return!!e&&(0,z.vP)((0,Ln.$)((({tp:n})=>"error"===e?(0,ml.c)((0,hl.v)({title:t(n),message:r(n)})):(0,ml.c)((0,hl.V)({title:t(n),message:r(n)})))),(0,J.yy)({emailVerificationStatus:void 0}))}))));var Ay=r(58031),Vy=r(54748),Zy=r(85295);function Uy(e){const{metric:t}=e;(0,Zy.y)({[t.name]:t.value});const r=Math.round("CLS"===t.name?1e3*t.delta:t.delta);"undefined"!=typeof window&&window.ga&&window.ga(`${Vy.bS}.send`,"event",{eventCategory:"Web Vitals",eventAction:t.name,eventValue:r,eventLabel:t.id,nonInteraction:!0})}var $y=r(9162),Wy=r(10259);var qy=r(44479);function Gy(e,t,r){window.isServerRendered=!1,e.dispatch((0,Hy.G)()),e.dispatch((0,Ty.k)()),e.dispatch(By()),e.dispatch((0,Si.RP)((e=>{var t;if(!e||e.filterValuesByTab.truck)return(0,z.ZT)();const r=null===(t=(0,$y.h)())||void 0===t?void 0:t.ppng;return r?(0,z.vP)((0,Si.eH)(e.id,(e=>Object.assign(Object.assign({},e),{filterValuesByTab:Object.assign(Object.assign({},e.filterValuesByTab),{truck:r})}))),"truck"===e.tab&&(0,Wy.w)()):(0,z.ZT)()}))),e.dispatch((0,qy.R)()),function(e){let t;const r=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,Ty.k)({forced:!0})),r()}))}),6e4))};r()}(e.dispatch),function(e){let t;const r=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,M.q_)({time:Date.now()})),r()}))}),6e4))};r()}(e.dispatch),r.featureReadOnly?e.dispatch((0,Py.k)({name:"userId"})):function(e){function t(){const t=e.getState(),r=t.session.userId,n=(0,Be.bG)(t).data;e.dispatch((0,Ey.k)({userId:r,authId:n?n.user_id:void 0}))}e.dispatch((0,Fi.ks)({userId:e.getState().session.userId})),t(),function e(){Ny||(Ny=window.setTimeout((()=>{window.requestIdleCallback((()=>{t(),Ny=void 0,e()}))}),9e5))}()}(e),t&&(window.sdk={ui:t.ui,logout:t.logout},function(e,t){e.on("login",(()=>t.dispatch(jy("login")))),e.on("actualize",(()=>t.dispatch(jy("refresh")))),e.on("logout",(()=>t.dispatch(jy("logout"))))}(t,e),t.actualize(),setTimeout((()=>{e.dispatch((0,Ly.A)())}),666),function(e){switch(Ry.toLowerCase()){case"#flightaround":setTimeout((()=>{e((0,Fy.P)(e))}),1e3);break;case"#hidedataviewer":e((0,Mr.kG)({isMinimized:!0}))}}(e.dispatch),e.dispatch(Dy()),document.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(document.body.classList.remove("_pi"),document.body.classList.add("_ki"))}),!0),document.addEventListener("mousedown",(function(){document.body.classList.remove("_ki"),document.body.classList.add("_pi")}),!0),setTimeout((()=>{(0,Ay.kz)((e=>Uy({metric:e}))),(0,Ay.Tx)((e=>Uy({metric:e}))),(0,Ay.Tb)((e=>Uy({metric:e}))),(0,Ay.Y)((e=>Uy({metric:e}))),(0,Ay.CA)((e=>Uy({metric:e})))}),111))}function Qy(){if("undefined"!=typeof window&&window.performance)return Object.assign(Object.assign(Object.assign({type:"client_start"},function(){const e=window.performance.timing;return{waiting:e.responseStart-e.requestStart,download:e.responseEnd-e.responseStart,scriptLoading:e.domInteractive-e.domLoading,interactive:e.domInteractive-e.fetchStart,complete:e.domComplete-e.fetchStart,full:e.loadEventEnd-e.navigationStart}}()),function(){const e=window.navigator.connection||{};return{rtt:e.rtt,downlink:e.downlink}}()),function(){if(!performance.getEntriesByType)return{};const e=performance.getEntriesByType("navigation"),t=e&&e.length?e[0]:void 0;if(!t)return{};return{navigationType:t.type}}())}var Ky=r(29018),Jy=r(70615),Xy=r(86212),Yy=r(89172),eb=r(56677);const tb={queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,keepPreviousData:!0,retry:!1,retryOnMount:!1}},rb=Object.assign(Object.assign({},d),window.__customcfg);(0,n.a)(rb.staticPath);try{const e=function(e){const{godmode:t,ssoUrl:r,featureReadOnly:n}=e;if(!n)return(0,My.initSDK)({mode:t?"dev":"prod",__URL:r,locale:(0,by.$)(e.lang,e.defaultCountryCode),country:e.defaultCountryCode,clientId:"online"})}(rb);window.addEventListener("error",(e=>{const{message:t,source:r,error:n}=e;(0,re.H)({message:t,level:"warn",id:"ghmyb",payload:{type:"windowerror",source:r,stack:n.stack}})})),window.addEventListener("unhandledrejection",(e=>{const{reason:t}=e;(0,re.H)({message:"string"==typeof t?t:t&&t.message,level:"warn",id:"ieey0",payload:{type:"unhandledrejection",stack:t&&t.stack}})})),window.onload=()=>{setTimeout((()=>{const e=Qy();e&&(0,re.UB)({message:"Client performance",level:"info",id:"9bin6",payload:e})}),0)},(0,we.Qv)(window.__classNames);const t=function(e){const t=new gy.TranslationController(((t,r)=>{(0,fy.o)(t,e.supportedLangs).then((e=>{r(t,e)})).catch((()=>{(0,re.H)({message:`Fetch lang ${t} error`,level:"warn",id:"bu6p7",payload:{type:"network",subtype:"FetchLang"}}),r("ru",yy.Z)}))}),(e=>{(0,re.H)({message:"Error plural substitution",level:"warn",id:"2tfd5",payload:{type:"debug",subtype:"ErrorPluralSubstitution",data:e}})}),vy.C_);return new hy.o(t)}(rb);window.isServerRendered=!0,ab=window.location.hash,Ry=ab||"";const n=(0,Jy.u)({config:rb,sideEffects:{getToken:e?e.token:()=>Promise.resolve(void 0)}}),a=(0,tc.createModelContext)({services:n}),i=new Xy.S({defaultOptions:tb});Promise.all([function(e,t,r,n){const a=Object.assign(Object.assign({},window.initialState),{config:t}),i=(0,m.l)({extraReducers:fe(t),enhancers:[],initialState:a,config:t,uiMiddlewares:[g(e),f(e),(0,S.n)(t,ne),_((0,O.T)(),t),e=>t=>r=>{switch(r.type){case"MAP/SET_VIEW":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,v.ay)(t).then((e=>e.setView(r.payload)));break}case"MAP/GENERALIZE_MARKERS":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,v.ay)(t).then((e=>e.generalizeMarkers()));break}}return t(r)},(0,be.qg)(n,{config:t,services:r})],mwWithServices:[(0,ve.d)(T.BJ,t)],asyncExtraPayload:ye,apiServices:r});return Promise.resolve(i.dispatch(ee())).then((()=>i))}(t,rb,n,i),function(e){const t=window.preloadedComponentsList;if(!t||!t.length)return Promise.all([]);const r=t.map((t=>{const r=e[t];return r&&r.asyncImport?r.asyncImport():Promise.resolve()}));return Promise.all(r).catch((e=>{}))}(ze.H),t.setLocale({lang:rb.lang,countryCode:rb.defaultCountryCode}).catch((()=>{})),(nb=rb.mapdbgmd,nb?Promise.all([r.e(4736),r.e(4135)]).then(r.bind(r,49111)).then((({enable:e})=>{e()})):Promise.resolve())]).then((([r])=>{var s;s=r.dispatch,window.addEventListener("resize",(0,H.Ds)((()=>{s((0,L.Kn)({type:"window:resize",event:void 0}))}),300)),window.addEventListener("popstate",(e=>{e.state&&s((0,L.Kn)({type:"window:popstate",event:e}))})),window.addEventListener("message",(e=>s((0,L.Kn)({type:"window:message",event:e})))),window.addEventListener("keydown",(e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){if(e.target&&"type"in e.target){const t=e.target.localName;if(["input","textarea"].includes(t))return}switch(e.keyCode){case Vn.Hs:s((0,L.Kn)({type:"common:arrowLeftKeyDown",event:void 0}));break;case Vn.ro:s((0,L.Kn)({type:"common:arrowRightKeyDown",event:void 0}));break;case Vn.P9:s((0,L.Kn)({type:"common:arrowDownKeyDown",event:void 0}));break;case Vn.HI:s((0,L.Kn)({type:"common:arrowUpKeyDown",event:void 0}));break;case Vn.Fx:s((0,L.Kn)({type:"common:spaceKeyDown",event:void 0}))}}})),window.addEventListener("keyup",(e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case Vn.O_:s((0,L.Kn)({type:"common:escapeKeyUp",event:void 0}))}})),(0,Ce.J)(rb.isDxEnabled),(0,p.hydrate)(u.createElement(Ky.C,{i18n:t,config:rb,store:r,modelContext:a,services:n,queryClient:i},u.createElement(u.Fragment,null,u.createElement(Yy.p,{state:window.__REACT_QUERY_STATE__},u.createElement(my,null)),u.createElement(eb.i,null))),document.querySelector("#root"),(()=>Gy(r,e,rb)))})).catch((e=>{var t,r,n,a;(0,re.H)({id:"egvnj",level:"fatal",message:e&&e.message,payload:{subtype:"ClientInitFailed",type:"exception",data:(null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.includes("Minified React error #200"))?null===(n=null===(r=document.querySelector("div"))||void 0===r?void 0:r.outerHTML)||void 0===n?void 0:n.slice(0,100):null===(a=null==e?void 0:e.toString)||void 0===a?void 0:a.call(e),stack:null==e?void 0:e.stack}})}))}catch(rr){(0,re.H)({message:"client entry error",level:"fatal",id:"h34h5",payload:{type:"exception",subtype:"ClientEntryError",stack:null==rr?void 0:rr.stack}})}var nb,ab},8955:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});const n={broadcast:{asyncImport:()=>Promise.all([r.e(1321),r.e(4601)]).then(r.bind(r,43483)),chunkName:"broadcast",moduleID:43483},prices:{asyncImport:()=>r.e(6039).then(r.bind(r,41065)),chunkName:"prices",moduleID:41065},catalog:{asyncImport:()=>Promise.all([r.e(1321),r.e(2808),r.e(701)]).then(r.bind(r,6750)),chunkName:"catalog",moduleID:6750},collection:{asyncImport:()=>r.e(8137).then(r.bind(r,80151)),chunkName:"collection",moduleID:80151},contactsTab:{asyncImport:()=>Promise.all([r.e(1321),r.e(4282),r.e(803),r.e(1627)]).then(r.bind(r,26531)),chunkName:"contactsTab",moduleID:26531},discountsTab:{asyncImport:()=>r.e(4989).then(r.bind(r,85064)),chunkName:"discountsTab",moduleID:85064},dashboard:{asyncImport:()=>Promise.all([r.e(1321),r.e(9966)]).then(r.bind(r,60040)),chunkName:"dashboard",moduleID:60040},direction:{asyncImport:()=>r.e(0).then(r.bind(r,39888)),chunkName:"direction",moduleID:39888},directions:{asyncImport:()=>Promise.all([r.e(1321),r.e(4736),r.e(9554),r.e(9685),r.e(9418)]).then(r.bind(r,21340)),chunkName:"directions",moduleID:21340},editFavorite:{asyncImport:()=>r.e(4195).then(r.bind(r,753)),chunkName:"editFavorite",moduleID:753},entityList:{asyncImport:()=>Promise.all([r.e(1321),r.e(7011)]).then(r.bind(r,98417)),chunkName:"entityList",moduleID:98417},entityTooltip:{asyncImport:()=>r.e(7157).then(r.bind(r,77293)),chunkName:"entityTooltip",moduleID:77293},entityVideoPopup:{asyncImport:()=>r.e(2e3).then(r.bind(r,26828)),chunkName:"entityVideoPopup",moduleID:26828},exchangeTooltip:{asyncImport:()=>r.e(1621).then(r.bind(r,99119)),chunkName:"exchangeTooltip",moduleID:99119},favorites:{asyncImport:()=>Promise.all([r.e(1321),r.e(205)]).then(r.bind(r,12018)),chunkName:"favorites",moduleID:12018},feedback:{asyncImport:()=>r.e(8656).then(r.bind(r,83609)),chunkName:"feedback",moduleID:83609},filters:{asyncImport:()=>Promise.all([r.e(1321),r.e(7596)]).then(r.bind(r,84665)),chunkName:"filters",moduleID:84665},gallery:{asyncImport:()=>r.e(5121).then(r.bind(r,94878)),chunkName:"gallery",moduleID:94878},gtaAds:{asyncImport:()=>Promise.all([r.e(1321),r.e(1863)]).then(r.bind(r,81236)),chunkName:"gtaAds",moduleID:81236},gdprCookieBanner:{asyncImport:()=>r.e(3883).then(r.bind(r,3417)),chunkName:"gdprCookieBanner",moduleID:3417},infoTab:{asyncImport:()=>Promise.all([r.e(1321),r.e(4282),r.e(803),r.e(376)]).then(r.bind(r,16927)),chunkName:"infoTab",moduleID:16927},insideTab:{asyncImport:()=>Promise.all([r.e(1321),r.e(9439)]).then(r.bind(r,22315)),chunkName:"insideTab",moduleID:22315},interestingCarousel:{asyncImport:()=>r.e(7840).then(r.bind(r,8431)),chunkName:"interestingCarousel",moduleID:8431},marketTooltip:{asyncImport:()=>r.e(3405).then(r.bind(r,99761)),chunkName:"marketTooltip",moduleID:99761},realtyTooltip:{asyncImport:()=>r.e(2375).then(r.bind(r,13130)),chunkName:"realtyTooltip",moduleID:13130},messenger:{asyncImport:()=>r.e(5743).then(r.bind(r,13912)),chunkName:"messenger",moduleID:13912},miniEntity:{asyncImport:()=>Promise.all([r.e(1321),r.e(8242)]).then(r.bind(r,39914)),chunkName:"miniEntity",moduleID:39914},miniProduct:{asyncImport:()=>r.e(4905).then(r.bind(r,85918)),chunkName:"miniProduct",moduleID:85918},offer:{asyncImport:()=>Promise.all([r.e(1321),r.e(2808),r.e(5508)]).then(r.bind(r,74496)),chunkName:"offer",moduleID:74496},paymentForm:{asyncImport:()=>Promise.all([r.e(1321),r.e(7929)]).then(r.bind(r,4878)),chunkName:"paymentForm",moduleID:4878},photoUploader:{asyncImport:()=>r.e(5800).then(r.bind(r,92092)),chunkName:"photoUploader",moduleID:92092},photoViewer:{asyncImport:()=>r.e(4186).then(r.bind(r,6201)),chunkName:"photoViewer",moduleID:6201},product:{asyncImport:()=>r.e(3018).then(r.bind(r,14937)),chunkName:"product",moduleID:14937},pricesTab:{asyncImport:()=>r.e(1328).then(r.bind(r,11664)),chunkName:"pricesTab",moduleID:11664},publicFavorites:{asyncImport:()=>Promise.all([r.e(1321),r.e(8749)]).then(r.bind(r,30492)),chunkName:"publicFavorites",moduleID:30492},realtyTab:{asyncImport:()=>r.e(1039).then(r.bind(r,49090)),chunkName:"realtyTab",moduleID:49090},reviewsTab:{asyncImport:()=>Promise.all([r.e(1321),r.e(9143),r.e(5164)]).then(r.bind(r,81601)),chunkName:"reviewsTab",moduleID:81601},rubric:{asyncImport:()=>r.e(4531).then(r.bind(r,51877)),chunkName:"rubric",moduleID:51877},rubricator:{asyncImport:()=>r.e(6854).then(r.bind(r,14435)),chunkName:"rubricator",moduleID:14435},servicesTab:{asyncImport:()=>r.e(9430).then(r.bind(r,55799)),chunkName:"servicesTab",moduleID:55799},sharing:{asyncImport:()=>Promise.all([r.e(1321),r.e(8460)]).then(r.bind(r,63630)),chunkName:"sharing",moduleID:63630},sideMenu:{asyncImport:()=>Promise.all([r.e(1321),r.e(3673)]).then(r.bind(r,13329)),chunkName:"sideMenu",moduleID:13329},suggestList:{asyncImport:()=>Promise.all([r.e(1321),r.e(3267)]).then(r.bind(r,26146)),chunkName:"suggestList",moduleID:26146},typedFeedback:{asyncImport:()=>r.e(254).then(r.bind(r,31501)),chunkName:"typedFeedback",moduleID:31501},userProfile:{asyncImport:()=>Promise.all([r.e(1321),r.e(9143),r.e(873)]).then(r.bind(r,4339)),chunkName:"userProfile",moduleID:4339},videoPopup:{asyncImport:()=>r.e(8663).then(r.bind(r,18681)),chunkName:"videoPopup",moduleID:18681},writeReview:{asyncImport:()=>Promise.all([r.e(1321),r.e(7530)]).then(r.bind(r,43669)),chunkName:"writeReview",moduleID:43669},unconfirmedReviews:{asyncImport:()=>Promise.all([r.e(1321),r.e(9143),r.e(9828)]).then(r.bind(r,56311)),chunkName:"unconfirmedReviews",moduleID:56311},currentReview:{asyncImport:()=>Promise.all([r.e(1321),r.e(9143),r.e(6469)]).then(r.bind(r,32954)),chunkName:"currentReview",moduleID:32954},tUgcCard:{asyncImport:()=>r.e(2577).then(r.bind(r,1576)),chunkName:"tUgcCard",moduleID:1576},searchResults:{asyncImport:()=>Promise.all([r.e(1321),r.e(2808),r.e(910)]).then(r.bind(r,13870)),chunkName:"searchResults",moduleID:13870},marketCatalog:{asyncImport:()=>r.e(2016).then(r.bind(r,5797)),chunkName:"marketCatalog",moduleID:5797},communalPopup:{asyncImport:()=>Promise.all([r.e(1321),r.e(3658)]).then(r.bind(r,19347)),chunkName:"communalPopup",moduleID:19347},deliveryOrderPopup:{asyncImport:()=>r.e(6718).then(r.bind(r,59315)),chunkName:"deliveryOrderPopup",moduleID:59315},cart:{asyncImport:()=>Promise.all([r.e(1321),r.e(5635),r.e(511)]).then(r.bind(r,15390)),chunkName:"cart",moduleID:15390},sendOrderPopup:{asyncImport:()=>Promise.all([r.e(1321),r.e(5635),r.e(9428)]).then(r.bind(r,88373)),chunkName:"sendOrderPopup",moduleID:88373},confirm:{asyncImport:()=>r.e(3368).then(r.bind(r,27099)),chunkName:"confirm",moduleID:27099},userFriendsActivity:{asyncImport:()=>r.e(3123).then(r.bind(r,27788)),chunkName:"userFriendsActivity",moduleID:27788},realty:{asyncImport:()=>Promise.all([r.e(1321),r.e(4282),r.e(2557)]).then(r.bind(r,38053)),chunkName:"realty",moduleID:38053},realtyCard:{asyncImport:()=>Promise.all([r.e(1321),r.e(9143),r.e(3189)]).then(r.bind(r,96580)),chunkName:"realtyCard",moduleID:96580},achievementsFrame:{asyncImport:()=>Promise.all([r.e(1321),r.e(5751)]).then(r.bind(r,98587)),chunkName:"achievementsFrame",moduleID:98587},seoPromoQr:{asyncImport:()=>r.e(2123).then(r.bind(r,31493)),chunkName:"seoPromoQr",moduleID:31493},quickFavorites:{asyncImport:()=>r.e(4453).then(r.bind(r,47771)),chunkName:"quickFavorites",moduleID:47771},privacyPolicyBanner:{asyncImport:()=>Promise.all([r.e(1321),r.e(5776)]).then(r.bind(r,81686)),chunkName:"privacyPolicyBanner",moduleID:81686},fullBannerInner:{asyncImport:()=>r.e(3760).then(r.bind(r,47396)),chunkName:"fullBannerInner",moduleID:47396},exchange:{asyncImport:()=>r.e(3663).then(r.bind(r,79736)),chunkName:"exchange",moduleID:79736},personalDataAgreementPopup:{asyncImport:()=>r.e(6421).then(r.bind(r,99838)),chunkName:"personalDataAgreementPopup",moduleID:99838},thanksForPhoto:{asyncImport:()=>r.e(2835).then(r.bind(r,46829)),chunkName:"thanksForPhoto",moduleID:46829},thanksForReview:{asyncImport:()=>r.e(6499).then(r.bind(r,1218)),chunkName:"thanksForReview",moduleID:1218},smmTipPopup:{asyncImport:()=>r.e(3933).then(r.bind(r,26049)),chunkName:"smmTipPopup",moduleID:26049},smmCheckoutPopup:{asyncImport:()=>Promise.all([r.e(1321),r.e(9116)]).then(r.bind(r,8989)),chunkName:"smmCheckoutPopup",moduleID:8989},phoneLawPopup:{asyncImport:()=>r.e(5029).then(r.bind(r,6529)),chunkName:"phoneLawPopup",moduleID:6529}}},66158:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var n,a=r(24842);!function(e){e[e.Default=a.k]="Default",e[e.Map=a.k+1]="Map",e[e.Frame=a.k+2]="Frame",e[e.FrameElement=a.k+3]="FrameElement",e[e.Popup=a.k+4]="Popup",e[e.PopupElement=a.k+5]="PopupElement",e[e.Confirm=a.k+6]="Confirm"}(n||(n={}))},65002:(e,t,r)=>{"use strict";r.d(t,{V:()=>x});var n=r(75873),a=r(60218),i=r(13299),s=r(33188),o=r(61824),c=r(20869),l=r(38601),d=r(27401);function u(e,t,r){return t?Object.assign(Object.assign({},r),{[e]:t}):r}var p=r(92177),m=r(54603),h=r(1482),g=r(42021),f=r(89965);var v=r(70433),y=r(97883),b=r(29782),w=r(91871),I=r(10393);const E=(0,v.P1)([e=>e.appContext.weak.isLangRepresentedInOriginalRequest,e=>e.appContext.weak.showSlugsNeededOnlyForStartup,e=>e.appContext.weak.isMapViewRepresentedInOriginalRequest,e=>e.appContext.weak.mapInteractionStarted,e=>e.appContext.weak.emailVerificationStatus,e=>e.appContext.weak.fullScreenBanner],((e,t,r,n,a,i)=>({isLangRepresentedInOriginalRequest:e,showSlugsNeededOnlyForStartup:t,isMapViewRepresentedInOriginalRequest:r,mapInteractionStarted:n,emailVerificationStatus:a,fullScreenBannerStatus:i}))),C=(0,v.P1)([e=>e.appContext.activeLayer,e=>e.appContext.activeSublayer,e=>e.appContext.showTrafficOnMap],((e,t,r)=>({activeLayer:e,activeSublayer:t,showTrafficOnMap:r}))),x=(0,v.P1)([n.kL,function(e){var t,r;const a=(0,n.mN)(e),i=a?(0,f.nM)({state:e,entityId:a}).data:void 0;return i?(0,w.i)(i)||(null===(r=null===(t=(0,b.D4)({state:e,id:i.region_id}))||void 0===t?void 0:t.data)||void 0===r?void 0:r.uri_code):(0,b.Rg)(e)},y.Z1,E,C,function(e){const t=[];if(!e.appContext.frames.length)return t;return e.appContext.frames.reduce(((t,r)=>{const n=function(e,t){var r;switch(e.type){case"search":if("query"===e.searchType){const t=(0,l.Z)(e);let r=(0,c.Q)(e);return"market"===e.tab&&e.tabMarket.buildingId&&(r=u("b",e.tabMarket.buildingId,r)),e.tabCatalog.isBuyHereRubric&&e.tabCatalog.rubricId?{type:"rubric",rubricId:e.tabCatalog.rubricId,filters:(0,c.Q)(e),page:t>1?t:void 0}:{type:"search",query:e.query,rubricId:e.tabCatalog.rubricId,activeTab:"market"===e.tab?"market":void 0,filters:r,page:t>1?t:void 0,attributeId:e.tabCatalog.attributeId}}if("filials"===e.searchType)return{type:"branches",orgId:e.orgId,filters:e.filterValues};if("inbuilding"===e.searchType)return{type:"inside",buildingId:e.buildingId,filters:(0,c.Q)(e),query:e.query};if("offers"===e.searchType)return{type:"offers",query:e.query,filters:(0,c.Q)(e)};if("buyHere"===e.searchType||"fmcg"===e.searchType){const t=(0,l.Z)(e);return{type:e.searchType,adsIds:e.adsIds,page:t>1?t:void 0,filters:(0,c.Q)(e)}}return;case"prices":return{type:"prices",branchId:e.entityId,categoryId:e.categoryId};case"userProfile":return"favorites"!==e.profileTab?{type:"my",profileTab:e.profileTab||"favorites"}:{type:"favorites"};case"exchange":return{type:"exchange",page:e.page>1?e.page:void 0,filters:e.filterValues,calc:{action:e.action,currencyCode:e.currencyCode,volume:e.volume}};case"achievements":return{type:"achievements",group:e.groupName};case"directions":return{type:"directions",tab:e.tab!==m.QZ?e.tab:void 0,points:e.points.map((e=>null===e||(0,h.Sb)(e)?void 0:e)),filters:(0,c.Q)(e)};case"entity":if("point"===e.entityType)return{type:"geo",point:e.point};const n=(0,f.nM)({state:t,entityId:e.entityId}).data;return{type:(0,p.C)(e.entityType),entityId:e.entityId,tab:n&&e.tab!==(0,d.R)(n)[0]?e.tab:void 0,query:"inside"===e.tab?e.tabInside&&e.tabInside.query:void 0,filters:(0,c.Q)(e),point:e.point,entranceId:e.entranceId,contextRubricIdsFromSlug:e.contextRubricIdsFromSlug};case"product":return{type:"product",productId:e.productId,filters:u("b",e.buildingId,(0,c.Q)(e))};case"gallery":return{type:"gallery",entityType:(0,p.C)(e.entityType),photoId:e.photoId,entityId:e.entityId};case"offer":return{type:"offer",productId:e.productId};case"publicFavorites":return{type:e.subtype};case"collection":return{type:"collection",collectionId:e.collectionId};case"rubricator":return{type:"rubrics"};case"rubric":return{type:"subrubrics",parentId:e.parentId};case"marketCatalog":return{type:"market"};case"userFriendsActivity":return{type:"friends",entityId:e.entityId};case"realty":return{type:"realty",at:null===(r=e.entity)||void 0===r?void 0:r.id,category:(0,g.ax)(e.categoryId)||"sale",filters:e.filterValues};case"realtyCard":const a=e.realtyId;if(!a)return;return{type:"realtyAd",id:a,tab:"ad"!==e.tab?e.tab:void 0}}}(r,e);return n?[n,...t]:t}),[])},e=>e.appContext.popup,e=>e.appContext.lang,e=>e.appContext.floors,e=>e.session,e=>e.appContext.ruler,e=>e.appContext.messenger],((e,t,r,{isLangRepresentedInOriginalRequest:n,showSlugsNeededOnlyForStartup:c,isMapViewRepresentedInOriginalRequest:l,mapInteractionStarted:d,emailVerificationStatus:u,fullScreenBannerStatus:p},{activeLayer:m,activeSublayer:h,showTrafficOnMap:g},f,v,y,b,{is3dEnabled:w,statHash:E,utm:C},x,k)=>{const _=t?{type:"region",code:t}:void 0,O=v&&"createReview"===v.type?{type:"writeReview",source:v.sourceId}:void 0,S=k&&k.isOpen?{type:"messenger",dialogId:k.dialogId}:void 0,z="checkinFullScreenBanner"===(null==p?void 0:p.bannerType)?{type:"checkin",checkinId:p.id}:void 0,M=v&&"typedFeedback"===v.type?{type:"addOrg"===v.subtype?"addOrg":"feedback"}:void 0,j=(0,i.d)({project:e,is3d:w}),T=u?{type:"auth",status:u}:void 0,N=d||l?{type:"mapview",center:r.center,pitch:(0,s.uZ)(r.pitch,o.eM,o.Nm),rotation:(0,s.uZ)(r.rotation,o.qN,o.mC),zoom:(0,s.uZ)(r.zoom,j.min,j.max)}:void 0,P=n?{type:"lang",lang:y}:void 0,L=b&&void 0!==b.currentFloor?{type:"floor",value:b.currentFloor}:void 0,F=function(e){if(!e)return[];return Object.keys(e).map((t=>({type:t,value:e[t]})))}(C),R=E&&c?{type:"stat",value:E}:void 0,H=x.isActive?{type:"ruler",points:x.points}:void 0,D=m&&"realty"!==m?{type:"layer",value:m}:void 0,B=h&&!(0,I.j)(h)?{type:"sublayer",value:h}:void 0,A=g?{type:"traffic"}:void 0;return(0,a.oA)([P,_,...f,S,z,O,M,L,N,...F,R,H,D,B,A,T])}))},29018:(e,t,r)=>{"use strict";r.d(t,{x:()=>m,C:()=>h});var n=r(2784),a=r(57511),i=r(69190),s=r(14670),o=r(82462),c=r(38609),l=r(64440),d=r(67974),u=r(92761),p=r(82066);const m=n.createContext({}),h=({config:e,i18n:t,store:r,modelContext:h,services:g,children:f,queryClient:v})=>{const y=(0,l.gh)(e),b={config:e,tp:t.tp,dateFns:t.dateFns,theme:y};return n.createElement(p.QueryClientProvider,{client:v},n.createElement(s.zt,{store:r},n.createElement(m.Provider,{value:r},n.createElement(o.E.Provider,{value:e},n.createElement(a.Az,{value:b},n.createElement(l.nH,{theme:y},n.createElement(i.f.Provider,{value:t},n.createElement(c.O.Provider,{value:t.tp},n.createElement(u.H.Provider,{value:g},n.createElement(d.T.Provider,{value:h},n.createElement(i.Z,{i18n:t},f)))))))))))}},63846:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});var n=r(80119);const a=e=>e.data.ordersHistory.default||n.Y},81037:(e,t,r)=>{"use strict";r.d(t,{r$:()=>b,Ki:()=>w});var n=r(81870),a=r(63792),i=r(60218),s=r(90961),o=r(13310),c=r(63846),l=r(14850),d=r(59554),u=r(71846),p=r(89965),m=r(20999);const h=(0,n.gQ)("fetchMultipleEntityProfilesIfMissing",(e=>{const{ids:t,searchId:r,hash:a}=e;return(0,n.xJ)((e=>{const i=t.filter((t=>(0,m.G)((0,p.wj)({state:e,entityId:t,searchId:r}))||!(0,p.kO)({state:e,entityId:t,searchId:r})));return 0===i.length?(0,n.ZT)():(0,u.H3)({ids:i,searchId:r,hash:a})}))}));var g=r(60404),f=r(77661),v=r(26634),y=r(94487);const b="delivery-searchId",w=(0,n.gQ)("openCartPopup",(()=>(0,s.BN)((0,n.vP)((0,o.D)(c.S,(0,l.D)({})),(0,n.Mf)(I({searchId:b}),(0,a.Mw)({id:(0,i.by)(),type:"cart"})))))),I=(0,n.gQ)("fetchBranchesForCart",(({searchId:e})=>(0,d.gF)({orderHistory:c.S,cart:v.W},(({orderHistory:t,cart:r})=>{var n;const a=(null===(n=t.data)||void 0===n?void 0:n.orders)||g.LZ,i=r?(0,y.t)(r):g.LZ,s=a.reduce(((e,t)=>{var r;return(null===(r=t.delivery)||void 0===r?void 0:r.address.buildingId)&&e.push(t.delivery.address.buildingId),e}),[]),o=(0,f.Z)([...a.map((e=>e.firm.branchId)),...i.map((e=>e.branchId)),...s]);return h({ids:o,searchId:e})}))))},40805:(e,t,r)=>{"use strict";r.d(t,{R:()=>u});var n=r(81870),a=r(71846),i=r(88073),s=r(89965),o=r(65879),c=r(13710),l=r(22584);const d=(e,t,r)=>n=>{const a=("private"===e?c.vE:i.zL)(t)(n);if(!a.length)return[];const d=[];return("private"===e?a.slice(0,r):a).forEach((e=>{const t=e.object_id;if(!t)return;const r=(0,s.nM)({state:n,entityId:t});(0,o.W)(r)&&d.push(t)})),(0,l.m)(d,(e=>e))};function u(e,t,r){return"private"===e?function(e,t){return(0,n.xJ)((r=>{const i=d("private",e,t)(r);return i.length?(0,a.H3)({ids:i.slice(0,50),searchId:void 0}):(0,n.ZT)()}))}(t,r):function(e){return(0,n.xJ)((t=>{const r=d("public",e)(t);if(!r.length)return(0,n.ZT)();const i=new Array(Math.ceil(r.length/50)).fill(1).map(((e,t)=>r.slice(50*t,50*t+50)));return(0,n.Mf)(...i.map((e=>(0,a.H3)({ids:e,searchId:void 0}))))}))}(t)}},31063:(e,t,r)=>{"use strict";function n(e){return"collection"===e.type}r.d(t,{f:()=>n})},77542:(e,t,r)=>{"use strict";r.d(t,{vc:()=>P,wF:()=>L,l3:()=>F});var n=r(2784),a=r(97264),i=r(32853),s=r(29920),o=r(76023),c=r(5408),l=r(67751),d=r(44728),u=r(77584),p=r(70289),m=r(14670),h=r(68786),g=r(39116);const f=e=>({frameId:t})=>{const{type:r,size:n,enableMapSubLayer:a}=e;return{uiElement:{name:r,ownerName:"mapSubLayersList",frameUuid:t},action:"tap",payload:{mapSubLayersList:{size:n},mapSubLayer:{name:v(r),enableMapSubLayer:a}}}},v=e=>{switch(e){case"realtyBuySubLayerIcon":return"realtyBuySubLayer";case"realtyRentSubLayerIcon":return"realtyRentSubLayer";case"realtyWalkDistanceSubLayerIcon":return"realtyWalkDistanceSubLayer"}};var y=r(93043),b=r(81870),w=r(90057),I=r(14155),E=r(42021);const C=(0,b.gQ)("setSublayerOnClick",(e=>(0,b.XJ)((0,b.vP)((0,w.nv)((t=>{const r=function(e){switch(e){case"realtyPriceRent":return E.jY.rent.categoryId;case"realtyPriceSale":return E.jY.sale.categoryId;default:return}}(e);return(null==t?void 0:t.categoryId)!==r&&r?(0,I.c)({newValue:r}):(0,b.ZT)()})),(0,h.PD)(e)))));var x=r(89451),k=r(43583);const _=(0,n.memo)((({type:e,title:t,size:r})=>{const{s:a,css:i}=(0,s.y)(O),{isHovered:o,refCallback:c}=(0,d.X)(),{useBssHandler:l}=(0,g.T)(),u=e===(0,m.v9)(k.j);let v="realtyBuySubLayerIcon";"realtyPriceRent"===e&&(v="realtyRentSubLayerIcon"),"realtyWalkDistance"===e&&(v="realtyWalkDistanceSubLayerIcon");const b=l(f,{type:v,size:r,enableMapSubLayer:!u}),w=(0,p.A)((({isActive:e,type:t})=>(b(),e?(0,h.P)():C(t))),{isActive:u,type:e});return n.createElement("div",Object.assign({className:i(a.root),onClick:w,ref:c},y.dx.n("wat-on-off-sublayer")),n.createElement(x.N,null,n.createElement(n.Fragment,null,n.createElement("div",{className:i(a.dot,o&&a._hoveredDot,u&&!o&&a._activeDot)}),n.createElement("div",{className:i(a.title_gray_929292,u&&a.title_gray_262626,o&&a.hoveredTitle)},t))),n.createElement(x.i,null,n.createElement(n.Fragment,null,n.createElement("div",{className:i(a.bigDotWrapper,u&&a._activeBigDot)},n.createElement("div",{className:i(u&&a._activeInnerDot)})),n.createElement("div",{className:i(a.title_gray_262626,u&&a.title_gray_929292)},t))))}));_.displayName="RealtySublayersItem";const O=(0,s.k)({root:{height:32,padding:"0 16px",display:"flex",alignItems:"center",boxSizing:"border-box",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${a.O.gray_262626}`,borderRadius:u.E.oval},_hoveredDot:{borderColor:a.O.blue_028eff},_activeDot:{borderColor:a.O.blue_028eff},title_gray_929292:{whiteSpace:"nowrap",color:a.O.gray_929292},hoveredTitle:{color:a.O.blue_028eff},title_gray_262626:{whiteSpace:"nowrap",color:a.O.gray_262626},bigDotWrapper:{display:"flex",alignItems:"center",justifyContent:"center",marginEnd:20,boxSizing:"border-box",width:20,height:20,border:`2px solid ${a.O.gray_e6e6e6}`,borderRadius:"50%"},_activeBigDot:{border:`2px solid ${a.O.blue_028eff}`},_activeInnerDot:{width:12,height:12,borderRadius:"50%",backgroundColor:a.O.blue_028eff}});var S=r(90243),z=r(27426),M=r(35774),j=r(75873),T=r(54603),N=r(42115);const P=(0,n.memo)((()=>{const{css:e,s:t}=(0,s.y)(R),r=(0,o.T)(),i=(0,m.v9)(k.j),u=F(),{isHovered:p,refCallback:h}=(0,d.X)(),{bssRef:f,useBssHandler:v}=(0,g.T)((({frameId:e})=>({uiElement:{name:"mapSubLayersScreen",ownerName:"realtyLayerIcon",frameUuid:e}}))),y=i&&u.find((e=>e.type===i)),[b,w]=(0,n.useState)(!0),I=(0,n.useRef)(null);(0,M.F)({ref:I,isActive:!!i,currentLayer:"realty_sublayers",promotedLayer:"realty_sublayers"});const E=v(N.H,{type:b?"mapSubLayers":"closeMapSubLayers"}),C=(0,n.useCallback)((()=>{E(),w(!b)}),[b,E]);return(0,n.useEffect)((()=>{w(!0)}),[y]),(0,z.t)(I,(()=>{w(!0)})),n.createElement("nav",{className:e(t.root),ref:I},n.createElement("div",{ref:f},n.createElement(l.Z,{onClick:C,color:"inherit",styles:t.headerLink,dataN:"wat-realty-sublayers-switcher"},n.createElement("div",{className:e(t.header),ref:h},n.createElement("div",{className:e(t.title)},n.createElement("div",{className:e(t.dot,y&&b&&t._dotCollapsed,y&&!b&&t._dotActive,p&&t._dotHovered)}),n.createElement("span",{className:e(t.text,y&&!b&&t._collapsed,p&&t._textHovered)},y&&b?y.title:r._gg("Карты недвижимости"))),n.createElement(c.E,{direction:b?"down":"up",color:p?a.O.gray_262626:a.O.gray_929292})))),y&&b&&n.createElement("div",{className:e(t.temperature)},n.createElement(S.I,{segments:"realtyWalkDistance"===y.type?T.fN:T.tC,labels:y.temperatureLabels})),n.createElement(L,{items:u,isListCollapsed:b}))}));P.displayName="RealtySublayers";const L=(0,n.memo)((({items:e,isListCollapsed:t})=>{const{css:r,s:a}=(0,s.y)(R),{bssRef:i}=(0,g.T)((o={size:e.length},({frameId:e})=>({uiElement:{name:"mapSubLayersList",ownerName:"mapSubLayersScreen",frameUuid:e},payload:{mapSubLayersList:{size:o.size}}})),{forceSendShowIfParamsChanged:[t]});var o;return n.createElement("ul",{className:r(a.list,t&&a.listCollapsed),ref:t?void 0:i},e.map(((t,r)=>n.createElement(_,Object.assign({},t,{key:r,size:e.length})))))})),F=()=>{const e=(0,m.v9)(j.kL),t=(0,o.T)(),r=(0,m.v9)(k.j);return(0,n.useMemo)((()=>{const n=[];return((null==e?void 0:e.code)&&T.yJ.includes(e.code)||"realtyPriceSale"===r||"realtyPriceRent"===r)&&n.push({type:"realtyPriceSale",title:t._gg("Цена продажи"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]},{type:"realtyPriceRent",title:t._gg("Цена аренды"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]}),((null==e?void 0:e.flags.metro)||"realtyWalkDistance"===r)&&n.push({type:"realtyWalkDistance",title:t._gg("Доступность метро"),temperatureLabels:[t._gg("< 5 мин"),t._gg("5-10"),t._gg("10-20"),t._gg("20-30")]}),n}),[t,null==e?void 0:e.flags.metro,r])},R=(0,s.k)({root:{display:"block",minWidth:216,padding:"6px 0",overflow:"hidden",boxShadow:i.q.popup,borderRadius:u.E.default,backgroundColor:a.O.white},header:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:6,paddingBottom:6,paddingStart:16,paddingEnd:12},headerLink:{width:"100%",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${a.O.gray_e6e6e6}`,borderRadius:u.E.oval},_dotActive:{borderColor:a.O.gray_262626},_dotCollapsed:{borderColor:a.O.blue_028eff},_dotHovered:{borderColor:a.O.blue_028eff},title:{display:"flex",alignItems:"center",boxSizing:"border-box",marginEnd:10},_titleHovered:{color:a.O.blue_028eff},text:{whiteSpace:"nowrap",color:a.O.gray_262626},_textHovered:{color:a.O.blue_028eff},_collapsed:{color:a.O.gray_929292},temperature:{paddingTop:0,paddingBottom:4,paddingStart:16,paddingEnd:16},list:{overflow:"hidden"},listCollapsed:{height:0}})},90243:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var n=r(77584),a=r(29920),i=r(2784),s=r(97264),o=r(67675);const c=(0,i.memo)((({segments:e,labels:t,labelsMarginTop:r,labelsJustifyContent:n,labelFontSize:s})=>{const{s:o,css:c}=(0,a.y)(l);return i.createElement("div",null,i.createElement("div",{className:c(o.line)},e.map(((t,r)=>i.createElement("div",{style:{background:t,width:100/e.length+"%"},key:r})))),i.createElement("div",{className:c(o.labels),style:{marginTop:r,justifyContent:n,fontSize:s}},t.map(((e,r)=>i.createElement("div",{key:r,className:c(o.label),style:{width:"space-around"===n?100/t.length+"%":void 0}},e)))))})),l=(0,a.k)({line:{height:8,display:"flex",borderRadius:n.E.default,overflow:"hidden"},labels:Object.assign(Object.assign({},o.Vz),{color:s.O.gray_929292,display:"flex",justifyContent:"space-between",marginTop:2}),label:{textAlign:"center"}})},35774:(e,t,r)=>{"use strict";r.d(t,{F:()=>c});var n=r(14670),a=r(2784),i=r(40333),s=r(24062),o=r(52684);function c({ref:e,isActive:t,currentLayer:r,promotedLayer:c}){const l=(0,n.I0)(),d=!(0,n.v9)(i.zP),u=function(e){switch(e){case"metro":return"layer_metro";case"realty":return"layer_realty_heatmap";case"realty_sublayers":return"layer_realty_sublayers";case"exchange":return"layer_exchange";case"roadAccident":return"layer_road_accident";case"photos":default:return"layer_photo"}}(c);(0,a.useEffect)((()=>{c&&d&&r===c&&(t&&l((0,o.m)({name:`_seen-${u}`,value:!0})),setTimeout((()=>{e.current&&l((0,s.ID)({type:u,targetBoundingClientRect:e.current.getBoundingClientRect(),to:"bottomMiddle",offset:0}))}),2500))}),[d,u,e.current,c,t])}},7300:(e,t,r)=>{"use strict";r.d(t,{t:()=>v});var n=r(81870),a=r(39206),i=r(88835),s=r(59554),o=r(68786),c=r(67),l=r(90961),d=r(9452),u=r(72296),p=r(64724),m=r(49361),h=r(75873),g=r(75881),f=r(21575);const v=(0,n.gQ)("updateLayer",(e=>{const{newLayer:t}=e;return(0,p.M)((0,s._N)((e=>e.appContext.activeLayer),(e=>(0,n.Rh)((r=>{if("realty"!==t||r.featureRealty)return(0,n.vP)(y({layer:e}),function(e){const{layer:t}=e;switch(t){case"realty":return(0,a.T)();case"exchange":return(0,u.E)();case"metro":case"photos":case"eta":case"parkings":return(0,n.vP)((0,f.v)(t),(0,o.t9)(t),(0,l.BN)(),(0,n.XJ)((0,c.D)()));case"backTo2004":return(0,s._N)(m.n,(e=>e?(0,n.ZT)():(0,n.vP)((0,o.t9)("backTo2004"),(0,l.BN)(),(0,n.XJ)((0,c.D)()))));case"roadAccident":return(0,s._N)(h.k2,(e=>e?(0,n.vP)((0,g.Dz)({id:e,searchId:void 0}),(0,o.t9)(t),(0,n.XJ)((0,c.D)())):(0,n.vP)((0,o.t9)(t),(0,n.XJ)((0,c.D)()))));default:return}}({layer:t}))})))))})),y=(0,n.gQ)("switchOff",(e=>{const{layer:t}=e;if(!t)return(0,n.ZT)();switch(t){case"eta":case"metro":case"photos":case"parkings":case"backTo2004":case"roadAccident":return(0,o.u$)();case"exchange":case"realty":return(0,n.vP)((0,i.xO)(),(0,n.Mf)((0,d.xU)({suggesterKey:"primary",query:void 0}),(0,d.xU)({suggesterKey:"inbuilding",query:void 0})));default:return(0,n.ZT)()}}))},60695:(e,t,r)=>{"use strict";r.d(t,{Y:()=>p});var n=r(2784),a=r(48432),i=r(87980),s=r(97264),o=r(87048),c=r(26162),l=r(59554);var d=r(86400);class u extends n.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>n.createElement(i.r,{color:s.O.gray_262626}),this.handleClick=()=>{this.props.bssOnClick(),this.props.onClick()}}render(){return n.createElement(a.M,{icon:this.renderIcon,title:this.props.i18n.tp._t("Избранное"),onClick:this.handleClick,dataT:"favorite"})}}const p=(0,d.$)()((0,o.z)(void 0,(e=>({bssOnClick(){e((0,l._N)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,c.zs)({uiElement:{name:"favoritesIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))(u))},95487:(e,t,r)=>{"use strict";r.d(t,{q:()=>p});var n=r(2784),a=r(48432),i=r(35931),s=r(86400),o=r(91208),c=r(87048),l=r(26162),d=r(59554);class u extends n.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>n.createElement(i.g,null),this.handleClick=e=>{e.preventDefault(),e.stopPropagation(),this.props.onClick(),this.props.bssOnClick()}}render(){return n.createElement(o.E,{type:"rubrics"},(e=>n.createElement(a.M,{href:e,icon:this.renderIcon,title:this.props.i18n.tp._t("Рубрики"),onClick:this.handleClick,dataT:"rubricator"})))}}const p=(0,c.z)(void 0,(e=>({bssOnClick(){e((0,d._N)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,l.zs)({uiElement:{name:"rubricatorIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))((0,s.$)()(u))},75604:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(81870),a=r(90961),i=r(85610),s=r(5851);const o=()=>(0,s.m)((0,n.vP)((0,a.BN)(),(0,i.D)()))},52970:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n=r(81870),a=r(63792),i=r(60218),s=r(90961);const o=(0,n.gQ)("openDeliveryOrderPopup",(({productId:e,entityId:t,source:r})=>(0,s.BN)((0,a.Mw)({id:(0,i.by)(),type:"deliveryOrder",productId:e,entityId:t,source:r}))))},68603:(e,t,r)=>{"use strict";r.d(t,{b:()=>v});var n=r(88835),a=r(60218),i=r(54603);var s=r(81870),o=r(10259),c=r(76872),l=r(2615),d=r(28623);var u=r(60601),p=r(8559),m=r(12610),h=r(35723),g=r(80036),f=r(9162);function v(e={}){var t;const r=(0,a.by)(),v=(0,a.by)(),y=function(e){switch(e){case"car":case"truck":case"bus":case"pedestrian":return e;default:return i.QZ}}(e.tab),b=function(e){const t=Math.max(0,i.Kr-e.length);return(t?e.concat(Array(t).fill(void 0)):e.slice(0,i.MT)).map((e=>(0,d.z)(e)))}(e.points||[]),w=(0,u.D)(b)?b:void 0,I=(0,u.D)(b)?(0,a.by)():void 0,{filterValues:E}=e,C=null===(t=(0,f.h)())||void 0===t?void 0:t.ppng,x={[y]:E};return x.truck=x.truck||C,(0,s.vP)((0,n.Jt)({id:r,type:"directions",statusId:v,tab:y,points:b,searchId:(0,l.Ue)(I),filterValuesByTab:x,filterPanelState:(0,a.xb)(E)?"manuallyClosed":"auto",isPpngSelected:"truck"===y}),(0,s.Mf)(!!I&&!!w&&(0,s.vP)((0,o.w)(),(0,c.p)({searchId:I})),(0,m.g)({tab:y}),...b.map(p.A),(0,h.q)()),(0,g.x)())}},63206:(e,t,r)=>{"use strict";r.d(t,{B7:()=>s,SI:()=>o,eH:()=>c,RP:()=>l});var n=r(53849),a=r(91437),i=r(27671);function s(e){return"directions"===e.type}function o(e){const t=(0,a.t0)(e.appContext.frames,"directions");return t&&s(t)?t:void 0}const c=(0,n.F)(s),l=(0,i.r)(s)},75238:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(56199),a=r(75873),i=r(63206),s=r(88869);const o=e=>{var t;const r=(0,i.SI)(e);if(!r||"car"===r.tab||"truck"===r.tab)return(0,a.SJ)(e);const o=(0,s.r)(r);if(!o)return(0,a.SJ)(e);const c=null===(t=(0,n.cx)({searchId:o,state:e}))||void 0===t?void 0:t.data;return c&&"projectCode"in c?c.projectCode:(0,a.SJ)(e)}},10259:(e,t,r)=>{"use strict";r.d(t,{w:()=>v});var n=r(5163),a=r(96023),i=r(57299),s=r(31709),o=r(47461),c=r(59554),l=r(11052),d=r(97883),u=r(63206),p=r(2615),m=r(60601),h=r(75238),g=r(39484),f=r(75873);function v(){return(0,c.gF)({locale:l.O,viewpoint:d.Id,zoom:e=>e.appContext.zoom,frame:u.SI,profile:e=>e.data.entity.profile,region:e=>(0,f.mI)({state:e,code:(0,h.Z)(e)||""})},(({locale:e,viewpoint:t,zoom:r,frame:c,profile:l,region:d})=>{if(!c)return;const{tab:u,searchId:h,points:f,filterValuesByTab:v}=c,y=v[u],b=(0,p.sG)(h),w=(0,g.n)(f,u),I=(0,m.D)(w)?w.map((e=>{var t,r;const{entityId:a}=e,i=(0,n._T)(e,["entityId"]),s=a?null===(t=l[a])||void 0===t?void 0:t.data:void 0;if(!a||!s)return i;return"group"in s&&(null===(r=s.group)||void 0===r?void 0:r.some((e=>"adm_div"===e.type&&"place"===e.subtype)))?i:e})):void 0;if(b&&I)switch(u){case"car":return(0,i.b)({searchId:b,points:I,locale:e,viewpoint:t,zoom:r});case"truck":return(0,s.Y)({searchId:b,locale:e,points:I,viewpoint:t,zoom:r,filterValues:y});case"bus":if(!(null==d?void 0:d.flags.public_transport))return;return(0,a.i)({searchId:b,projectCode:d.code,points:I,locale:e,viewpoint:t,zoom:r,filterValues:y});case"pedestrian":if(!d)return;return(0,o.U)({searchId:b,projectCode:d.code,points:I,locale:e,viewpoint:t,zoom:r})}}))}},12610:(e,t,r)=>{"use strict";r.d(t,{g:()=>d});var n=r(59554),a=r(56199),i=r(34118),s=r(81870),o=r(13310),c=r(75238),l=r(75873);function d({tab:e}){return"bus"!==e?(0,s.ZT)():(0,n._N)((e=>(0,l.mI)({state:e,code:(0,c.Z)(e)||""})),(e=>(null==e?void 0:e.flags.public_transport)?(0,o.D)((0,a.UE)(e.code),(0,i.y)({projectCode:e.code})):(0,s.ZT)()))}},8559:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(81870),a=r(75873),i=r(75881),s=r(89965),o=r(71846),c=r(22108),l=r(1482),d=r(59554);function u(e){if((0,c.j)(e)||(0,l.Sb)(e))return(0,n.ZT)();const{lonLat:t,searchId:r,entityId:u}=e;return(0,d._N)((e=>(0,s.u5)({state:e,searchId:r,entityId:u})),(e=>e&&e.meta&&"error"!==e.meta.status?(0,n.ZT)():u?(0,o.DZ)({id:u,searchId:r,clickPoint:t}):(0,d.gF)({zoom:e=>e.appContext.zoom,is3dEnabled:e=>e.session.is3dEnabled,projectId:a.yH},(({zoom:e,is3dEnabled:n,projectId:a})=>!!e&&(0,d.zh)((s=>(0,i.I5)({point:t,searchId:r,viewpoint:s,is3dEnabled:n,zoom:Math.ceil(e),regionId:a||"0"})))))))}},76872:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var n=r(81870),a=r(59554),i=r(56199),s=r(15402),o=r(97883),c=r(6002),l=r(24973),d=r(13776);function u(e){switch(e.type){case"ppna":case"ppng":case"pedestrian":return function(e){let t=[];return e.forEach((e=>{e.begin_pedestrian_path&&(t=t.concat(p(e.begin_pedestrian_path.geometry.selection))),(e.maneuvers||[]).forEach((e=>{const r=e.outcoming_path&&e.outcoming_path.geometry;r&&r.forEach((e=>{t=t.concat(p(e.selection))}))})),e.end_pedestrian_path&&(t=t.concat(p(e.end_pedestrian_path.geometry.selection)))})),t}(e.items);case"ppnot":return function(e){let t=[];return e.forEach((e=>{e.movements.forEach((e=>{(e.alternatives?e.alternatives[0].geometry.map((e=>e.selection)):[]).forEach((e=>{t=t.concat(p(e))}))}))})),t}(e.items)}}function p(e){const t=(0,d.h_)(e);return t&&t.length?t.map((e=>[e.lon,e.lat])):[]}const m=(0,n.gQ)("fitDirectionsSearchInMapView",(({searchId:e,movementId:t,directionId:r})=>(0,a._N)((t=>(0,i.cx)({searchId:e,state:t})),(e=>{if(!e)return;const{data:n,meta:i}=e;return i&&"success"===i.status&&n?(0,a._N)((e=>function({directionsData:e,state:t,routeId:r,movementId:n}){const a=(0,o.v9)(t);let i;if(r&&n){if("ppnot"!==e.type)return;const t=e.items.filter((e=>e.id===r)),a=t[0].movements.filter((e=>e.id===n)),s=[Object.assign(Object.assign({},t[0]),{movements:a})];i=u(Object.assign(Object.assign({},e),{items:s}))}else i=u(e);if(!i.length)return;const s=(0,c.o)(t.session.screen,a),d=(0,l.getCenterZoomByPoints)(i,t.appContext.rotation,[s.width,s.height]);return d?{lon:d.center[0],lat:d.center[1],zoom:Math.min(d.zoom-.2,16)}:void 0}({directionsData:n,state:e,routeId:r,movementId:t})),(e=>e&&(0,s.Nr)(e))):void 0}))))},35723:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var n=r(81870),a=r(14101),i=r(63206),s=r(60404);function o(){return(0,n.xJ)((e=>{const t=e.appContext.frames[0];if("directions"!==t.type)return;let r=!1;const n=t.points.map((t=>{if(t&&"point"===t.type&&!t.entityId){const n=(0,a.bx)({state:e,searchId:t.searchId});if(n!==s.k8)return r=!0,Object.assign(Object.assign({},t),{entityId:n})}return t}));return r?(0,i.eH)(t.id,(e=>Object.assign(Object.assign({},e),{points:n}))):void 0}))}},90594:(e,t,r)=>{"use strict";r.d(t,{R:()=>w});var n=r(81870),a=r(10259),i=r(76872),s=r(63206),o=r(88835),c=r(60218),l=r(2615),d=r(59554);var u=r(60601),p=r(8559),m=r(12610),h=r(90961),g=r(35723),f=r(39484),v=r(6227),y=r(22108),b=r(80036);function w({frameId:e,tab:t,framePoints:r,filterValues:w,filterPanelState:I,dontClearEmptyAdditional:E,skipHistoryPush:C}){const x=r.length>v.Kr&&!E&&(0,y.j)(r[r.length-1])?r.slice(0,r.length-1):r,k=(0,f.n)(x,t),_=(0,u.D)(k)?(0,c.by)():void 0;return(0,n.vP)(!C&&(0,h.BN)(),(0,s.eH)(e,(e=>Object.assign(Object.assign({},e),{tab:t,points:x,searchId:_?(0,l.gg)(e.searchId,_):(0,l.Ue)(void 0),activeDirectionId:void 0,filterValuesByTab:w?Object.assign(Object.assign({},e.filterValuesByTab),{[t]:w}):e.filterValuesByTab,filterPanelState:I||e.filterPanelState,isPpngSelected:"truck"===t||"car"!==t&&e.isPpngSelected}))),(0,o.P2)({id:e}),(0,n.Mf)(!!_&&(0,n.vP)((0,a.w)(),function({frameId:e,searchId:t}){return t?(0,d.WW)(e,s.B7,(r=>(0,l.sG)(r.searchId)===t&&(0,s.eH)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,l._e)(e.searchId)}))))):(0,n.ZT)()}({frameId:e,searchId:_}),(0,i.p)({searchId:_})),(0,m.g)({tab:t}),...x.map((e=>(0,p.A)(e))),(0,g.q)()),(0,b.x)())}},80036:(e,t,r)=>{"use strict";r.d(t,{x:()=>u});var n=r(81870),a=r(91437),i=r(75873),s=r(63206),o=r(89965);var c=r(29782),l=r(59554),d=r(18521);const u=(0,n.gQ)("updatePpngFiltersAvailability",(()=>(0,n.Rh)((({featureFullCoveragePPNG:e})=>(0,n.xJ)((t=>{const r=(0,a.t0)(t.appContext.frames,"directions");if(!r||!p(r))return(0,n.ZT)();if(e)return(0,s.eH)(r.id,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})));const u=[...r.points.map((e=>{var r;return"point"===(null==e?void 0:e.type)&&e.entityId?null===(r=(0,o.nM)({state:t,entityId:e.entityId}).data)||void 0===r?void 0:r.region_id:void 0})),(0,i.yH)(t)].map((e=>function(e,t){if(!e)return;return(0,s.RP)((r=>p(r)?(0,n.vP)((0,n.xJ)((t=>(0,d.sz)(t,e))),(0,l._N)((t=>{var r;return null===(r=(0,c.D4)({state:t,id:e}))||void 0===r?void 0:r.data}),(e=>function(e){return!!e&&!!e.flags.truck_graph}(e)&&(0,s.eH)(t,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})))))):(0,n.ZT)()))}(e,r.id)));return(0,n.vP)(...u)}))))));function p(e){return e&&["car","truck"].includes(e.tab)&&!e.isPpngFiltersAvailable}},28093:(e,t,r)=>{"use strict";r.d(t,{r:()=>l});var n=r(60218),a=r(94840),i=r(59571),s=r(54603),o=r(22108),c=r(1482);function l(e,t,r){if((0,o.j)(e)){if(!(0,n.$K)(r))return;return t.length>s.Kr?(0,i.O)(t,r):(0,a.g)(t,void 0,r)}const c=(0,n.$K)(r)?r:t.findIndex(o.j);if(c<0)return;let l=t;d(e,t[c-1])&&(l=(0,a.g)(l,void 0,c-1));return d(e,t[c+1])&&(l=(0,a.g)(l,void 0,c+1)),(0,a.g)(l,e,c)}function d(e,t){return!(0,o.j)(e)&&!(0,o.j)(t)&&(!(!(0,c.Sb)(e)||!(0,c.Sb)(t))||!(0,c.Sb)(e)&&!(0,c.Sb)(t)&&(e.entityId===t.entityId&&e.lonLat.lon===t.lonLat.lon&&e.lonLat.lat===t.lonLat.lat))}},28623:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var n=r(60218),a=r(1482);function i(e,t){return e?(0,a.Sb)(e)?e:Object.assign(Object.assign({},e),{searchId:t||(0,n.by)()}):void 0}},48947:(e,t,r)=>{"use strict";function n(e){return"car"===e||"pedestrian"===e}r.d(t,{M:()=>n})},60601:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(54603),a=r(22108);function i(e){const t=e.reduce(((e,t)=>{if((0,a.j)(t))return e;const r=t.lonLat;return r?e.concat({type:"point",lonLat:r,entityId:"entityId"in t?t.entityId:void 0}):e}),[]);return t.length===e.length&&t.length>=n.Kr}},22108:(e,t,r)=>{"use strict";function n(e){return!e}r.d(t,{j:()=>n})},9162:(e,t,r)=>{"use strict";r.d(t,{h:()=>i,f:()=>s});var n=r(34751);const a="pp_filters",i=()=>{if("undefined"==typeof window)return;const e=n.tO.local.getItem(a);return e?JSON.parse(e):void 0},s=e=>{"undefined"!=typeof window&&n.tO.local.setItem(a,JSON.stringify({ppng:e}))}},39484:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var n=r(48947),a=r(54603);function i(e,t){return e.length<=a.Kr||(0,n.M)(t)?e:[e[0],e[e.length-1]]}},86122:(e,t,r)=>{"use strict";r.d(t,{b:()=>p});var n=r(81870),a=r(63792),i=r(59554),s=r(93019),o=r(1005),c=r(60218),l=r(37360),d=r(17497),u=r(94822);const p=(0,n.gQ)("openEditFavorite",(e=>(0,i._N)(m(e),(t=>(0,a.Mw)(Object.assign(Object.assign({},t),{id:(0,c.by)(),type:"editFavorite",item:e})))))),m=e=>t=>{const r={},n=(0,d.eb)(t),a=(0,d.M6)(t),i=(0,u.w)(null==n?void 0:n.point,e.point)||(null==n?void 0:n.object_id)===e.object_id,c=(0,u.w)(null==a?void 0:a.point,e.point)||(null==a?void 0:a.object_id)===e.object_id;return(0,o.s0)((0,s.tV)(t)).forEach((t=>{if(t&&"favorite"===t.type&&(0,l.G)(t,e)){const e=t.collection_id;e&&(r[e]=!0)}})),{collectionsInitial:r,collectionsCurrent:r,homeInitial:i,workInitial:c,homeCurrent:void 0,workCurrent:void 0}}},21980:(e,t,r)=>{"use strict";r.d(t,{P:()=>p});var n=r(81870),a=r(89965),i=r(87140),s=r(56372);var o=r(67),c=r(9521),l=r(40842),d=r(78921),u=r(35036);function p(e){return(0,n.Mf)((0,o.n)(["Beta","Card_flight_around","Click"]),(0,n.xJ)((t=>{const{rotation:r,zoom:n,pitch:a}=t.appContext;if(!t.session.is3dEnabled)return;const o=m(t);if(!o||!o.data)return;const l=(0,i.B)({entity:o.data,state:t});if(!l)return;const p=[{main:[{zoom:17,duration:c.Ek,pitch:45,center:[l.lon,l.lat]}]},{main:[{rotation:r-150,duration:c._I/2,easing:"easeInSine"}]},{main:[{rotation:r-300,duration:c._I/2,easing:"easeOutSine"}]},{main:[{zoom:n,duration:c.Ek,rotation:r,pitch:a}]}];return function(e,t){let r=0;const n=[];t.forEach((t=>{const a=t.main,i=t.background;if(i){const t=window.setTimeout((()=>{e((0,s.xN)(i))}),r);n.push(t)}a.forEach((t=>{const a=window.setTimeout((()=>{e((0,s.xN)(t))}),r);n.push(a),r+=t.duration||0}))}))}(e,p),(0,d.a)((0,u.kG)({isMinimized:!0}))})))}function m(e){const t=e.appContext.frames[0];switch(t.type){case"entity":return(0,a.wj)({state:e,entityId:t.entityId});case"realtyCard":{const t=(0,l.W)(e);if(!t)return;return(0,a.wj)({state:e,entityId:t})}}}},9521:(e,t,r)=>{"use strict";r.d(t,{Kc:()=>w,_I:()=>f,Ek:()=>v});var n=r(2784),a=r(86400),i=r(48565);const s=(0,r(70433).P1)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),o=(0,i.X1)(((e,t)=>s({state:e,props:t})));var c=r(21980);const l=(0,i.Z3)((e=>({onClick:()=>e((0,c.P)(e))})));var d=r(491),u=r(93501),p=r(87048),m=r(26162),h=r(95084),g=r(59554);const f=4e3,v=1e3,y=f+2*v;class b extends n.PureComponent{constructor(){super(...arguments),this.state={isDisabled:!1},this.handleClick=()=>{this.setState({isDisabled:!0}),this.props.onClick(),this.props.bssOnFlightAroundClick(),setTimeout((()=>this.setState({isDisabled:!1})),y)}}render(){const{i18n:{tp:e},is3d:t}=this.props;return t?n.createElement(u.z,{appearance:"default",compact:!0,onClick:this.handleClick,disabled:this.state.isDisabled},e._t("Рассмотреть")):null}}b.displayName=(0,d.I)("src/modules/entity/containers/content/containers/flightAround");const w=(0,p.z)(void 0,((e,{ownerFrameId:t,ownerName:r})=>({bssOnFlightAroundClick(){e((0,g._N)((e=>(0,h.s)({state:e,entityFrameId:t})),(e=>{if("TODO_REALTY_BSS_FAKE_OWNER_NAME_FOR_ADDRESS"===r)return;const n={uiElement:{name:"descry",ownerName:r,frameUuid:t},action:"tap",payload:{placeItem:e}};return(0,m.zs)(n)})))}})))((0,i.$j)(o,l)((0,a.$)()(b)))},66151:(e,t,r)=>{"use strict";r.d(t,{U:()=>I});var n=r(2784),a=r(93501),i=r(93043),s=r(76023),o=r(40333),c=r(14670),l=r(39116),d=r(60218),u=r(63792);function p(e){return e.userPinnedReviewId?(0,u.Mw)({id:(0,d.by)(),type:"editReview",reviewId:e.userPinnedReviewId,entityId:e.entityId,searchId:e.searchId}):(0,u.Mw)({id:(0,d.by)(),type:"createReview",temporaryId:(0,d.by)(),entityId:e.entityId,searchId:e.searchId})}var m=r(86108),h=r(65879),g=r(70289),f=r(89965),v=r(2889),y=r(25437),b=r(91437),w=r(78198);const I=n.memo((e=>{const t=(0,c.v9)((e=>(0,o.zP)(e)?"unknown":(0,o.Pc)(e)?"loggedIn":void 0)),r=(0,c.v9)((t=>(0,f.nM)({state:t,entityId:e.entityId}).data)),a=(0,c.v9)((0,o.Mq)(e.entityId)),i=(0,h.W)(a)||(0,m.hg)(a);return!!r&&(0,v.t)(r)||"unknown"===t||"loggedIn"===t&&i?null:n.createElement(E,Object.assign({},e))}));I.displayName="UgcReviewButton";const E=e=>{const t=(0,s.T)(),{entityId:r,searchId:d,isRealty:u=!1}=e,m=(0,c.v9)((0,o.C6)(r)),{useBssHandler:h}=(0,l.T)(),f=h(C,m),v=(0,g.A)(p,{entityId:r,searchId:d,userPinnedReviewId:m}),y=n.useCallback((()=>{u||f(),v()}),[m]);return n.createElement("div",Object.assign({},i.dx.n("wat-reviews-add-button")),n.createElement(a.z,{appearance:"secondary",wide:!0,sharp:!0,onClick:y},m?t._t("Редактировать отзыв"):t._t("Написать новый отзыв")))},C=e=>({frameId:t},r)=>{if(!e)return{uiElement:{name:"addReview",ownerName:"cardReviews",frameUuid:t},action:"tap"};const n=(0,y.Tt)({state:r,id:e}).data,a=(0,b.iF)(r.appContext.frames,t);if(!a||!n)return;const i="entity"===a.type||"unconfirmedReviews"===a.type?a.entityId:n.object.id,s=(0,f.nM)({state:r,entityId:i}).data;return(0,w.h)({review:n,frameId:t,orgId:"branch"===(null==s?void 0:s.type)?s.org.id:void 0,ownerName:"cardReviews"})}},58425:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var n=r(10997);function a({activeDirectionId:e,frameId:t}){return(0,n.me)(t,(t=>Object.assign(Object.assign({},t),{activeDirectionId:e})))}},45898:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(81870),a=r(90961),i=r(43062),s=r(51187),o=r(88835),c=r(95610);function l(e){const{entity:t,tab:r,frame:l}=e;return(0,n.vP)((0,a.BN)(),(0,o.P2)({id:l.id}),(0,i.Sb)({entityId:t.id,frameId:l.id,tab:r,searchId:(0,s.l)(l,r),buildingId:(0,c.V)(t),tabQuery:"inside"===r&&l.tabInside?l.tabInside.query:void 0,filterValues:"inside"===r&&l.tabInside?l.tabInside.filterValues:void 0}))}},12078:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(81870),a=r(63792),i=r(60218);const s=(0,n.gQ)("openVideoPlayerByEntity",(({entityId:e,searchId:t})=>{const r=(0,i.by)();return(0,a.Mw)({id:r,type:"entityVideoPlayer",isPopupGlassDark:!0,entityId:e,searchId:t})}))},72296:(e,t,r)=>{"use strict";r.d(t,{E:()=>u});var n=r(81870),a=r(88835),i=r(60218),s=r(9452),o=r(90961),c=r(68786),l=r(59554);const d=(0,n.gQ)("openExchangeFrame",((e,t,r)=>(0,n.Rh)((c=>c.featureExchange?(0,n.vP)((0,l.gF)({zoom:e=>e.appContext.zoom,center:e=>e.appContext.center},(({zoom:n,center:s})=>(0,o.BN)((0,a.Jt)({type:"exchange",filterPanelState:"auto",id:(0,i.by)(),page:e||1,scrollId:(0,i.by)(),searchId:(0,i.by)(),zoom:n,center:s,action:null==r?void 0:r.action,currencyCode:null==r?void 0:r.currencyCode,volume:null==r?void 0:r.volume,filterValues:t})))),(0,s.xU)({suggesterKey:"primary",query:void 0})):(0,n.ZT)())))),u=(0,n.gQ)("openExchange",(()=>(0,n.Rh)((e=>e.featureExchange?(0,n.vP)((0,n.XJ)(d()),(0,c.t9)("exchange")):(0,n.ZT)()))))},59862:(e,t,r)=>{"use strict";function n(e){return"exchange"===e.type}r.d(t,{l:()=>n,Q:()=>a});const a=(0,r(53849).F)(n)},32148:(e,t,r)=>{"use strict";r.d(t,{x:()=>u});var n=r(5163);const a=(0,r(12563).createModel)("exchangeItems",(({services:e},t,r)=>({fetch(){return(0,n.mG)(this,void 0,void 0,(function*(){return r||(yield e.marketApi.getExchangeItems(t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var i=r(14670),s=r(51763),o=r(11052),c=r(59862),l=r(2784),d=r(97883);function u(){const e=(0,i.v9)(o.O),t=(0,i.v9)((e=>e.appContext.frames.find(c.l))),r=(0,i.v9)(d.Id),n=(0,l.useMemo)((()=>r),[null==t?void 0:t.zoom,null==t?void 0:t.center,null==t?void 0:t.filterValues,null==t?void 0:t.action,null==t?void 0:t.volume,null==t?void 0:t.currencyCode,null==t?void 0:t.searchId]),u=(0,s.tT)(t?a({viewpoint:n,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode,page:t.page,page_size:12,frameId:t.id}):void 0),m=(0,l.useMemo)((()=>Object.assign(Object.assign({},u),{data:p(u.data)})),[u]);return"undefined"==typeof window?s._:m}const p=e=>{if(e)return Object.assign(Object.assign({},e),{pages:Math.ceil(e.total/12)})}},12558:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(5791);const a=e=>{if(!e)return;let t=String(e);if(!t.includes("."))return`${(0,n.D)(e)},00`;t=t.replace(".",",");const[r,a]=t.split(",");return`${(0,n.D)(parseInt(r))},${1===a.length?a+"0":a.slice(0,2)}`}},24829:(e,t,r)=>{"use strict";r.d(t,{q:()=>a,S:()=>i});var n=r(12558);const a="--,--",i=({data:e,frame:t,short:r})=>{const{bid:a,offer:i,rate:o,total_amount:c}=e,{action:l}=t,d=o&&"buy"===l?o:i,u=o&&"sell"===l?o:a,p=(0,n.z)(d),m=(0,n.z)(u),h=(0,n.z)(c);if(!t.action)return[s({value:p,type:"buy"}),s({value:m,type:"sell"})];const g="buy"===t.action?p:m;return t.volume?r?[s({value:h,type:"result"})]:[s({value:g,type:t.action}),s({value:h,type:"result"})]:[s({value:g,type:t.action})]},s=e=>({type:e.type,value:e.value?e.value:a})},38406:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});const n=["1","2","3","4","5","6","7","8","9","10","11","12","13","15","16","17","18","19","20","21","22","23","24","25","26","27","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","63","64","65","69","70","71","72","73","74","76","77","78","80","81","82","83","85","86","87","88","89","90","94","95","96","97","103","106","108","109","113","114","115","116","118","121","122","124","126","127","129","130","131","132","134","135","137","138","139","140","142","143","144","146","147","150","151","152","153","154","155","157","158","159","160","202","204","205","206","207","210","213","214","215"],a=e=>!!e&&!!n.find((t=>t===e))},5958:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(81870),a=r(88835);const i=(0,r(27671).r)((function(e){return"userFriendsActivity"===e.type})),s=(0,n.gQ)("closeUserFriendsActivityFrame",(()=>i((e=>e?(0,a.hp)():(0,n.ZT)()))))},30490:(e,t,r)=>{"use strict";r.d(t,{lc:()=>h,M3:()=>g,bk:()=>f});var n=r(81870),a=r(88835),i=r(60218),s=r(11052),o=r(48618),c=r(71846),l=r(43993),d=r(95079),u=r(59554),p=r(62368),m=r(76997);function h(e){return(0,n.xJ)((t=>(0,n.Mf)((0,p.k)({id:e.entityId,type:e.entityType,page:1,locale:(0,s.O)(t)}),(0,a.Jt)({id:(0,i.by)(),type:"gallery",entityType:e.entityType,photoId:e.photoId,entityId:e.entityId,searchId:e.searchId}))))}const g=(0,n.gQ)("removePhotoInGallery",(e=>{const t=e.photos.findIndex((t=>t.id===e.photoId)),r=0===t?e.photos[t+1]:e.photos[0];return(0,n.Mf)((0,a.D_)(e.frameId,(e=>{if("gallery"===e.type&&r&&r.id)return Object.assign(Object.assign({},e),{photoId:r.id})})),(0,o.Nm)(e.photoId))})),f=(0,n.gQ)("handleCloseClick",((e,t)=>t?(0,n.Rh)((r=>r.isMobileDevice&&e.photoId?(0,a.D_)(e.id,(e=>Object.assign(Object.assign({},e),{photoId:void 0}))):(0,u._N)((e=>e.appContext.graveyard),(e=>{const r=e[e.length-1];if(null==r?void 0:r.find(m.yb))return(0,l.yt)();const i=null==r?void 0:r.find(d.B);return(null==i?void 0:i.entityId)===t.id?(0,l.yt)():(0,n.vP)((0,a.IW)(),(0,c.xo)({id:t.id,type:t.type}))})))):(0,l.Hm)()))},7513:(e,t,r)=>{"use strict";r.d(t,{_X:()=>M,pD:()=>T,VO:()=>H,Y8:()=>F,OF:()=>R,qk:()=>A,M8:()=>V,N6:()=>j,iQ:()=>L,W5:()=>B,Sz:()=>N,i2:()=>P});var n=r(26162),a=r(14101),i=r(59554),s=r(82326),o=r(88540),c=r(30998),l=r(91437),d=r(76913),u=r(96421),p=r(13128),m=r(60218),h=r(33373);var g=r(27237);const f=e=>{const{markerType:t,productsList:r,productOffersList:n,productItem:a,productOfferItem:i}=e;return"offer"===t?{productOffersList:n,productItem:a,productOfferItem:i}:{productsList:r}};var v=r(65513),y=r(15252),b=r(81870),w=r(48391),I=r(88710),E=r(57570),C=r(11052),x=r(75873),k=r(66032),_=r(59862),O=r(49706),S=r(20749),z=r(2615);const M=(e,t)=>(0,s.x)({state:t,name:"map",uuid:e.ownerFrameId});function j(){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id},(({mapUuid:e})=>{const t={uiElement:{name:"favoritesMapIcon",ownerName:"map",frameUuid:e},action:"tap"};return(0,n.zs)(t)}))}function T(e,t){return(0,i.gF)({search:e=>(0,a.rO)({state:e,searchId:t.searchId}),mapUuid:e=>e.appContext.staticFrames.map.id},(({search:r,mapUuid:a})=>{var i,s;const o={uiElement:{name:"mapMarker",ownerName:D(e,r.data&&r.data.searchSourceType),frameUuid:a},action:"tap",payload:{mapMarker:{scale:(0,d.Z)(e.currentType),adsHighlight:"commercial"===e.type,hasLogo:!!(null===(s=null===(i=t.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.marker_logo)||void 0}}};return(0,n.zs)(o)}))}function N(e,t){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,productsList:e=>{var t;return(0,o._)({state:e,frameId:null===(t=(0,l.t0)(e.appContext.frames,"search"))||void 0===t?void 0:t.id})},productOffersList:e=>{var t;return(0,c.a)({frameId:null===(t=(0,l.t0)(e.appContext.frames,"product"))||void 0===t?void 0:t.id,state:e})},productItem:e=>(0,g.k)({productId:t.product_id,state:e}),productOfferItem:e=>{if(t.org_id)return function({productId:e,offerByBranch:t,indexByBranch:r,hasToTheShopButton:n,state:a}){const i=(0,u.Gt)({state:a,productId:e});if(!(0,h.d)(i)||!(null==i?void 0:i.data))return;const{product:s}=null==i?void 0:i.data;return{product:{entity:{id:s.id,type:"orgProduct"},referenceProductId:s.reference_product_id||void 0,name:s.name,categories:s.categories.map((e=>({entity:{id:e.id,type:"productCategory"},name:e.label})))},offer:{owner:{entity:{id:t.branch.id,type:"branch"},org:t.branch.org.id},price:(0,p.Z)(t.price_value)},adsMarket:!!t.is_promoted,hasToTheShopButton:n,isSpecialAds:!!(0,m.$K)(t.special_placement)||void 0,positionInGroup:(0,m.$K)(r)?r+1:void 0}}({state:e,productId:t.product_id,offerByBranch:{branch:{id:t.branch_id,org:{id:t.org_id}},price_value:t.price_value,is_promoted:t.is_promoted}})}},(({mapUuid:r,productsList:a,productOffersList:i,productItem:s,productOfferItem:o})=>{const c={uiElement:{name:"mapMarker",ownerName:"product"===t.type?"productsList":"productOffersList",frameUuid:r},action:"tap",payload:Object.assign(Object.assign({},f({markerType:t.type,productsList:a,productOffersList:i,productItem:s,productOfferItem:o})),{mapMarker:{scale:(0,d.Z)(e.currentType),adsHighlight:"commercial"===e.type}})};return(0,n.zs)(c)}))}function P(e){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,placeItem:t=>({geoPosition:(0,w.a3)({lon:e.lonLat[0],lat:e.lonLat[1]}),entity:{type:"building",id:e.buildingId,segmentInfo:(0,E.U)({locale:(0,C.O)(t),region_id:(0,x.yH)(t)})}})},(({mapUuid:t,placeItem:r})=>{const a={uiElement:{name:"realtyMarker",ownerName:"map",frameUuid:t},action:"tap",payload:{placeItem:r,mapMarker:{scale:(0,d.Z)(e.currentType),mapLayer:"realtyLayer"}}};return(0,n.zs)(a)}))}function L(e){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>(0,l.t0)(e.appContext.frames,"realtyCard")},(({mapUuid:t,frame:r})=>{const a=(0,S.ux)(r);return a?(0,S.VX)(a,(r=>{if(!r||!r.data)return(0,b.ZT)();const{data:a}=e,i=(0,O.I)({realtyItem:r.data});if(!i)return(0,y.H)({message:"Не удалось сформировать payload.productOfferItem для события показа блока инфраструктуры v-gvroz",level:"error",id:"fd12s",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,b.ZT)();const s={uiElement:{name:"infrastructureMarker",ownerName:"map",frameUuid:t},action:"tap",payload:{infrastructureItem:{tagName:null==a?void 0:a.mainInfrastructureType},productOfferItem:i}};return(0,n.zs)(s)})):(0,b.ZT)()}))}function F({sysCode:e,isCommercial:t,isPersonal:r}){return(0,i._N)((e=>e.appContext.staticFrames.map.id),(a=>(0,n.zs)({uiElement:{name:"POI",ownerName:"map",frameUuid:a},action:"tap",payload:{POI:{category:e?{id:e}:void 0,adsHighlight:t||!1,isPersonal:r||void 0}}})))}function R(){return(0,i._N)((e=>e.appContext.staticFrames.map.id),(e=>(0,n.zs)({uiElement:{name:"stationIcon",ownerName:"routeGeometry",frameUuid:e},action:"tap"})))}function H(){return(0,i._N)((e=>e.appContext.staticFrames.map.id),(e=>(0,n.zs)({uiElement:{name:"mapObject",ownerName:"map",frameUuid:e},action:"tap"})))}function D(e,t){switch(t){case"filial":return"filialsList";case"firmsInBuilding":return"buildingOrgsList";case"query":default:return e.data&&e.data.type&&("offer"===e.data.type||"product"===e.data.type)?"product"===e.data.type?"productsList":"productOffersList":"searchResultsList"}}function B(){return(0,i.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,query:e=>{const t=(0,l.t0)(e.appContext.frames,"search");return t&&t.query||""},rubric:e=>{var t,r;const n=(0,l.t0)(e.appContext.frames,"search");if(!n)return;const i=(0,a.rO)({state:e,searchId:"tabCatalog"in n?(0,z.Gp)(n.tabCatalog.searchId):""});return null===(r=null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.filters)||void 0===r?void 0:r.rubric_id}},(({mapBssUuid:e,query:t,rubric:r})=>(0,n.zs)({uiElement:{name:"map",frameUuid:e},action:"dragAndDrop",payload:{searchRequest:{text:t,entities:r?[{id:r,type:"rubric"}]:[]}}})))}function A(e,t){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,entity:r=>(0,I.Q)((0,m._J)(e.id),t.searchId)(r)},(({mapUuid:e,entity:r})=>{const a=(0,v.U)(t);if(!a||!r)return(0,y.H)({message:"Не удалось отправить сообщение для тапа СТА в карте",level:"error",id:"ksdnkd",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,b.ZT)();const i={action:"tap",uiElement:{name:"callToActionButton",ownerName:"mapMarker",frameUuid:e},payload:{callToAction:{actionType:a.type,value:a.value},placeItem:(0,w.Pj)({entity:r})}};return(0,n.zs)(i)}))}const V=(e,t)=>(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>e.appContext.frames.find(_.l)},(({mapUuid:r,frame:a})=>{if(!a)return void(0,y.H)({message:"Не удалось затрекать клик в маркер обмена валют(a-knpw8)",level:"error",id:"a-knpw8",payload:{type:"debug",subtype:"BssTrackerV3"}});const i={uiElement:{name:"exchangeCurrencyMarker",ownerName:"exchangeCurrencyList",frameUuid:r},action:"tap",payload:{mapMarker:{scale:(0,d.Z)(e.currentType),mapLayer:"exchangeCurrencyLayer"},exchangeCurrencyList:(0,k.R)(a,t)}};return(0,n.zs)(i)}))},21958:(e,t,r)=>{"use strict";r.d(t,{S:()=>m});var n=r(2784),a=r(56429),i=r(97232),s=r(93043),o=r(23008),c=r(59297),l=r(77584),d=r(67675),u=r(29920),p=r(97264);const m=(0,n.memo)((e=>{const{labelLines:t,dbgSize:r}=e,{css:o,s:c}=(0,u.y)(h),l=(0,n.useMemo)((()=>(e,t)=>{if(t)return n.createElement("span",{key:"workingTime",className:o(c.workingTime),style:{color:t}},e)}),[o,c.workingTime]),d=(0,n.useMemo)((()=>e=>n.createElement("span",{key:"rating"},n.createElement("div",{className:o(c.ratingStar)},n.createElement(a.U,{color:"#666",size:12})),n.createElement("div",{className:o(c.rating)},e))),[]),p=(0,n.useMemo)((()=>e=>n.createElement("span",{key:"actionButton","data-isctabutton":!0,className:o(c.ctaButtonContainer)},e.href?n.createElement("a",{href:e.href,target:"_blank",className:o(c.ctaButton)},e.text):n.createElement("span",{className:o(c.ctaButton)},e.text))),[]),m=(0,n.useMemo)((()=>(e,r)=>{const{type:a,text:i,color:u}=e;switch(a){case"name":return n.createElement("span",{key:"name",className:o(c.title)},i);case"adsText":return n.createElement("span",{key:"adsText",className:o(c.ads)},i);case"rating":return d(i);case"stopFactor":return n.createElement("span",{key:r,className:o(c.stopFactor)},i);case"workingTime":return l(i,u);case"link":case"order":return p(e);case"exchange":return n.createElement("span",Object.assign({key:"exchange",className:o(c.exchange,1===t.length&&c.__onlyExchange)},s.dx.n("wat-exchange-rate-in-marker")),i)}}),[p,d,l]),g=(0,n.useMemo)((()=>(e,t)=>{if(e[0])return"rating"===e[0].type||"stopFactor"===e[0].type?n.createElement(n.Fragment,{key:t},n.createElement("span",{className:o(c.stopFactorsLine),"data-ismarkerlabel":!0},n.createElement(i.v,{inline:!0,__experimentalStyles:c.labelKebab,dotTheme:"dark"},e.map(m))),n.createElement("br",null)):n.createElement(n.Fragment,{key:t},n.createElement("span",{key:t},e.map(m)),n.createElement("br",null))}),[m]);return t.length?n.createElement("div",Object.assign({className:o(c.wrapper,r&&c._dbgSelfOverlay)},s.dx.n("wat-marker-label")),n.createElement("span",{className:o(c.container)},t.map(g),r&&n.createElement(n.Fragment,null,n.createElement("span",{className:o(c.dbgSizes)},`${r.width}/${r.height}`),n.createElement("span",{className:o(c._dbgSizeOverlay),style:{width:r.width,height:r.height}})))):null})),h=(0,u.k)({wrapper:{maxWidth:o.d,lineHeight:1.25,userSelect:"none",fontSize:11,fontWeight:500,fontFamily:"SuisseIntl, Helvetica, Arial, sans-serif",textShadow:"-1px -1px 0 #ffffff66, 1px -1px 0 #ffffff66, -1px 1px 0 #ffffff66, 1px 1px 0 #ffffff66",color:p.O.gray_4d4d4d,cursor:"pointer",position:"relative"},_dbgSelfOverlay:{background:(0,c.j)(p.O.green_299400,.2)},_dbgSizeOverlay:{background:(0,c.j)("#94002a",.2),position:"absolute",top:0,left:0,pointerEvents:"none"},container:{pointerEvents:"auto"},title:{color:"#262626",fontSize:13},ads:{marginTop:2},stopFactorsLine:{marginTop:2,fontSize:10,color:"#555"},labelKebab:{display:"inline"},ratingStar:{display:"inline-flex",verticalAlign:"top",stroke:"#ffffffee"},rating:{display:"inline-flex",padding:"0 1px",fontSize:11},stopFactor:{padding:"0 1px",fontSize:11},workingTime:{marginTop:2,fontSize:11},dbgSizes:{position:"absolute",color:p.O.red_fe5000,bottom:0,right:0,fontSize:8,pointerEvents:"none"},ctaButtonContainer:{paddingTop:2,display:"inline-block"},ctaButton:Object.assign(Object.assign({height:20,borderRadius:l.E.minicard,color:p.O.blue_0072ce,background:(0,c.j)(p.O.white,.8),padding:"4px 8px",boxSizing:"border-box",display:"inline-block"},d.yG),{":hover":{background:p.O.white,color:p.O.blue_028eff}}),exchange:{marginTop:2,fontSize:13},__onlyExchange:{marginTop:0,color:"#262626"}})},40597:(e,t,r)=>{"use strict";r.d(t,{lD:()=>w,Fb:()=>E,$n:()=>I});var n=r(64920),a=r(14101),i=r(81870),s=r(67138),o=r(59554),c=r(97883),l=r(11052),d=r(49769),u=r(60218);const p=e=>{const{currentZoom:t,isViewportChanged:r}=e;if(r)return t>=19?21:void 0},m=(0,i.gQ)("searchMarkersWithViewpoint",(e=>(0,o.gF)({viewpoint:c.Id,screen:e=>e.session.screen,locale:l.O,currentMarkers:t=>{var r;return null===(r=t.data.search.markers[e.searchId])||void 0===r?void 0:r.data},geolocationPosition:e=>e.session.geolocation.position,zoom:e=>e.appContext.zoom},(({viewpoint:t,screen:r,locale:n,currentMarkers:a,geolocationPosition:s,zoom:o})=>(0,i.WC)((0,d.C)({query:e.query,attrId:e.attrId,rubrId:e.rubricId,buildingId:e.buildingId,orgId:e.orgId,searchId:e.searchId,filters:e.filters||{},adsIds:e.adsIds,sortPoint:s,viewpoint:e.isViewportChanged?t:e.viewpoint||t,isViewportChanged:!!e.isViewportChanged,overrideClusterZoom:p({isViewportChanged:!!e.isViewportChanged,currentZoom:o}),screen:r,locale:n,markersWithLogoIds:a&&200===a.code?a.items.reduce(((e,t)=>{var r,n;return(null===(n=null===(r=t.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.marker_logo)&&e.push((0,u._J)(t.id)),e}),[]):[]}))))));var h=r(20869),g=r(2613),f=r(17041),v=r(91437),y=r(31253),b=r(57787);const w=e=>(0,i.Mf)(I(e),E()),I=e=>(0,i.xJ)((t=>{b.a.startTracker();const{update:r,isViewportChanged:a}=e||{},o=(0,n.m)(t);if(!o)return(0,i.ZT)();if("query"===o.searchType&&"catalog"===o.tab||"filials"===o.searchType||"inbuilding"===o.searchType||"buyHere"===o.searchType||"fmcg"===o.searchType)return(0,i.vP)(C(),x({update:r,isViewportChanged:a}));const c=(0,v.t0)(t.appContext.frames,"product");return"query"!==o.searchType||c?(0,i.ZT)():(0,f._d)({query:o.query,filterValues:o.tabMarket.filterValues,viewpoint:(0,s.v)(o),building_id:o.tabMarket.buildingId})})),E=()=>(0,i.xJ)((e=>{const t=(0,v.t0)(e.appContext.frames,"product");return t?(0,y.c_)({productId:t.productId,viewpoint:t.viewpoint,locale:(0,l.O)(e),searchId:t.offersSearchId,filters:t.filterValues,query:t.query,building_id:t.buildingId}):(0,i.ZT)()})),C=(0,i.gQ)("updateCatalogMarkersId",(()=>(0,o.gF)({frame:n.m,markersId:c.xl},(({frame:e,markersId:t})=>e&&!t?(0,g.PP)({frameId:e.id,markersId:(0,u.by)()}):(0,i.ZT)())))),x=(0,i.gQ)("fetchCatalogMarkersIfNecessary",(({update:e,isViewportChanged:t})=>(0,i.xJ)((r=>{const o=(0,n.m)(r),l=(0,c.xl)(r);if(!o||!l)return(0,i.ZT)();const d=!!(0,a.Aw)({state:r,searchId:l});if(!e&&d)return(0,i.ZT)();let u;if("query"===o.searchType){const e=o.tabCatalog.rubricId||o.tabCatalog.attributeId?void 0:o.query;u={searchId:l,attrId:o.tabCatalog.attributeId,filters:(0,h.Q)(o),isViewportChanged:t,query:e,rubricId:o.tabCatalog.rubricId,viewpoint:(0,s.v)(o)}}return"filials"===o.searchType&&(u={searchId:l,filters:(0,h.Q)(o),isViewportChanged:t,orgId:o.orgId,viewpoint:void 0}),"inbuilding"===o.searchType&&o.query&&(u={searchId:l,filters:(0,h.Q)(o),isViewportChanged:t,query:o.query,rubricId:o.rubricId,buildingId:o.originalSearchId?void 0:o.buildingId,viewpoint:void 0}),"buyHere"!==o.searchType&&"fmcg"!==o.searchType||(u={query:o.query,searchId:l,viewpoint:void 0,isViewportChanged:t,adsIds:o.adsIds,filters:(0,h.Q)(o)}),u?m(u):(0,i.ZT)()}))))},64920:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(91437);function a(e){const t=(0,n.Di)(e.appContext.frames);if(t)return t}},36247:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(11027);function a(e){if(!e||!e.type)return"other";switch(e.type){case"crash":return"crash";case"camera":return(0,n.y)(e);case"roadwork":return"roadwork";case"restriction":return"closure";case"comment":return"chat"}return"other"}},11027:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(36450);const a=e=>{var t,r;const a=null===(t=e.data)||void 0===t?void 0:t.violation;if(!a)return"camera";if(a.includes(1)||a.includes(9)){const t=null===(r=e.data)||void 0===r?void 0:r.speed,a=`camera-${t}`;return t&&n.m.includes(a)?a:"camera"}return a.includes(10)?"camera-parking":a.includes(11)?"camera-line":a.includes(4)?"camera-bus":a.includes(2)?"camera-tl":"camera"}},71758:(e,t,r)=>{"use strict";function n(e){let t;switch(e){case"3d":t=r.e(1411).then(r.bind(r,77041));break;default:t=r.e(4895).then(r.bind(r,45204))}return t.then((e=>{"getJakarta"in e?e.getJakarta().then(s):s(void 0)})),t}function a(e,t,r,a){return n(a).then((n=>n.init(e,t,r)))}function i(e,t){return n(t).then((t=>t.update(e)))}let s;r.d(t,{ay:()=>n,y9:()=>a,sA:()=>i,Oe:()=>c});const o=new Promise((e=>{s=e}));function c(){return o}},98137:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var n=r(81870),a=r(28385);const i=(0,n.gQ)("killTooltips",(()=>(0,n.XJ)((0,n.PQ)((()=>a.M.set((()=>{})))))))},9007:(e,t,r)=>{"use strict";r.d(t,{t:()=>y});var n=r(81870),a=r(97883),i=r(78438),s=r(91437),o=r(59364),c=r(14101),l=r(27949),d=r(20869),u=r(59554),p=r(7513),m=r(88869),h=r(96421),g=r(17041);var f=r(40597),v=r(1882);const y=(0,n.gQ)("refreshSearchResults",(({prevZoom:e,afterMapViewChange:t})=>(0,u._N)((e=>function(e){const t=e[e.length-1],r=1===e.length;if(t&&"search"===t.type)switch(t.searchType){case"query":return"market"!==t.tab||r?t:void 0;case"fmcg":case"buyHere":case"filials":case"inbuilding":return t;default:return}}(e.appContext.frames)),(r=>r?"searchType"in r&&"query"===r.searchType&&"market"===r.tab?b({frame:r,prevZoom:e}):w({frame:r,prevZoom:e,afterMapViewChange:t}):(0,n.ZT)())))),b=(0,n.gQ)("refreshMarketSearchResults",(({prevZoom:e,frame:t})=>"catalog"===t.tab?(0,n.ZT)():(0,u.gF)({mapViewParams:a.Z1,screen:e=>e.session.screen,offset:a.v9,dragBound:e=>{const r=(0,h.NP)({state:e,searchId:(0,m.r)(t)||""});return r.data&&r.data.drag_bound}},(({mapViewParams:{center:r,zoom:a,pitch:i,rotation:o},screen:c,offset:p,dragBound:m})=>function({prevZoom:e,dragBound:t,center:r,screen:n,offset:a,pitch:i,rotation:s,zoom:o}){return!!(0,l.Lc)({dragBound:t,center:r,zoom:o,screen:n,offset:a,pitch:i,rotation:s})||e<o&&o<11}({prevZoom:e,dragBound:m,center:r,zoom:a,screen:c,offset:p,pitch:i,rotation:o})?(0,u.zh)((e=>(0,g.Hi)({frameId:t.id,filterValues:(0,d.Q)(t)||{},parentSearchId:(0,s.GK)(t),query:t.query,viewpoint:e,buildingId:t.tabMarket.buildingId}))):(0,n.ZT)())))),w=(0,n.gQ)("refreshCatalogSearchResults",(({prevZoom:e,frame:t,afterMapViewChange:r})=>(0,n.xJ)((m=>{var h;if("query"===t.searchType&&"market"===t.tab)return;const g=(0,s.QB)(t),y=(0,c.rO)({state:m,searchId:g}).data,b=(0,d.Q)(t),w=(0,a.Id)(m),I="filials"===t.searchType,{center:E,zoom:C,pitch:x,rotation:k}=m.appContext,{screen:_}=m.session,O=(0,a.v9)(m),S=(0,a.xl)(m),z=S&&(0,c.Aw)({state:m,searchId:S}),M=z&&"success"===z.meta.status?z.data:void 0,j=(0,l.Lc)({dragBound:y&&y.searchAttributes&&y.searchAttributes.drag_bound,center:E,zoom:C,screen:_,offset:O,pitch:x,rotation:k}),T=(0,l.vI)({zoomInBound:null===(h=null==y?void 0:y.searchAttributes)||void 0===h?void 0:h.zoomin_bound,viewpoint:w}),N=(0,l.hy)({isDragboundOut:j,isZoomInBoundOut:T,isFilialsResults:I,isBuyHereResult:"buyHere"===t.searchType||"fmcg"===t.searchType,zoom:C,prevZoom:e,filterValues:b}),P=j||(0,l.Lc)({dragBound:M&&M.search_attributes&&M.search_attributes.drag_bound,center:E,zoom:C,screen:_,offset:O,pitch:x,rotation:k}),L=(0,l.sT)({updateSearchAndMarkers:N,isFilialsResults:I,zoom:C,prevZoom:e}),F=(0,l.Ce)(L,P,C,e,M),R=r&&L;switch(t.searchType){case"query":if(L)return(0,n.vP)(R&&(0,p.W5)(),(0,u.zh)((e=>(0,i.Qp)({frameId:t.id,rubricId:t.tabCatalog.rubricId,filterValues:b||{},parentSearchId:(0,s.vr)(t),filtersId:(0,o.p)(t),isViewportChanged:!0,query:t.query,preserveMarkers:!F,searchId:g,viewpoint:e}))));break;case"filials":if(L)return(0,n.vP)(R&&(0,p.W5)(),(0,i.tE)({frameId:t.id,filterValues:b||{},isViewportChanged:!0,filtersId:(0,o.p)(t),orgId:t.orgId}));break;case"buyHere":case"fmcg":if(L)return(0,n.vP)(R&&(0,p.W5)(),(0,v.K)({frame:t,filterValues:(0,d.Q)(t),isViewportChanged:!0}))}return F?(0,f.lD)({update:!0,isViewportChanged:!0}):void 0}))))},88522:(e,t,r)=>{"use strict";r.d(t,{b:()=>O});var n=r(5163);const a=(0,r(12563).createModel)("exchangeMarkers",(({services:e},t)=>({fetch(){return(0,n.mG)(this,void 0,void 0,(function*(){return yield e.marketApi.getExchangeMarkers(Object.assign({},t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var i=r(14670),s=r(97883),o=r(51763),c=r(11052),l=r(59862),d=r(2784),u=r(29288),p=r(48090),m=r(21958),h=r(24829);const g=`${r(15866).L_}/ `;var f=r(65856),v=r(1514),y=r(54951),b=r(31137);const w=e=>{const{marker:t,labelLines:r,frame:n,currency:a,time:i,tp:s,is12h:o}=e,{name_ex:c,reviews:l}=t.data.branch;if(r.length)return r.reduce(((e,r)=>{var d;switch(r){case"name":{const t=null==c?void 0:c.primary;return t&&e.push([{type:"name",text:t}]),e}case"rating":{const r=null===(d=null==l?void 0:l.general_rating)||void 0===d?void 0:d.toString(),n=(e=>{const{marker:t,tp:r,time:n,is12h:a}=e,{timezone_offset:i,schedule:s}=t.data.branch;if(void 0===i||!s)return;const o=(0,b.t)(n,i),c=(0,v.Vi)(s,!1,o,r,a),l=(0,f.S)(s,o);return c?{text:c,color:(0,y.S)(l),type:"workingTime"}:void 0})({marker:t,time:i,tp:s,is12h:o}),a=[];return r&&a.push({type:"rating",text:r}),n&&a.push(n),e.push(a),e}case"rates":{const r=(0,h.S)({frame:n,data:t.data,short:!0}),i=(e=>{const{tp:t,values:r,symbol:n}=e;return null==r?void 0:r.map((e=>t._gg("%1&nbsp;%2",[e.value,n]))).join(g)})({symbol:a.symbol||a.code,tp:s,values:r});return e.push([{type:"exchange",text:i}]),e}default:return e}}),[])},I={offset:[14,-7]};function E(e){const{marker:t,tp:r,currency:n,labelLines:a,frame:i,is12h:s}=e,o=function(e){var t;const r=w(e);if(!r)return;const n=(0,u.D)(r),a=!!(null===(t=window)||void 0===t?void 0:t.debugMap);return{content:(0,p.renderToStaticMarkup)(d.createElement(m.S,{labelLines:r,dbgSize:a?n:void 0})),width:n.width,height:n.height,offset:I.offset}}({marker:t,tp:r,currency:n,labelLines:a,frame:i,time:Date.now(),is12h:s});return Object.assign(Object.assign({},t),{htmlLabel:o})}var C=r(76023),x=r(20761),k=r(60404),_=r(4390);function O(){const e=(0,i.v9)(c.O),t=(0,i.v9)((e=>e.appContext.frames.find(l.l))),r=(0,C.T)(),n=(0,i.v9)(s.Id),u=(0,i.v9)((e=>e.appContext.zoom)),p=(0,i.v9)((e=>e.appContext.center)),m=(0,d.useMemo)((()=>n),[u,p]),{is12h:h}=(0,x.Z)(),g=(0,o.tT)(t?a({viewpoint:m,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode}):void 0);return(0,d.useMemo)((()=>{if(!(null==g?void 0:g.data)||!t)return{markersData:void 0,isPending:null==g?void 0:g.isPending,error:null==g?void 0:g.error};const{items:e,national_currency:n}=g.data;return{markersData:e.reduce(((e,a,i)=>{const s=a.branch.id,o=Object.assign(Object.assign({},a),{source:"exchange"}),c=E({marker:{key:s,id:s,lonLat:[a.lon,a.lat],type:"bigbullet",data:o,icon:M(a.benefit)},currency:n,tp:r,labelLines:z({zoom:u}),frame:t,is12h:h});return e.hashMap[s]=i,e.markers.push(c),e}),{hashMap:{},markers:[]}),isPending:null==g?void 0:g.isPending,error:null==g?void 0:g.error}}),[g.data,t])}const S=[{zoom:15,lines:["name","rating","rates"]},{zoom:12,lines:["name","rates"]},{zoom:9,lines:["rates"]},{zoom:1,lines:k.LZ}];function z(e){const{zoom:t}=e,r=S.find((e=>t>=e.zoom));return void 0!==r?r.lines:k.LZ}function M(e){const t=(0,_.s)();return{bigbullet:{normal:{url:`${t}markers/exchange/${e}_bigbullet.svg`},hover:{url:`${t}markers/bigbullet_hover.svg`}},middlebullet:{normal:{url:`${t}markers/exchange/${e}_middlebullet.svg`},hover:{url:`${t}markers/middlebullet_hover.svg`}},smallbullet:{normal:{url:`${t}markers/exchange/${e}_smallbullet.svg`},hover:{url:`${t}markers/smallbullet_hover.svg`}}}}},27949:(e,t,r)=>{"use strict";r.d(t,{DT:()=>f,r1:()=>g,Lc:()=>u,vI:()=>v,Ce:()=>h,sT:()=>m,hy:()=>p});var n=r(99116),a=r(6002),i=r(14693),s=r(60218),o=r(92291),c=r(86769),l=r(22424);function d(e,t){return Math.floor(e)!==Math.floor(t)}function u(e){const{dragBound:t,center:r,zoom:i,screen:s,offset:o,pitch:c,rotation:l}=e;if(!t)return!0;const d=(0,a.o)(s,o),u=(0,n.D)({center:r,zoom:i,mapSize:d,pitch:c,rotation:l});return p=u,m=t.map((e=>[e.longitude,e.latitude])),!!p.find((e=>!function(e,t){const r=e[0],n=e[1];let a=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){const s=t[e][0],o=t[e][1],c=t[i][0],l=t[i][1];o>n!=l>n&&r<(c-s)*(n-o)/(l-o)+s&&(a=!a)}return a}(e,m)));var p,m}function p(e){const{filterValues:t,isFilialsResults:r,isBuyHereResult:n,isDragboundOut:a,isZoomInBoundOut:s,prevZoom:o,zoom:c}=e;return!(!t||"true"!==t.bound)||!r&&!n&&(!!a||(!(!d(o,c)||!(0,i.e)(o))||!!s))}function m(e){const{updateSearchAndMarkers:t,isFilialsResults:r,zoom:n,prevZoom:a}=e;return!!t||!r&&(!!d(a,n)&&Math.min(n,a)<=11)}function h(e,t,r,n,a){return!!e||(!!t||!!(r>n&&a&&200===a.code&&a.items.find((e=>e.cluster))))}function g(e){return"marker"===e.origin&&e.marker?e.marker&&e.marker.data&&"market"===e.marker.data.source?e.marker.data.branch_id:e.marker&&e.marker.data&&"favorites"===e.marker.data.source?e.marker.data.entityId?e.marker.data.entityId:void 0:(0,s._J)(e.marker.id):"poi"===e.origin?e.target.id:void 0}function f(e,t,r,n){const{floorNames:a,firmsToFloorIndexMap:i,currentFloor:s}=e;if(void 0!==t&&!t.floorsId&&void 0!==t.currentFloor&&e.floorNames[t.currentFloor])return t.currentFloor;const l=r?i[r.entityId]:void 0;if(void 0!==l)return l;if(void 0===s){const e=(0,c.e)({floorNames:a,firmsToFloorIndexMap:i},n),t=e&&(0,o.M)(e);if(void 0!==t)return t}return s}function v(e){const{viewpoint:t,zoomInBound:r}=e,[n,a]=t;if(void 0===r||0===r)return!1;const i={lon:a.lon,lat:n.lat},s=(0,l.c)(n,i),o=(0,l.c)(i,a);return Math.max(s,o)<r}},52808:(e,t,r)=>{"use strict";function n(e){return e.match(/^(personal)(?:_|$)/)}r.d(t,{l:()=>n})},20309:(e,t,r)=>{"use strict";r.d(t,{g:()=>o,e:()=>c});var n=r(97795),a=r(81870),i=r(90961),s=r(72463);function o(e){return(0,a.vP)((0,i.BN)(),(0,a.PQ)((()=>{s.Y.set((()=>!1))})),(0,n.q)(Object.assign({isOpen:!0},e)))}function c(){return(0,a.vP)((0,i.BN)(),(0,n.q)({isOpen:!1,dialogId:void 0,orgId:void 0,branchId:void 0}))}},81169:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var n=r(81870),a=r(60218),i=r(63792);const s=(0,n.gQ)("openAgreementPopup",(e=>(0,i.Mw)({id:(0,a.by)(),type:"personalDataAgreement",withDecline:e})))},11658:(e,t,r)=>{"use strict";r.d(t,{qL:()=>a,Lm:()=>i,a2:()=>s,Df:()=>o,t1:()=>c,Gk:()=>l});var n=r(82326);const a=e=>({frameId:t})=>({uiElement:{name:e?"editPhoneNumber":"addPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:t},action:"tap"}),i=()=>({frameId:e})=>({uiElement:{name:"confirmPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:e},action:"tap"}),s=()=>({frameId:e},t)=>(0,n.x)({state:t,name:"phoneVerificationFrame",uuid:e}),o=()=>({frameId:e})=>({uiElement:{name:"confirmationStep",ownerName:"phoneVerificationFrame",frameUuid:e}}),c=()=>({frameId:e})=>({uiElement:{name:"sendAgainButton",ownerName:"confirmationStep",frameUuid:e},action:"tap"}),l=()=>({frameId:e})=>({uiElement:{name:"phoneVerificationFrame",frameUuid:e},action:"close"})},14838:(e,t,r)=>{"use strict";r.d(t,{V:()=>s});var n=r(81870),a=r(60218),i=r(63792);const s=(0,n.gQ)("openPhoneConfirmationPopup",(({phone:e,withDecline:t,source:r})=>e?(0,i.Mw)({id:(0,a.by)(),type:"phoneConfirmationPopup",phone:e,withDecline:t,source:r}):(0,n.ZT)()))},72273:(e,t,r)=>{"use strict";r.d(t,{s:()=>b});var n=r(97264),a=r(20761),i=r(63715),s=r(29920),o=r(67751),c=r(21131),l=r(39116),d=r(93043),u=r(2784),p=r(14670),m=r(76023),h=r(69662),g=r(67675),f=r(11658),v=r(14838),y=r(84489);const b=(0,u.memo)((({phone:e,phoneCode:t,isConfirmed:r,onChange:n,source:g})=>{const{_gg:b}=(0,m.T)(),{css:I,s:E}=(0,s.y)(w),C=(0,p.I0)(),{useBssHandler:x}=(0,l.T)(),k=x(f.qL,!!e&&r),_=x(f.Lm),{featurePhone:O,countryPhoneCode:S}=(0,a.Z)(),z=(0,u.useRef)(null),M=t||S,[j,T]=(0,u.useState)((()=>(0,y.CN)(e))),[N,P]=(0,u.useState)(!1),L=!!e&&!r,F=!!e&&!(0,y.JY)(e),R=L||F,H=(0,i.$)((()=>{k(),P(!0)})),D=(0,i.$)((()=>{P(!1)})),B=(0,i.$)((()=>{_(),C((0,v.V)({phone:j,withDecline:!1,source:g}))})),A=(0,i.$)((e=>{T(e),(0,y.JY)(e)?n(e):n("")})),V=(0,u.useCallback)((e=>(setTimeout((()=>{if(!z.current)return;const t=z.current.selectionStart||0;if(" "===e[t]&&e!==j){const r=t+2===e.length?t+2:t+1;z.current.setSelectionRange(r,r)}})),e)),[j]);return O?u.createElement(u.Fragment,null,u.createElement(h.f,{label:b("Телефон"),hasLabel:!0,input:u.createElement(c.V,{accept:/[\d\s/+]+/g,format:y.CN,onChange:A,value:j,replace:V},(({value:e,onChange:t})=>u.createElement("input",Object.assign({ref:z,className:I(E.input),type:"tel",autoComplete:"tel",placeholder:M},d.dx.n("wat-phone-input"),{value:e,onChange:t,onFocus:H,onBlur:D})))),error:!N&&R,focused:N,renderOutside:()=>L&&(0,y.JY)(j)&&u.createElement(o.Z,{styles:N?E.buttonFocused:E.button,onClick:B},b("Подтвердить"))}),R&&u.createElement("div",{className:I(E.errorMessage)},b(F?"Ошибка в телефоне":L?"Телефон не подтверждён":""))):null}));b.displayName="PhoneInput";const w=(0,s.k)({input:Object.assign(Object.assign({color:n.O.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial"},g.qH),{"::placeholder":{color:n.O.gray_929292}}),button:{borderBottom:`1px solid ${n.O.red_fe5000}`},buttonFocused:{borderBottom:`1px solid ${n.O.blue_0072ce}`},errorMessage:Object.assign(Object.assign({},g.yG),{color:n.O.red_fe5000,paddingTop:6})})},84489:(e,t,r)=>{"use strict";r.d(t,{JY:()=>p,CN:()=>b,j1:()=>I,lS:()=>E,OW:()=>C});var n=r(62849),a=r(47004);const i="+7",s="+375",o="+380",c="+996",l="+998",d="+994",u="+971";function p(e){const t=w(e),r=t.length;return e.startsWith(i)||e.startsWith("8")||e.startsWith(c)?11===r:e.startsWith(s)||e.startsWith(o)||e.startsWith(l)||e.startsWith(d)?12===r:e.startsWith(u)?12===r||11===r:10<=t.length&&t.length<=20}const m=/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/,h=/(\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/,g=/(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})(\d{0,2})/,f=/(\d{0,3})(\d{0,1})(\d{0,7})/,v=/(\d{0,3})(\d{0,9})/,y=/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/;function b(e){var t;const r=w(e),n="+"===e[0],a=null===(t=function(e){if(e.startsWith(i)||e.startsWith("8"))return m;if(e.startsWith(s)||e.startsWith(o)||e.startsWith(l)||e.startsWith(d))return h;if(e.startsWith(c))return g;if(e.startsWith(u))return 13===e.length?v:f;return y}((n?"+":"")+r).exec(r))||void 0===t?void 0:t.slice(1);if(!a)return e;const p=a.join(" ").trim();return n?"+"+p:p}function w(e){return e.replace(/\D/g,"")}function I(e){const t=e.previousSibling;t&&t.focus()}function E(e){const t=e.nextSibling;t&&t.focus()}function C(e){switch(e){case"profile":return(0,a.Z)();case"lawPopup":return(0,n.p)()}}},62849:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(81870),a=r(60218),i=r(63792);const s=(0,n.gQ)("openPhoneLawPopup",(()=>(0,i.Mw)({id:(0,a.by)(),type:"phoneLawPopup"})))},86741:(e,t,r)=>{"use strict";r.d(t,{W:()=>c});var n=r(88835),a=r(81870),i=r(60404),s=r(15402),o=r(60218);const c=(0,a.gQ)("openPoint",(e=>{const{point:t,shouldCenterMap:r}=e;return(0,a.vP)((0,n.Jt)({id:(0,o.by)(),type:"entity",entityId:i.k8,entityType:"point",point:e.point,searchId:"",gtaId:""}),r?(0,s.Nr)({lon:t.lon,lat:t.lat,zoom:16}):(0,a.ZT)())}))},86757:(e,t,r)=>{"use strict";r.d(t,{n:()=>a,c:()=>i});var n=r(53849);const a=e=>"prices"===e.type,i=(0,n.F)(a)},88710:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});const n=(0,r(89965).T3)(),a=(e,t)=>r=>n({state:r,entityId:e,searchId:t}).data},77347:(e,t,r)=>{"use strict";r.d(t,{e:()=>p});var n=r(81870),a=r(60218),i=r(88835),s=r(31253),o=r(11052),c=r(47046),l=r(59554),d=r(96421),u=r(13310);function p(e){const{productId:t,searchId:r,viewpoint:p,buildingId:m,filterValues:h}=e,g=(0,a.by)(),f=(0,a.by)(),v=r||(0,a.by)(),y=(0,a.by)();return(0,l.gF)({firstFrame:e=>e.appContext.frames[0],locale:o.O},(({locale:e,firstFrame:r})=>{const o=!r||"search"!==r.type&&"product"!==r.type?void 0:r.query;let l=!0,b=(0,a.by)();return r&&"product"===r.type&&r.productId===t&&(l=!1,b=r.offersSearchId),(0,n.vP)((0,i.Jt)({id:g,type:"product",productId:t,offersSearchId:b,filtersId:f,query:o,filterValues:h,hash:v,statusId:y,page:1,viewpoint:p,buildingId:m}),(0,n.Mf)((0,u.D)((e=>(0,d.Gt)({state:e,productId:t})),(0,s.MX)({productId:t,viewpoint:p,locale:e})),l&&(0,n.XJ)((0,s.c_)({productId:t,viewpoint:p,locale:e,searchId:b,filters:h,query:o,building_id:m})),(0,c.U)({statusId:y,productId:t,buildingId:m,searchId:b,filtersId:f,filters:h,page:1,viewpoint:p,locale:e})))}))}},89066:(e,t,r)=>{"use strict";function n(e){return"product"===e.type}r.d(t,{U:()=>n,$:()=>a});const a=(0,r(53849).F)(n)},32468:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(88835),a=r(60218);function i(e){return(0,n.Jt)({id:(0,a.by)(),type:"publicFavorites",subtype:e})}},39206:(e,t,r)=>{"use strict";r.d(t,{T:()=>g});var n=r(81870),a=r(90961),i=r(88835),s=r(60218),o=r(59554),c=r(91437),l=r(15301),d=r(85265),u=r(52534),p=r(42021),m=r(78921),h=r(35036);const g=(0,n.gQ)("openRealtyFrame",(e=>{var t,r;const g=(0,s.by)(),f=null==e?void 0:e.realtyId,v=null==e?void 0:e.entity,y=null==e?void 0:e.source,b=(0,s.by)();return(0,n.vP)((0,o._N)((e=>(0,c.t0)(e.appContext.frames,"realty")),(t=>{var r,n;const o=(null==e?void 0:e.categoryId)||(null===(r=null==e?void 0:e.filters)||void 0===r?void 0:r.tip_pomeshcheniya)&&(0,p.$8)(e.filters.tip_pomeshcheniya)||(null==t?void 0:t.categoryId)||p.jY.sale.categoryId;return(0,a.BN)((0,i.Jt)({id:(0,s.by)(),scrollId:(0,s.by)(),type:"realty",page:1,entity:v,searchId:g,reviewSearchId:b,suggestId:null==e?void 0:e.suggestId,filterPanelState:(null==t?void 0:t.filterPanelState)||"auto",filterValues:(null==e?void 0:e.filters)||(0,d.B)({frame:t,isEntity:!!(null===(n=null==e?void 0:e.entity)||void 0===n?void 0:n.id),newCategoryId:null==e?void 0:e.categoryId}),categoryId:o,source:y}))})),(0,m.C)("building"===(null===(t=null==e?void 0:e.entity)||void 0===t?void 0:t.type)&&(0,u.i)({realtyId:f,skipHistoryPush:!0})),(0,m.C)((0,l.l)()),(0,m.a)(1===(null==e?void 0:e.total)&&"building"===(null===(r=e.entity)||void 0===r?void 0:r.type)&&(0,u.i)({realtyId:f,skipHistoryPush:!0})),(0,m.a)((0,o._N)((e=>e.appContext.isDataViewerMinimized),(e=>e&&(0,h.kG)({isMinimized:!1})))))}))},90057:(e,t,r)=>{"use strict";r.d(t,{Bg:()=>i,nv:()=>s,qI:()=>o});var n=r(27671),a=r(53849);function i(e){return"realty"===e.type}const s=(0,n.r)(i),o=(0,a.F)(i)},15301:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(81870),a=r(98137),i=r(2613);const s=(0,n.gQ)("killRealtyTooltip",(()=>(0,n.Mf)((0,a.p)(),(0,i.yy)({realtyHoveredId:void 0}))))},3125:(e,t,r)=>{"use strict";r.d(t,{Pk:()=>i,xj:()=>s,Tg:()=>c,uN:()=>l,iV:()=>d});var n=r(54629);const a="realtytooltip",i={[`data-${a}`]:!0},s=(0,n.c)(void 0),o=(0,n.c)(void 0),c=()=>{var e;return"true"===(null===(e=s.get())||void 0===e?void 0:e.dataset[a])},l=()=>{o.get()&&(clearTimeout(o.get()),o.set((()=>{})))},d=(e,t)=>{const r=setTimeout((()=>e()),t);o.set((()=>r))}},27421:(e,t,r)=>{"use strict";r.d(t,{p:()=>F});var n=r(2784),a=r(87776),i=r(81870),s=r(14670),o=r(63715),c=r(1650),l=r(35036),d=r(29920),u=r(44803),p=r(76023),m=r(77542),h=r(97264),g=r(59297),f=r(72891),v=r(65394),y=r(67675),b=r(95770),w=r(44284),I=r(44816),E=r(43583),C=r(56180),x=r(39116),k=r(42115),_=r(93043);const O=n.memo((({onLogoClick:e,showFilters:t,showList:r})=>{const[a,i]=n.useState(!1),o=(0,s.v9)((e=>e.session.is3dEnabled)),{bssRef:c,useBssHandler:l}=(0,x.T)(),g=l(k.H,{type:a?"closeMapSubLayers":"mapSubLayers"}),f=n.useCallback((()=>{o&&(g(),i((e=>!e)))}),[o,g]),y=(0,s.v9)(E.j),O=!!y,z=(0,m.l3)(),M=O?z.find((e=>e.type===y)):void 0,j=(0,p.T)(),{css:T,s:N}=(0,d.y)(S);return n.createElement("div",{ref:c},n.createElement(I.q,{appearance:"transparent"},n.createElement("button",{onClick:e,className:T(N.dgisButton)},n.createElement(u.g,{width:"36",height:"36"})),n.createElement(I.Q,{onClick:t,icon:n.createElement(b.x,null),type:"white",shadow:!0},j._gg("Фильтры")),n.createElement(I.Q,{onClick:r,icon:n.createElement(C.a,null),type:"white",shadow:!0},j._gg("Списком")),(null==z?void 0:z.length)>0&&o&&n.createElement(I.Q,{onClick:f,icon:n.createElement(w.S,null),type:O?"blue":"white",shadow:!0,dataN:"wat-realty-footer-sublyers"},M?M.title:j._gg("Карты недвижимости")),a&&o&&n.createElement("div",{onClick:f,className:T(N.sublayerRoot)},n.createElement("div",Object.assign({className:T(N.sublayerList)},_.dx.n("wat-realty-footer-sublayer-list")),n.createElement("div",{className:T(N.sublayersHeader)},j._gg("Карты недвижимости"),n.createElement("div",{className:T(N.icon)},n.createElement(v.x,{color:h.O.gray_cccccc}))),n.createElement(m.wF,{items:z,isListCollapsed:!a})))))})),S=(0,d.k)({dgisButton:{marginEnd:10},sublayerRoot:{position:"fixed",zIndex:f.W5.top,top:0,start:0,width:"100%",height:"100%",background:(0,g.j)(h.O.black,.7),display:"flex",flexDirection:"column",justifyContent:"flex-end"},sublayerList:{background:h.O.white,borderRadius:"8px 8px 0 0",paddingTop:20,paddingBottom:20,paddingStart:20,paddingEnd:24},sublayersHeader:Object.assign(Object.assign({},y.FY),{display:"flex",justifyContent:"space-between",paddingBottom:20}),icon:{display:"flex",justifyContent:"center",alignItems:"center",width:28,height:28}});var z=r(77),M=r(38170),j=r(21431),T=r(42021);const N=n.memo((({onLogoClick:e,showFilters:t,showMap:r,entityId:a,goBack:i,categoryId:s})=>{const o=(0,p.T)(),{css:c,s:l}=(0,d.y)(P),m=(0,j.W)({type:s===T.jY.rent.categoryId?"realtyRent":"realtySales"});return n.createElement(I.q,null,a?n.createElement(I.Q,{href:m,onClick:i,icon:n.createElement(M.x,null)}):n.createElement("button",{onClick:e,className:c(l.dgisButton)},n.createElement(u.g,{width:"36",height:"36"})),n.createElement(I.Q,{dataN:"wat-realty-footer-filters",onClick:t,icon:n.createElement(b.x,null)},o._gg("Фильтры")),n.createElement(I.Q,{dataN:"wat-realty-footer-map",onClick:r,icon:n.createElement(z.D,null)},o._gg("На карте")))})),P=(0,d.k)({dgisButton:{marginEnd:10}});var L=r(45578);const F=(0,n.memo)((()=>{const e=(0,s.v9)((e=>e.appContext.frames[0]));return e&&"realty"===e.type&&"manuallyOpened"!==e.filterPanelState?n.createElement(R,{frame:e}):null})),R=(0,n.memo)((({frame:e})=>{var t;const r=(0,s.v9)((e=>e.appContext.isDataViewerMinimized)),d=(0,s.I0)(),u=(0,o.$)((()=>{d((0,a.R)("Уверены, что хотите покинуть раздел недвижимости?",(()=>(0,i.PQ)((()=>{var e;window.location.href=`//${e=window.location.host,e.endsWith(".web-staging.2gis.ru")?e.includes("-d.")?e.replace("-d.","-m."):e.startsWith("online5.")?e.replace(/online5(.*)\.web-staging\.2gis.ru/,"monline$1.web-staging.2gis.ru"):void 0:e.startsWith("alpha.")?e.replace(/^alpha\./,"alpha-m."):e.startsWith("beta.")?e.replace(/^beta\./,"beta-m."):e.startsWith("canary.")?e.replace(/^canary\./,"canary-m."):e.startsWith("2gis.")||e.startsWith("urbi.")?`m.${e}`:void 0}`||`https://m.${window.location.host}`})))))})),p=(0,o.$)((()=>d((0,L.h)()))),m=(0,o.$)((()=>d((0,i.vP)((0,l.kG)({isMinimized:!1}),(0,c.v)({frameId:e.id,shouldOpen:!0}))))),h=(0,o.$)((()=>{d((0,l.kG)({isMinimized:!r}))}));return r?n.createElement(O,{onLogoClick:u,showFilters:m,showList:h}):n.createElement(N,{onLogoClick:u,showFilters:m,showMap:h,entityId:null===(t=e.entity)||void 0===t?void 0:t.id,goBack:p,categoryId:e.categoryId})}))},43583:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});const n=e=>e.appContext.activeSublayer},14155:(e,t,r)=>{"use strict";r.d(t,{c:()=>o});var n=r(60218),a=r(90057),i=r(81870),s=r(85265);const o=(0,i.gQ)("changeCategory",(e=>{const{newValue:t}=e;return(0,a.nv)((e=>e?(0,a.qI)(e.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,n.by)(),filterValues:(0,s.B)({frame:e,newCategoryId:t}),page:1,categoryId:t,scrollId:(0,n.by)(),seoH1:void 0}))):(0,i.ZT)()))}))},85265:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(42021);const a=e=>{var t;const{frame:r,newCategoryId:a,isEntity:i}=e,s={tip_pomeshcheniya:a&&(0,n.Db)(a)||n.jY.sale.defaultTypeId,sort:null===(t=null==r?void 0:r.filterValues)||void 0===t?void 0:t.sort};return e.resetToDefault?s:(null==r?void 0:r.filterValues)&&!a?r.filterValues:i&&!a?null==r?void 0:r.filterValues:s}},15345:(e,t,r)=>{"use strict";r.d(t,{Q:()=>f});var n=r(2784),a=r(81870),i=r(14670),s=r(63715),o=r(76023),c=r(35036),l=r(15402),d=r(45578),u=r(77),p=r(38170),m=r(56180);function h({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 7H7H25H26V8V14V15H25H7H6V14V8V7ZM8 9V13H24V9H8ZM6 18H20V20H6V18ZM24 23H6V25H24V23Z",fill:e}))}var g=r(44816);const f=(0,n.memo)((({href:e})=>{const t=(0,i.v9)((e=>e.appContext.frames[0]));return t&&"realtyCard"===t.type?n.createElement(v,{frame:t,href:e}):null})),v=(0,n.memo)((({frame:e,href:t})=>{const r=(0,i.v9)((e=>e.appContext.isDataViewerMinimized)),f=(0,i.I0)(),v=(0,o.T)(),y=(0,s.$)((()=>{f((0,a.vP)(!!e.buildingId&&(0,l.vr)({entityId:e.buildingId}),(0,c.kG)({isMinimized:!r})))})),b=(0,s.$)((()=>{f((0,a.vP)((0,d.h)(),(0,c.kG)({isMinimized:!1})))}));return n.createElement(g.q,{appearance:r?"transparent":"solid"},n.createElement(g.Q,{onClick:b,icon:r?n.createElement(m.a,null):n.createElement(p.x,null),type:r?"white":void 0,shadow:r,href:t},v._gg("К результатам")),n.createElement(g.Q,{onClick:y,icon:r?n.createElement(h,null):n.createElement(u.D,null),grow:!0,type:r?"white":void 0,shadow:r},r?v._gg("Объявлениe"):v._gg("Дом на карте")))}))},52534:(e,t,r)=>{"use strict";r.d(t,{i:()=>c});var n=r(88835),a=r(60218),i=r(81870),s=r(90961),o=r(90057);const c=(0,i.gQ)("openRealtyCard",(e=>{const t=(0,o.nv)((t=>(0,n.Jt)({id:(0,a.by)(),reviewSearchId:(null==t?void 0:t.reviewSearchId)||(0,a.by)(),type:"realtyCard",realtyId:e.realtyId,tab:e.tab||"ad"})));return(null==e?void 0:e.skipHistoryPush)?t:(0,s.BN)(t)}))},76997:(e,t,r)=>{"use strict";r.d(t,{yb:()=>i,P5:()=>s,wy:()=>o});var n=r(27671),a=r(53849);function i(e){return"realtyCard"===e.type}const s=(0,n.r)(i),o=(0,a.F)(i)},20749:(e,t,r)=>{"use strict";r.d(t,{$G:()=>i,VX:()=>o,ux:()=>c});var n=r(5163),a=r(15887);const{use:i,prefetch:s,withQueryState:o}=(0,a.r)("getRealtyItem",(e=>({services:t})=>(0,n.mG)(void 0,void 0,void 0,(function*(){if(e.id)try{return yield t.marketApi.getRealtyItem(Object.assign(Object.assign({},e),{id:e.id}))}catch(e){if(404===e.code)return;throw e}}))),{staleTime:1/0,cacheTime:1/0}),c=e=>{if(e&&e.realtyId)return{id:e.realtyId,locale:"ru_RU"}}},10393:(e,t,r)=>{"use strict";function n(e){return"realtyIsochroneDriving"===e||"realtyIsochroneWalking"===e}r.d(t,{j:()=>n})},67328:(e,t,r)=>{"use strict";r.d(t,{f:()=>l});var n=r(88835),a=r(60218),i=r(5657),s=r(81870),o=r(75873),c=r(9452);function l(){return(0,s.vP)((0,s.xJ)((e=>{const t=(0,o.fq)(e);return(0,n.Jt)({regionId:t,id:(0,a.by)(),type:"rubricator"})})),(0,i.dl)(),(0,c.p_)({suggesterKey:"primary",show:!1}))}},90793:(e,t,r)=>{"use strict";r.d(t,{v:()=>E});var n=r(2784),a=r(14670),i=r(96421),s=r(60404),o=r(57511),c=r(29920),l=r(6938),d=r(93501),u=r(38609),p=r(87946),m=r(72891);const h=e=>{const{type:t,titleType:r}=e;if("short"===r)return(e=>{let t=[];switch(e){case"drug":t=["Аспирин","Ново-пассит","Супрастин","Ибупрофен"];break;case"tire":t=["Continental IceContact","Шины 225/60 r16","Шины Nokian 225/60 16"]}return t[Math.floor(Math.random()*t.length)]})(t)};var g=r(15866),f=r(67751),v=r(39116),y=r(18398);const b=e=>({frameId:t},r)=>{const{type:n,text:a}=e;return"full"===n?{uiElement:{name:"trySearchProductsPromo",ownerName:"searchResultsList",frameUuid:t},action:"tap",payload:{searchResultsList:(0,y.PD)({state:r,searchFrameId:t})}}:{uiElement:{name:"trySearchProductsExamplePromo",ownerName:"historyList",frameUuid:t},action:"tap",payload:{searchRequest:{text:a}}}};var w=r(97264);const I=e=>{const{frame:t,searchHints:r,type:n}=e;if("search"!==t.type||"query"!==t.searchType||"market"===t.tab&&"full"===n||!(null==r?void 0:r.length))return;const a=h({titleType:n,type:r[0].promo.type});return{title:r[0].promo.text.plain,productExample:a,icon:r[0].promo.icon}},E=(0,n.memo)((({frame:e,type:t})=>{var r;const{css:m,s:h}=(0,c.y)(C),w=(0,u.T)(),E=(0,a.I0)(),x=e=>{const{query:t,withCustomPlaceholder:r,shouldStartSearchByQuery:n}=e;T(),E((0,p.B)({query:t,withCustomPlaceholder:r,shouldStartSearchByQuery:n}))},k="search"===e.type&&"query"===e.searchType?e.tabMarket.searchId:s.Mt,_=(0,a.v9)((e=>(0,i.NP)({state:e,searchId:k}))),O=(0,a.v9)((e=>e.session.isSearchBot)),S=(0,o.Gb)(I,{frame:e,searchHints:null===(r=_.data)||void 0===r?void 0:r.search_hints,type:t}),{bssRef:z,useBssHandler:M}=(0,v.T)((j={type:t,text:null==S?void 0:S.productExample},({frameId:e},t)=>{const{text:r,type:n}=j;return"full"===n?{uiElement:{name:"trySearchProductsPromo",ownerName:"searchResultsList",frameUuid:e},payload:{searchResultsList:(0,y.PD)({state:t,searchFrameId:e})}}:{uiElement:{name:"trySearchProductsExamplePromo",ownerName:"historyList",frameUuid:e},payload:{productsPromo:{searchText:r}}}}));var j;const T=M(b,{type:t,text:null==S?void 0:S.productExample});if(!S)return null;const{icon:N,title:P,productExample:L}=S;return n.createElement("div",{className:m(h.root,"full"===t?h._full:h._short),ref:z},n.createElement("div",{className:m(h.icon)},n.createElement(l.E,{src:N,isLoadingForced:O,width:32,height:32})),n.createElement("div",null,L?P+",":P,!!L&&n.createElement("div",{className:m(h.productExample)},w._t("например,"),g.L_,n.createElement(f.r,{dataN:"wat-product-promo-example",onClick:()=>x({query:L,shouldStartSearchByQuery:!0})},L))),"full"===t&&n.createElement(d.z,{dataN:"wat-product-promo-button",appearance:"secondary",onClick:()=>x({query:"",withCustomPlaceholder:!0})},n.createElement("div",{className:m(h.button)},w._t("Поиск"))))}));E.displayName="ProductPromo";const C=(0,c.k)({root:{background:w.O.blue_c5ebff,display:"flex",alignItems:"center"},icon:{width:32,height:32,marginEnd:16},button:{display:"flex",alignItems:"center",justifyContent:"center"},preloader:{height:72,background:w.O.gray_f2f2f2},productExample:{display:"flex",flexDirection:"row"},link:{color:w.O.blue_0072ce,cursor:"pointer"},_full:{paddingTop:16,paddingBottom:16,paddingStart:24,paddingEnd:16},_short:{padding:"16px 12px",borderRadius:m.E0.default}})},87946:(e,t,r)=>{"use strict";r.d(t,{B:()=>u});var n=r(81870),a=r(9452),i=r(23613),s=r(15459),o=r(78438),c=r(59554),l=r(97883);const d="primary",u=(0,n.gQ)("addSuggesterFromPromo",(({query:e,withCustomPlaceholder:t,shouldStartSearchByQuery:r})=>void 0===e?(0,s.ej)():r?(0,n.vP)((0,a.p_)({suggesterKey:d,show:!1}),(0,c._N)((e=>(0,l.Id)(e)),(t=>(0,o.gB)({query:e,tab:"market",viewpoint:t})))):(0,n.vP)((0,a.xU)({suggesterKey:d,query:e}),(0,i.XC)(d),(0,a.p_)({suggesterKey:d,show:!0,hasPromo:!0,withCustomPlaceholder:t}))))},29700:(e,t,r)=>{"use strict";r.d(t,{l:()=>g,J:()=>f});var n=r(81870),a=r(60218),i=r(88835),s=r(31253),o=r(59554),c=r(11052),l=r(2615),d=r(123),u=r(60404),p=r(90961),m=r(87587),h=r(40597);const g=(0,n.gQ)("openSearchBranchOffers",(({query:e="",filterValues:t={},page:r=1,branchId:p,branchSearchId:m=u.Mt,categoryId:h})=>{const g=(0,a.by)(),f=(0,a.by)(),v=(0,a.by)(),y=h&&t.category_ids!==h?(0,d.X)({valueType:"single",value:h,isChecked:!0,name:"category_ids"},t):t;return(0,n.vP)((0,i.Jt)({id:(0,a.by)(),type:"search",searchType:"offers",searchId:g,filtersId:(0,l.Ue)(v),query:e,filterValues:y,statusId:f,branchId:p,branchSearchId:m,filterPanelState:"auto",page:(0,l.Ue)(r)}),(0,o._N)((e=>(0,c.O)(e)),(t=>(0,s.V1)({branchId:p,offersSearchId:g,filtersId:v,filters:y,query:e,page:r,locale:t,statusId:f}))))})),f=(0,n.gQ)("searchBuyHere",(({adsIds:e,isFMCG:t=!1,page:r=1,filters:s={}})=>{const c=(0,a.by)(),d=(0,a.by)();return(0,n.vP)((0,p.BN)((0,i.Jt)({id:(0,a.by)(),type:"search",searchType:t?"fmcg":"buyHere",query:"",filterPanelState:"auto",adsIds:e,searchId:(0,l.Ue)(c),page:(0,l.Ue)(r),scrollIdHash:(0,a.by)(),filtersId:d,filterValues:s})),(0,o.zh)((t=>(0,n.Mf)((0,o._N)((e=>e.session.geolocation.position),(n=>(0,m.Hq)({query:"",searchId:c,page:r,viewpoint:t,adsIds:e,filtersId:d,filters:s,withFilters:!0,sortPoint:n}))),(0,n.XJ)((0,h.lD)())))))}))},1650:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(81870),a=r(88835),i=r(91437);function s(e){return(0,n.vP)(e.shouldOpen?(0,n.xJ)((e=>{const t=(0,i.t0)(e.appContext.frames,"offer");if(t)return(0,a.t7)({id:t.id})})):void 0,(0,a.D_)(e.frameId,(t=>Object.assign(Object.assign({},t),{filterPanelState:e.shouldOpen?"manuallyOpened":"manuallyClosed"}))))}},37971:(e,t,r)=>{"use strict";r.d(t,{q:()=>p});var n=r(81870),a=r(63792),i=r(60218),s=r(11450),o=r(11097),c=r(6104),l=r(65002),d=r(91437);function u(e){const t=["userProfile","collection"],r=(0,d.t0)(e.frames,"collection");return Object.assign(Object.assign({},e),{frames:"private"===(null==r?void 0:r.subtype)?e.frames.filter((e=>!t.includes(e.type))):e.frames})}const p=(0,n.gQ)("openSharingPopup",(e=>(0,n.XJ)((0,n.xJ)((t=>{const r=(0,i.by)(),d=Object.assign(Object.assign({},t),{appContext:u(t.appContext)}),p=(0,c.M)((0,l.V)(d)),m=p?`${location.protocol}//${location.host}${p}`:location.href;return(0,n.vP)((0,a.Mw)({id:r,type:"sharing",isPopupGlassDark:!0,urlToShort:m,frameId:e.frameId}),(0,s.D)({url:m}),(0,o.ZX)())})))))},11097:(e,t,r)=>{"use strict";r.d(t,{ZX:()=>h,jo:()=>g,i9:()=>f,$R:()=>v});var n=r(81870),a=r(40333),i=r(3172),s=r(63792),o=r(5851),c=r(60218),l=r(45436),d=r(76608),u=r(98374),p=r(32307),m=r(33373);const h=(0,n.gQ)("fetchDevices",(()=>(0,n.XJ)((0,n.xJ)((e=>(0,a.Pc)(e)?(0,i.L)({}):(0,n.ZT)()))))),g=(0,n.gQ)("pushNotification",(e=>(0,n.XJ)((0,n.xJ)((t=>{if(!(0,a.Pc)(t))return(0,n.ZT)();const r=(0,c.by)();return(0,n.vP)((0,i.h)(Object.assign(Object.assign({},e),{statusId:r})),(0,l.$c)(r,(t=>(0,m.d)(t)?(0,n.vP)((0,s.j4)(),(0,p.$)((({tp:t})=>(0,d.c)((0,u.V)({title:t._t("Готово"),message:t._t("Уведомление отправлено на %1",[e.deviceName])}))))):(0,p.$)((({tp:e})=>(0,d.c)((0,u.v)({title:e._t("Ошибка!"),message:e._t("Не удалось отправить уведомление, попробуйте позднее")})))))))}))))),f=()=>(0,o.m)(h()),v=(0,n.gQ)("onLinkCopy",(()=>(0,n.vP)((0,s.j4)(),(0,p.$)((({tp:e})=>(0,d.c)((0,u.V)({title:e._t("Готово"),message:e._t("Ссылка скопирована")})))))))},72463:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});const n=(0,r(54629).c)(!1)},24062:(e,t,r)=>{"use strict";r.d(t,{Yi:()=>s,oX:()=>m,ID:()=>c});var n=r(81870),a=r(2613),i=r(60218);const s=(0,n.gQ)("showAddedToCollectionToast",(e=>{const{collectionId:t,item:r,targetBoundingClientRect:n}=e;return(0,a.yy)({toast:{id:(0,i.by)(),type:"addedToCollection",collectionId:t,item:r,targetBoundingClientRect:n}})}));var o=r(52684);const c=(0,n.gQ)("showPromoToast",(e=>{const{targetBoundingClientRect:t,type:r,to:s,offset:c}=e;return(0,n.xJ)((e=>{const l=`_seen-${r}`;return!e.session.flags[l]&&(0,n.vP)((0,a.yy)({toast:{id:(0,i.by)(),type:"showPromoToast",subtype:r,targetBoundingClientRect:t,to:s,offset:c}}),(0,o.m)({name:l,value:!0}))}))}));var l=r(34751);const d={drug:3},u=e=>{const t=`_seen_promo-${e}`;return Number(l.tO.local.getItem(t))||0},p=e=>(e=>d[e]||0)(e)>u(e),m=(0,n.gQ)("showProductToast",(e=>{const{targetBoundingClientRect:t,subtype:r,to:s,offset:o,text:c}=e;return p(r)?(0,n.vP)((0,a.yy)({toast:{id:(0,i.by)(),type:"productSearchHint",subtype:r,to:s,offset:o,text:c,targetBoundingClientRect:t}}),(e=>{const t=`_seen_promo-${e}`;return l.tO.local.setItem(t,(u(e)+1).toString()),(0,n.ZT)()})(r)):(0,n.ZT)()}))},94413:(e,t,r)=>{"use strict";r.d(t,{B:()=>o});var n=r(2784),a=r(88121),i=r(8955),s=r(11155);const o=e=>n.createElement(a.E,{loader:i.H.entityTooltip,render:t=>n.createElement(t,Object.assign({},e)),renderPlaceholder:s.Q})},28385:(e,t,r)=>{"use strict";r.d(t,{M:()=>B,u:()=>A});var n=r(2784),a=r(32853),i=r(97264),s=r(67675),o=r(94413),c=r(88121),l=r(8955),d=r(11155);const u=e=>n.createElement(c.E,{loader:l.H.marketTooltip,render:t=>n.createElement(t,Object.assign({},e)),renderPlaceholder:d.Q});var p=r(72891),m=r(13553),h=r(49261);function g({tooltip:e}){if(!e)return;const t=f(e);return t?{targetClientRect:(0,h.Y)({left:e.point[0],top:e.point[1]}),tooltipData:t}:void 0}function f(e){if("poi"===e.origin){if(!e.poi)return;return{type:"poi",data:e.poi}}if(!e.marker)return;const t=(0,m.X)(e.marker);if(t)switch(t.source){case"market":return{type:"market",data:t,marker:e.marker};case"catalog":case"favorites":case"infrastructure":return{type:"catalog",data:t,marker:e.marker};case"tUgc":return{type:"tUgc"};case"realty":return{type:"realty",data:t,marker:e.marker};case"exchange":return{type:"exchange",data:t,marker:e.marker};default:return}}var v=r(93043),y=r(39116),b=r(29920),w=r(31110),I=r(31897),E=r(46711),C=r(57511),x=r(47525),k=r(36247),_=r(2551);var O=r(27337),S=r(14670),z=r(75873);const M=({tUgcEvent:e,offset:t},{tp:r,dateFns:n,config:a})=>{if(e)return{title:(0,I.N)(e,r),description:(0,E.j)(e,r,a),hint:(0,w.d)(e,r,n,a,t),comment:e.comment}},j=(0,n.memo)((e=>{var t,r;const{tooltipId:a}=e,i=(0,x.c)({id:a}),s=(0,S.v9)((e=>(0,z.mI)({state:e,code:(0,z.SJ)(e)||""}))),{data:o,isFetching:c}=(0,O.c)(a),l=null===(t=null==o?void 0:o[0])||void 0===t?void 0:t.preview_urls["300x300"];return n.createElement(T,{photo:l,tUgcEvent:i,isFetching:c,offset:(null===(r=null==s?void 0:s.time_zone)||void 0===r?void 0:r.offset)||0})}));j.displayName="TUgcTooltip";const T=(0,n.memo)((e=>{const{photo:t,tUgcEvent:r,isFetching:a,offset:i}=e,{s,css:o}=(0,b.y)(N),{bssRef:c}=(0,y.T)((l={tUgcEvent:r},({frameId:e},t)=>{const{tUgcEvent:r}=l;if(r)return{uiElement:{name:"tUGCTooltip",ownerName:"tUGCPOI",frameUuid:e},payload:{tUGC:{id:r.id,category:(0,k.N)(r),mode:(0,_.P)(t)}}}}));var l;const d=(0,C.Gb)(M,{tUgcEvent:r,offset:i});if(!d||a)return null;const{title:u,description:p,comment:m,hint:h}=d;return n.createElement("div",{className:o(s.root),ref:c},n.createElement("div",{className:o(s.content)},n.createElement("div",{className:o(s.title)},u),p&&n.createElement("div",{className:o(s.description)},p),m&&n.createElement("div",{className:o(s.comment)},m),h&&n.createElement("div",{className:o(s.hint)},h)),t&&n.createElement("div",{className:o(s.photo),style:{backgroundImage:`url(${t})`}}))}));T.displayName="TUgcTooltipInner";const N=(0,b.k)({root:Object.assign({minHeight:64,display:"flex",justifyContent:"space-between"},s.oN),content:{minWidth:0,padding:16},title:{paddingBottom:2,color:i.O.blue_0072ce},description:Object.assign({},s.yG),comment:Object.assign({paddingTop:2},(0,s.KU)(3,s.yG)),hint:Object.assign({paddingTop:8,color:i.O.gray_929292,whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"100%",overflow:"hidden"},s.yG),photo:{flex:"0 0 64px",width:64,minHeight:64,maxHeight:"100%",backgroundSize:"cover",backgroundPosition:"center"}});var P=r(16478);const L=e=>n.createElement(c.E,{loader:l.H.realtyTooltip,render:t=>n.createElement(t,Object.assign({},e)),renderPlaceholder:d.Q});var F=r(54629),R=r(89965),H=r(97883);const D=e=>n.createElement(c.E,{loader:l.H.exchangeTooltip,render:t=>n.createElement(t,Object.assign({},e)),renderPlaceholder:d.Q}),B=(0,F.c)(void 0),A=n.memo((()=>{const e=B.use(),t=(0,C.Gb)(g,{tooltip:e}),{css:r,s:a}=(0,b.y)(Z);if(!e||!t)return null;const{targetClientRect:i,tooltipData:s}=t;return n.createElement(P.k,{to:"bottomEnd",targetBoundingClientRect:i,offset:5,pointerEvents:"none"},n.createElement("div",Object.assign({className:r(a.root)},v.dx.n("wat-tooltip")),n.createElement(V,{tooltipId:e.id,tooltipData:s})))}));function V(e){var t;const{tooltipData:r,tooltipId:a}=e,i=(0,S.v9)((e=>(0,R.wj)({state:e,entityId:a,searchId:(0,H.WK)(e)}))).data,s=(0,S.v9)((e=>e.session.time));switch(r.type){case"market":return n.createElement(u,{entity:i,markerData:r.data,marker:r.marker,time:s});case"realty":const e=null===(t=null==r?void 0:r.marker)||void 0===t?void 0:t.buildingId;return e?n.createElement(L,{entityId:e,key:e}):null;case"catalog":case"poi":return n.createElement(o.B,{entity:i,tooltipData:r,marker:"marker"in r?r.marker:void 0,time:s});case"tUgc":return n.createElement(j,{tooltipId:a});case"exchange":return n.createElement(D,{marker:r.marker});default:return null}}A.displayName="Tooltip";const Z=(0,b.k)({root:Object.assign(Object.assign({pointerEvents:"none",overflow:"hidden"},s.oN),{maxWidth:296,boxShadow:a.q.popup,borderRadius:p.E0.default,background:i.O.white})})},54105:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(63792),a=r(60218);function i(e){return(0,n.Mw)({id:(0,a.by)(),type:"typedFeedback",withBackToFeedbackForm:e.withBackToFeedbackForm,subtype:e.subtype,frameId:e.frameId,entityId:e&&e.entityId,searchId:e&&e.searchId})}},85610:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(88835),a=r(60218);function i(e="favorites"){const t=(0,a.by)();return(0,n.Jt)({id:(0,a.by)(),type:"userProfile",profileTab:e,searchId:t})}},36623:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var n=r(81870),a=r(88835),i=r(53849);const s=e=>"userProfile"===e.type,o=(0,r(27671).r)(s),c=((0,i.F)(s),(0,n.gQ)("closeUserProfileFrame",(()=>o((e=>e?(0,a.hp)():(0,n.ZT)())))))},47004:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(81870),a=r(59554),i=r(63792),s=r(60218),o=r(40333);const c=(0,n.gQ)("openEditUserProfilePopup",(()=>(0,a._N)((e=>(0,o.bG)(e)),(e=>{const t=!!e&&e.data;return t?(0,i.Mw)({id:(0,s.by)(),type:"editUserProfile",user:t}):(0,n.ZT)()}))))},4390:(e,t,r)=>{"use strict";r.d(t,{a:()=>a,s:()=>i});let n="";function a(e){r.p=e,n=e}function i(){return n}},88348:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>a,Oo:()=>i,xg:()=>s});var n=r(94980);const{emitEvent:a,addEventListener:i,removeEventListener:s}=(0,n.U)()},88835:(e,t,r)=>{"use strict";r.d(t,{Jt:()=>s,t7:()=>o,P2:()=>c,hp:()=>l,IW:()=>d,xO:()=>u,Wk:()=>p,D_:()=>m,d3:()=>h});var n=r(37346),a=r(59554),i=r(81870);function s(e){return{type:"UI/ADD_FRAME",payload:e}}function o(e){return{type:"UI/REMOVE_FRAME",payload:e}}const c=(0,n.mq)("UI/REMOVE_RIGHT_FRAMES"),l=(0,n.mq)("UI/RESURRECT_FRAMES"),d=(0,n.mq)("UI/CLEAR_FRAMES"),u=(0,n.mq)("UI/KILL_FRAMES"),p=(0,n.mq)("UI/REPLACE_FRAME"),m=(0,i.gQ)("patchFrame",((e,t)=>(0,a.Mb)(e,(r=>{if(!r)return(0,i.ZT)(`skipped patchFrame: there is no frame with id ${e}`);const n=t(r);return n===r?(0,i.ZT)():n?p(n):(0,i.ZT)("skipped patchFrame: callback returned undefined")}))));function h(e,t){return(0,a.Mb)(e,(e=>e&&"pending"===e.type?p(t(e)):(0,i.ZT)()))}},10997:(e,t,r)=>{"use strict";r.d(t,{me:()=>d,Yq:()=>u,iD:()=>p,D$:()=>m,s7:()=>h,Ol:()=>g,Bc:()=>f});var n=r(88835),a=r(54917),i=r(47787),s=r(86184),o=r(68864),c=r(95079),l=r(65933);function d(e,t){return(0,n.D_)(e,(e=>(0,c.B)(e)?t(e):void 0))}function u(e,t,r){return(0,n.D_)(e,(e=>t(e)?r(e):void 0))}function p(e,t){return(0,n.D_)(e,(e=>(0,a.E)(e)?t(e):void 0))}function m(e,t){return(0,n.D_)(e,(e=>(0,s.o)(e)?t(e):void 0))}function h(e,t){return(0,n.D_)(e,(e=>(0,i.Y)(e)?t(e):void 0))}function g(e,t){return(0,n.D_)(e,(e=>(0,l.n)(e)?t(e):void 0))}function f(e,t){return(0,n.D_)(e,(e=>(0,o.i)(e)?t(e):void 0))}},68786:(e,t,r)=>{"use strict";r.d(t,{t9:()=>i,u$:()=>s,PD:()=>o,P:()=>c});var n=r(3238),a=r(3007);const i=(0,n.P)("setActiveLayer",(0,a.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeLayer:t,activeSublayer:t!==e.activeLayer?void 0:e.activeSublayer})))),s=(0,n.P)("clearActiveLayer",(0,a.x)("appContext",(e=>Object.assign(Object.assign({},e),{activeLayer:void 0,activeSublayer:void 0})))),o=(0,n.P)("setActiveLayer",(0,a.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeSublayer:t,showTrafficOnMap:!1})))),c=(0,n.P)("clearActiveLayer",(0,a.x)("appContext",(e=>Object.assign(Object.assign({},e),{activeSublayer:void 0}))))},56372:(e,t,r)=>{"use strict";r.d(t,{xn:()=>a,NN:()=>i,ox:()=>s,EL:()=>o,xN:()=>c,og:()=>l});var n=r(37346);const a=(0,n.mq)("MAP/SYNC_VIEW"),i=(0,n.mq)("MAP/SET_FLOORS"),s=(0,n.mq)("MAP/REMOVE_FLOORS"),o=(0,n.mq)("MAP/SELECT_FLOOR"),c=(0,n.mq)("MAP/SET_VIEW"),l=(0,n.mq)("MAP/GENERALIZE_MARKERS")},97795:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});const n=(0,r(37346).mq)("UI/PATCH_MESSENGER")},76608:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,y:()=>i});var n=r(37346);const a=(0,n.mq)("UI/SHOW_NOTIFICATION"),i=(0,n.mq)("UI/HIDE_NOTIFICATION")},63792:(e,t,r)=>{"use strict";r.d(t,{Mw:()=>i,j4:()=>s,BW:()=>o});var n=r(37346),a=r(81870);const i=(0,n.mq)("UI/OPEN_POPUP"),s=(0,n.mq)("UI/CLOSE_POPUP"),o=e=>(0,a.xJ)((t=>{const r=t.appContext.popup;if(!r)return(0,a.ZT)("skipped patchPopup: popup is not opened");const n=e(r);return n===r?(0,a.ZT)():n?i(n):(0,a.ZT)("skipped patchPopup: callback returned undefined")}))},9452:(e,t,r)=>{"use strict";r.d(t,{Bt:()=>a,xU:()=>i,p_:()=>s,r4:()=>o});var n=r(37346);const a=(0,n.mq)("SUGGEST/SET_SUGGEST_ID"),i=(0,n.mq)("SUGGEST/SET_QUERY"),s=(0,n.mq)("SUGGEST/TOGGLE"),o=(0,n.mq)("SUGGEST/HIGHLIGHT_SUGGESTION")},35036:(e,t,r)=>{"use strict";r.d(t,{kG:()=>s,s_:()=>o,Tz:()=>c});var n=r(37346),a=r(3238),i=r(3007);const s=(0,a.P)("minimizeDataViewer",(0,i.x)("appContext",((e,{isMinimized:t})=>Object.assign(Object.assign({},e),{isDataViewerMinimized:t})))),o=((0,n.mq)("UI/SET_LANG"),(0,n.mq)("UI/SET_DEFAULT_LOCALE"),(0,n.mq)("UI/SET_RULER")),c=(0,n.mq)("UI/TOGGLE_TRAFFIC")},2613:(e,t,r)=>{"use strict";r.d(t,{jP:()=>a,H6:()=>i,QT:()=>s,KK:()=>o,Vj:()=>c,yy:()=>l,PP:()=>d});var n=r(37346);const a=(0,n.mq)("WEAK/SET_DASHBOARD_RUBRICS_ID"),i=(0,n.mq)("WEAK/SET_DASHBOARD_GTA_ID"),s=(0,n.mq)("WEAK/MAP_INTERACTION_START"),o=(0,n.mq)("WEAK/SET_RUBRICATOR_ID"),c=(0,n.mq)("WEAK/SET_RUBRIC_ID"),l=(0,n.mq)("WEAK/PATCH"),d=(0,n.mq)("WEAK/SET_CATALOG_MARKERS_ID")},54421:(e,t,r)=>{"use strict";r.d(t,{l:()=>n,Z:()=>a});const n={long:0,short:200,spinner:1e3},a={base:"cubic-bezier(0.25, 0.1, 0.25, 1)"}},42115:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});const n=e=>({frameId:t})=>({uiElement:{name:e.type,ownerName:"mapSubLayersScreen",frameUuid:t},action:"tap"})},20660:(e,t,r)=>{"use strict";r.d(t,{e:()=>c});var n=r(2784),a=r(58365),i=r(21196),s=r(491);class o extends n.PureComponent{render(){const{children:e,s:t}=this.props;return n.createElement("ul",{className:(0,a.iv)(t.list)},e.map(((e,r)=>e?n.createElement("li",{key:`action-${r}`,className:(0,a.iv)(t.item)},e):null)))}}o.displayName=(0,s.I)("src/shared/components/actions");const c=(0,i.D2)({list:{display:"flex",justifyContent:"flex-start",":empty":{display:"none"}},item:{":not(:last-child)":{marginEnd:"8px"},":empty":{display:"none"}}})(o)},89451:(e,t,r)=>{"use strict";r.d(t,{i:()=>a,N:()=>i});var n=r(20761);const a=({children:e})=>{const{isMobileDevice:t}=(0,n.Z)();return e&&t?e:null},i=({children:e})=>{const{isMobileDevice:t}=(0,n.Z)();return e?t?null:e:null}},96131:(e,t,r)=>{"use strict";r.d(t,{f:()=>b});var n=r(2784),a=r(58365),i=r(491),s=r(21196),o=r(86400),c=r(36808),l=r(67675),d=r(29940),u=r(99958),p=r(35249),m=r(60218);var h=r(93043),g=r(60291),f=r(66846);class v extends n.PureComponent{render(){const{s:e,i18n:t,text:r,entity:i,isOrgInfo:s,textWarning:o,withSuffix:c,showCtaAndAdsWarning:l,hasVideo:d}=this.props;return n.createElement(n.Fragment,null,r&&n.createElement("article",Object.assign({className:(0,a.iv)(e.text)},h.dx.n("wat-ads-text")),r,c&&n.createElement("span",Object.assign({className:(0,a.iv)(e.suffix)},h.dx.n("wat-ads-suffix")),t.tp._t(" — реклама"))),l&&n.createElement(n.Fragment,null,n.createElement(g._,{entity:i,parent:s?"orgInfo":"branch",useBackgroundColor:!d}),!!o&&n.createElement(n.Fragment,null,n.createElement("div",{className:(0,a.iv)(e.separator)}),n.createElement(f.e,{text:o,colorOpacity:!0,mt:"8"}))))}}v.displayName=(0,i.I)("src/shared/components/ads");const y={text:Object.assign(Object.assign({},l.oN),{marginBottom:12,maxWidth:304,":last-child":{marginBottom:0}}),suffix:Object.assign(Object.assign({},l.yG),{opacity:.7}),separator:{marginTop:16,opacity:.5,width:"100%",height:1,boxSizing:"border-box",background:"currentColor"}},b=(0,c.C)((({entity:e,isOrgInfo:t},{tp:r})=>{var n,a;if("branch"!==e.type)return;const i=(0,u.I)(e),s=i?(0,d.M3)(i):void 0,o=(0,p.N)(e),c=o&&r._t("Реклама. %1",[o]),l=e.name_ex.legal_name?(0,m.oA)([e.name_ex.legal_name,c]).join("<br/>"):c;return{text:s,withSuffix:!(e.ads&&e.ads.text_warning),textWarning:l,showCtaAndAdsWarning:!t||!!t&&!!(null===(a=null===(n=null==e?void 0:e.ads)||void 0===n?void 0:n.options)||void 0===a?void 0:a.actions)}}))((0,s.D2)(y)((0,o.$)()(v)))},66846:(e,t,r)=>{"use strict";r.d(t,{e:()=>l});var n=r(2784),a=r(56373),i=r(93043),s=r(29920),o=r(67675),c=r(97264);const l=({text:e,dataN:t,colorOpacity:r,mt:o})=>{const{s:c,css:l}=(0,s.y)(d);return n.createElement(a._,{withoutShevron:!0},(a=>n.createElement("div",Object.assign({className:l(c.warning,"4"===o&&c.mt4,"8"===o&&c.mt8,r?c.colorOpacity:c.grey,!a&&c.collapsed)},i.dx.n(t||"wat-ads-text-warning"),{title:e,dangerouslySetInnerHTML:{__html:e}}))))},d=(0,s.k)({warning:Object.assign({},o.Vz),grey:{color:c.O.gray_929292},colorOpacity:{opacity:.7},collapsed:Object.assign({},(0,o.KU)(2,o.Vz)),mt4:{marginTop:4},mt8:{marginTop:8}})},79802:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var n=r(2784),a=r(29920);const i=(0,n.memo)((({source:e,children:t})=>{const{s:r,css:i}=(0,a.y)(s);return n.createElement("div",{className:i("dashboard"===e?r.dashboardWrapper:r.cardWrapper)},t)})),s=(0,a.k)({dashboardWrapper:{marginStart:-16,marginEnd:-16,marginBottom:-16},cardWrapper:{marginStart:-24,marginEnd:-24}})},83157:(e,t,r)=>{"use strict";r.d(t,{y:()=>y});var n=r(2784),a=r(14670),i=r(38609),s=r(97316),o=r(20761),c=r(29920);function l(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M40 0H0v40h40V0Z",fill:"#19AA1E"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0h40v13.125L0 6.875V0Z",fill:"#FFB919"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 35.625 40-6.25V40H0v-4.375Z",fill:"#82D714"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 6.084 13.962 2.182C15.7 7.166 17.768 6.563 20 6.563c3.091 0 5.868 1.157 7.89 3.189.254.256.495.524.72.803L40 12.335v1.58l-10.233-1.598a10.27 10.27 0 0 1 1.17 4.743c0 2.143-.479 4.28-1.47 6.425l-.03.065-.42.902h-.996c-2.055 0-3.418.614-4.309 1.704-.7.855-1.104 2.008-1.24 3.266l-.005.04-.02.2-.008.088-.016.17a31.28 31.28 0 0 0-.105 1.427L40 28.584v1.582l-40 6.25v-1.582l17.702-2.766-.008-.355-.003-.1-.001-.051-.003-.08c-.016-.43-.055-.982-.118-1.65l-.012-.127-.022-.22c-.127-1.265-.526-2.432-1.224-3.3-.881-1.097-2.232-1.72-4.27-1.733h-1.057l-.421-.902c-1.011-2.167-1.5-4.325-1.5-6.49 0-2.722 1.104-5.354 3.048-7.308.056-.057.112-.112.17-.167L0 7.665v-1.58Z",fill:"#fff"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 8.125c5.584 0 9.375 4.298 9.375 8.935 0 1.862-.406 3.799-1.354 5.83-5.495 0-6.851 3.934-7.108 6.41l-.016.165a31.03 31.03 0 0 0-.151 2.128l-1.488.232v-.048c-.006-.56-.06-1.346-.16-2.358l-.004-.044c-.237-2.47-1.565-6.486-7.115-6.486-.948-2.03-1.354-3.967-1.354-5.829 0-4.637 3.79-8.935 9.375-8.935Z",fill:"#0070CC"}))}var d=r(67675),u=r(97264),p=r(74932),m=r(26529),h=r(12015);const g={ios:{rating:4.8,reviews:"178 K"},android:{rating:4.3,reviews:"985 K"}},f=(0,n.memo)((({title:e,link:t,source:r,platform:a,lang:i})=>{const{s,css:o}=(0,c.y)(v),d=(e=>{switch(e){case"android":case"ios":return g[e];case"online":return g.android}})(a);return n.createElement("div",{className:o("card"===r&&s.wrapper)},n.createElement("a",{className:o(s.link),href:t,target:"_blank"},n.createElement("div",{className:o(s.root,"dashboard"===r&&s.dashboardRoot)},n.createElement("div",{className:o(s.logo)},n.createElement(l,null)),n.createElement("div",{className:o(s.info)},n.createElement("div",{className:o(s.title)},e),n.createElement("span",{className:o(s.stat)},n.createElement(h.i,{color:u.O.yellow_ffb81c,size:"small",rating:d.rating}),n.createElement("span",{className:o(s.additionalInfo)},d.reviews))),n.createElement("div",{className:o(s.storeLink)},"ios"===a?n.createElement(p.Q,{lang:i}):n.createElement(m.r,{lang:i})))))}));f.displayName="AppBannerInner";const v=(0,c.k)({wrapper:{marginTop:4,marginBottom:4},root:{display:"flex",alignItems:"center",background:u.O.gray_f2f2f2,width:"100%",paddingTop:16,paddingRight:24,paddingBottom:16,paddingLeft:24},dashboardRoot:{"@media (max-width: 320px)":{padding:16}},logo:{display:"flex","& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",paddingStart:8,color:u.O.black},title:Object.assign(Object.assign({},d.oN),{"@media (max-width: 375px)":Object.assign({},d.Vz)}),stat:{display:"flex",alignItems:"center"},additionalInfo:Object.assign(Object.assign({},d.Vz),{paddingStart:4,color:u.O.gray_929292}),storeLink:{display:"flex",paddingStart:4}}),y=(0,n.memo)((({cardType:e})=>{var t;const r=(0,i.T)(),{brandName:c}=(0,o.Z)(),l=(0,a.v9)((e=>e.session.platform)),d=(0,a.v9)((e=>e.appContext.frames[0])),u=d&&"promoType"in d?d.promoType:void 0,p=(0,a.v9)((e=>e.appContext.lang)),m=e?"card":"dashboard",h=function(e,t){switch(e){case"card":switch(t){case"geo":return"geoCardPromo";case"route":return"transportCardPromo";case"branch":default:return"firmCardPromo"}case"dashboard":default:return"mainScreen"}}(m,e),g=null===(t=(0,s.O)({platform:l,type:h}))||void 0===t?void 0:t.link;if(!g)return null;const{title:v}=function(e,t,r,n){switch(e){case"card":return function(e,t,r){switch(r){case"navigator":return{title:t._t("Получите доступ к навигации и&nbsp;другим&nbsp;функциям")};case"offline":default:return{title:t._t("%1 умеет работать без интернета",[e])}}}(r,t,n);case"dashboard":return{title:t._t("%1 умеет работать без интернета",[r])}}}(m,r,c,u);return n.createElement(f,{title:v,link:g,source:m,platform:l,lang:p})}));y.displayName="AppBanner"},57826:(e,t,r)=>{"use strict";r.d(t,{q:()=>d});var n=r(2784),a=r(21196),i=r(67675),s=r(82322),o=r(93043);class c extends n.PureComponent{constructor(){super(...arguments),this.renderInitials=()=>n.createElement("div",Object.assign({className:(0,a.iv)(this.props.s.initials)},o.dx.n("wat-initials")),this.props.initials())}render(){const{isLoadingForced:e,src:t}=this.props;return n.createElement(n.Fragment,null,t?n.createElement(s.C,{src:t,isLoadingForced:!!e,renderPlaceholder:this.renderInitials}):this.renderInitials())}}const l={initials:Object.assign(Object.assign({width:"100%",height:"100%"},i.Rw),{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"})},d=(0,a.D2)(l)(c)},51768:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(2784),a=r(21196),i=r(36808),s=r(97264),o=r(491),c=r(82322),l=r(93043),d=r(46002),u=r(83564);var p=r(59297);class m extends n.PureComponent{render(){const{image:e,hasImage:t,color:r,patternType:i,isLoadingForced:s,s:o}=this.props;return n.createElement("div",{className:(0,a.iv)(o.backgroundRoot),style:{background:r}},i&&!t&&n.createElement("div",Object.assign({className:(0,a.iv)(o.pattern)},l.dx.n("wat-header-pattern")),n.createElement(d.d,{color:i})),e&&n.createElement(c.C,{src:e,isLoadingForced:s}),t&&n.createElement("div",Object.assign({className:(0,a.iv)(o.overlay)},l.dx.n("wat-header-overlay"))))}}m.displayName=(0,o.I)("src/shared/components/background");const h={backgroundRoot:{position:"relative",height:"100%",width:"100%",overflow:"hidden"},pattern:{position:"absolute",width:"100%",height:"100%","@media print":{display:"none"}},overlay:{position:"absolute",top:0,width:"100%",height:"100%",background:(0,p.j)(s.O.black,.6)}},g=(0,i.C)((({color:e,hasPattern:t})=>({patternType:t?(0,u._P)(e):void 0})))((0,a.D2)(h)(m))},60291:(e,t,r)=>{"use strict";r.d(t,{_:()=>R});var n=r(2784),a=r(491),i=r(36808),s=r(93501),o=r(68059),c=r(85594),l=r(92855),d=r(83564),u=r(89952),p=r(30565);const m="online";var h=r(93043),g=r(87048),f=r(95084),v=r(26162),y=r(59554),b=r(45435),w=r(91437);const I=e=>t=>{const{parent:r,cta:n,ownerFrameId:a,buyHereOrgId:i,adsPosition:s,branchEntity:o,position:c}=e,l=E(r),d=(0,w.iF)(t.appContext.frames,a),u="placeCardMini"!==l?(0,f.s)({state:t,entityFrameId:a}):(0,b.Pj)({entity:o,position:c}),p="directorySearchResultsFrame"===l?{org:o.org.id}:void 0;return{uiElement:{name:"callToActionButton",ownerName:l,frameUuid:a},action:"tap",payload:{callToAction:{actionType:n.type,value:n.value,contentOwner:i&&s?{org:i,adsPosition:"video"===r||d&&"search"===d.type&&"fmcg"===d.searchType?"fmcg":s,adsId:null==u?void 0:u.adsId}:void 0},placeItem:u,filialsList:p}}},E=e=>{switch(e){case"orgInfo":return"directorySearchResultsFrame";case"video":return"videoFrame";case"placeCardMini":return"placeCardMini";default:return"placeCardFull"}};var C=r(6938),x=r(58365),k=r(21196),_=r(72891),O=r(97264),S=r(10979),z=r(3421),M=r(92416),j=r(28150),T=r(48565),N=r(56172);const P=(0,T.Z3)((e=>({onButtonClick:t=>e((0,N.c)(t))})));class L extends n.PureComponent{constructor(){super(...arguments),this.state={showPhone:!1},this.renderButton=e=>{const{backgroundColor:t,bssRef:r,compact:a=!1,appearance:i="primary",cta:o}=this.props,c=o.isExternal&&"phone"!==o.type||"phone"===o.type&&this.state.showPhone;return n.createElement("div",{ref:r},n.createElement(s.z,{compact:a,appearance:i,backgroundColor:t,href:e,onClick:this.onButtonClick,external:c,dataN:"wat-ads-cta-button"},this.renderContent()))},this.renderContent=()=>{const{cta:e,s:t,logo:r,needToUseDefaultLogo:a,showLogo:i}=this.props;return n.createElement("div",{className:(0,x.iv)(t.content)},i&&n.createElement("div",{className:(0,x.iv)(t.logo)},a&&n.createElement(S._,{color:O.O.yellow_ffb81c,size:16}),!a&&r&&n.createElement(C.E,{src:r,height:16,width:16,isLoadingForced:!0})),this.state.showPhone?e.value:e.name,"phone"===e.type&&n.createElement("div",{className:(0,x.iv)(t.phoneIcon)},n.createElement(M.L,null)))},this.onButtonClick=()=>{const{onButtonClick:e,cta:t,ownerFrameId:r,buyHereOrgId:n,branchEntity:a,bssOnCTATap:i,parent:s,position:o,adsPosition:c}=this.props;"link"!==t.type&&("phone"===t.type&&this.setState({showPhone:!0}),t.isExternal||e({actionType:t.type,value:t.value,entityId:a.id}),i({cta:t,parent:s,ownerFrameId:r,buyHereOrgId:n,branchEntity:a,position:o,adsPosition:c}))}}render(){const{branchEntity:e,cta:t,parent:r,ownerFrameId:a,showEventOrdinal:i,buyHereOrgId:s,position:o,adsPosition:c}=this.props;return"link"===t.type?n.createElement("div",Object.assign({},h.dx.n("wat-ads-cta")),n.createElement(j.M.Consumer,null,(l=>n.createElement(z.X,{highPriorityEventOrdinal:"placeCardMini"===r,showEventOrdinal:l||i,actionEventParamsSelector:I({cta:t,parent:r,ownerFrameId:a,buyHereOrgId:s,branchEntity:e,position:o,adsPosition:c}),originalHref:t.value||""},(e=>this.renderButton(e)))))):this.renderButton(t.href)}}L.displayName=(0,a.I)("src/shared/components/cta");const F={logo:{width:16,height:16,borderRadius:_.E0.default,overflow:"hidden",marginEnd:8},content:{display:"flex",alignItems:"center"},phoneIcon:{height:24,width:24,paddingStart:4}},R=(0,i.C)((({entity:e,parent:t,useBackgroundColor:r},{tp:n,theme:a})=>{var i,s;if("branch"!==e.type)return;const h="placeCardMini"===t&&(0,l.J)(e)||(0,c.A)(e)||(0,o.k)(e),g=null==h?void 0:h.adsBuyHere,f=(null==g?void 0:g.actions)?(0,p.I)(g.actions,m,n._t("Узнать больше"),g.branch_id):void 0;if(f&&"orgInfo"===t)return;const v=f&&g?g.org_id:void 0,y=(null===(s=null===(i=null==e?void 0:e.ads)||void 0===i?void 0:i.options)||void 0===s?void 0:s.actions)?(0,p.I)(e.ads.options.actions,m,n._t("Узнать больше")):void 0;if(!y&&"fmcg"===(null==h?void 0:h.adsPosition)&&"branch"===t)return;const b=y||f;if(!b)return;const w=(0,d.dF)(e,a),I=(0,d.W4)(e),E=r&&!I?w:void 0,C=!y&&f&&h?(0,u.P)(null==g?void 0:g.logo,"48x48"):void 0;return{needToUseDefaultLogo:false,logo:C,showLogo:!!C||false,backgroundColor:E,cta:b,buyHereOrgId:v,branchEntity:e,adsPosition:y||null==h?void 0:h.adsPosition}}))((0,T.$j)(void 0,P)((0,g.z)(((e,t)=>{const{branchEntity:r,cta:n,parent:a,buyHereOrgId:i,adsPosition:s,ownerFrameId:o,position:c}=e,l=E(a),d=(0,w.iF)(t.appContext.frames,o),u="placeCardMini"!==l?(0,f.s)({state:t,entityFrameId:o}):(0,b.Pj)({entity:r,position:c}),p={actionType:n.type,value:n.value},m="directorySearchResultsFrame"===l?{org:r.org.id}:void 0;return i&&s?{uiElement:{name:"callToActionButton",ownerName:l,frameUuid:o},payload:{callToAction:Object.assign(Object.assign({},p),{contentOwner:{org:i,adsPosition:"video"===a||d&&"search"===d.type&&"fmcg"===d.searchType?"fmcg":s,adsId:null==u?void 0:u.adsId}}),placeItem:u,filialsList:m}}:{uiElement:{name:"callToActionButton",ownerName:l,frameUuid:o},payload:{callToAction:p,placeItem:u,filialsList:m}}}),(e=>({bssOnCTATap(t){e((0,y._N)(I(t),(e=>(0,v.zs)(e))))}})),{threshold:.5})((0,k.D2)(F)(L))))},33239:(e,t,r)=>{"use strict";r.d(t,{l:()=>h});var n=r(2784),a=r(21196),i=r(86400),s=r(491),o=r(97264),c=r(67675),l=r(24859),d=r(93043),u=r(2976);class p extends n.PureComponent{render(){const{s:e,showFeedbackButton:t=!1,entityId:r,i18n:i}=this.props;return n.createElement("div",Object.assign({className:(0,a.iv)(e.root)},d.n("wat-error"),d.v("404")),n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(l.k,null)),n.createElement("h1",{className:(0,a.iv)(e.title)},i.tp._t("Ничего не нашлось, попробуйте уточнить запрос")),t&&n.createElement("span",{className:(0,a.iv)(e.message)},i.tp._t("Если уверены, что организация действительно существует, просто добавьте её:"),n.createElement("div",{className:(0,a.iv)(e.entry)},n.createElement(u.L,{type:"addOrg",entityId:r}))))}}p.displayName=(0,s.I)("src/shared/components/error/components");const m={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:o.O.gray_262626},title:Object.assign(Object.assign({},c.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},c.oN),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},h=(0,a.D2)(m)((0,i.$)()(p))},76614:(e,t,r)=>{"use strict";r.d(t,{V:()=>h});var n=r(2784),a=r(21196),i=r(86400),s=r(491),o=r(97264),c=r(67675),l=r(93501),d=r(86606),u=r(93043);class p extends n.PureComponent{render(){const{s:e,i18n:t,userAgent:r}=this.props,i=r&&r.toLowerCase().indexOf("safari")>=0&&r.toLowerCase().indexOf("chrome")<0;return n.createElement("div",Object.assign({className:(0,a.iv)(e.root)},u.n("wat-error"),u.v("500")),n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(d.Y,null)),n.createElement("h1",{className:(0,a.iv)(e.title)},t.tp._t("Что-то пошло не так")),n.createElement("span",{className:(0,a.iv)(e.message)},t.tp._t("Обязательно найдем проблему и исправим её. Можете повторить действие через пару минут или попробовать")),n.createElement(l.z,{appearance:"secondary",onClick:this.reloadPage},t.tp._t("Перезагрузить страницу")),i&&n.createElement("span",{className:(0,a.iv)(e.message,e._aboutBrowser)},t.tp._t("Если вы используете браузер Safari, попробуйте воспользоваться Chrome или Firefox.")))}reloadPage(){"undefined"!=typeof window&&window.location.reload(!0)}}p.displayName=(0,s.I)("src/shared/components/error/components");const m={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:24,paddingEnd:24,alignItems:"center",flexDirection:"column",color:o.O.gray_262626},title:Object.assign(Object.assign({},c.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},c.oN),{textAlign:"center",paddingBottom:12,maxWidth:"100%"}),_aboutBrowser:{paddingBottom:0,paddingTop:12}},h=(0,a.D2)(m)((0,i.$)()(p))},3159:(e,t,r)=>{"use strict";r.d(t,{s:()=>p});var n=r(2784),a=r(12626),i=r(73893),s=r(29920),o=r(67675),c=r(97264),l=r(93043),d=r(24859),u=r(86606);const p=(0,n.memo)((({title:e,message:t,code:r})=>{(0,i.e)((0,a.E)(r));const{css:o,s:c}=(0,s.y)(m),p=Array.isArray(t)?t:[t];return n.createElement("div",Object.assign({className:o(c.root)},l.dx.n("wat-error"),l.dx.v(r)),n.createElement("div",{className:o(c.icon)},r&&r<500?n.createElement(d.k,null):n.createElement(u.Y,null)),n.createElement("h1",{className:o(c.title)},e),t?n.createElement("div",{className:o(c.message)},p.map((e=>n.createElement("p",{key:e,className:o(c.paragraph)},e)))):null)}));p.displayName="CustomError";const m=(0,s.k)({root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:c.O.gray_262626},title:Object.assign(Object.assign({},o.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},o.oN),{textAlign:"center",maxWidth:"100%"}),paragraph:{marginBottom:16}})},74872:(e,t,r)=>{"use strict";r.d(t,{j:()=>k});var n=r(2784),a=r(33239),i=r(76023),s=r(3159);const o=()=>{const e=(0,i.T)();return n.createElement(s.s,{title:e._t("Не удалось проложить маршрут"),message:[e._t("Мы постоянно работаем над тем, чтобы такое повторялось как можно реже."),e._t("А пока попробуйте другие типы маршрутов.")],code:404})};var c=r(21196),l=r(86400),d=r(491),u=r(97264),p=r(67675),m=r(24859),h=r(93043);class g extends n.PureComponent{render(){const{s:e,i18n:t}=this.props;return n.createElement("div",Object.assign({className:(0,c.iv)(e.root)},h.n("wat-rubricator-error")),n.createElement("div",{className:(0,c.iv)(e.icon)},n.createElement(m.k,null)),n.createElement("h1",{className:(0,c.iv)(e.title)},t.tp._t("Ничего не нашлось, попробуйте открыть рубрикатор в другом городе")))}}g.displayName=(0,d.I)("src/shared/components/error/components");const f={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:u.O.gray_262626},title:Object.assign(Object.assign({},p.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},p.oN),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},v=(0,c.D2)(f)((0,l.$)()(g));var y=r(76614),b=r(36808),w=r(40029),I=r(75873),E=r(73893),C=r(12626);const x={regionId:I.fq,userAgent:e=>e.session.userAgent},k=(0,w.G)({selectors:x})((0,b.C)((({regionId:e,type:t,code:r,userAgent:n})=>{const a=(0,C.E)(r);return{codeForRaise:a,viewType:function(e){const{codeForRaise:t,type:r,regionId:n}=e;if(404===t||410===t)return"search"===r||"entity"===r?"0"===n?"nothingFound":"nothingFoundWithAddOrgButton":"rubricator"===r?"nothingFoundInRubricator":"directions"===r?"canNotFindDirections":"nothingFound";return"somethingGoneWrong"}({codeForRaise:a,type:t,regionId:e}),userAgent:n}}))(n.memo((({codeForRaise:e,viewType:t,entityId:r,userAgent:i})=>{switch((0,E.e)(e),t){case"nothingFound":return n.createElement(a.l,null);case"nothingFoundWithAddOrgButton":return n.createElement(a.l,{showFeedbackButton:!0,entityId:r});case"canNotFindDirections":return n.createElement(o,null);case"nothingFoundInRubricator":return n.createElement(v,null);default:return n.createElement(y.V,{userAgent:i})}}))))},12626:(e,t,r)=>{"use strict";function n(e){return 404===e||410===e?e:500}r.d(t,{E:()=>n})},84883:(e,t,r)=>{"use strict";r.d(t,{L:()=>O});var n=r(2784),a=r(58365),i=r(21196),s=r(36808),o=r(87973),c=r(44956),l=r(54750),d=r(71456),u=r(31666),p=r(77219),m=r(25382),h=r(60218),g=r(72654),f=r(15866);function v(e,t,r){var n;if("AE"===t&&"branch"!==e.type)return"address"in e?null===(n=e.address)||void 0===n?void 0:n.makani:void 0;const a="attraction"===e.type?r||e.point:r;return a&&"station"!==e.type&&"branch"!==e.type&&"station_platform"!==e.type&&"station_entrance"!==e.type&&"building"!==e.type&&"point"!==e.type?(0,g.d)(a):void 0}function y(e,t){if("station_entrance"===e.type&&e.comment)return t._t("Выход %1",[e.comment])}function b(e){return(0,m.p)(e)&&"parking"!==e.type&&"address"in e&&e.address?(0,u.t)(e):void 0}function w(e,t,r){if("parking"!==e.type)return(0,m.p)(e)?(0,c.W8)(e,{separator:t,alwaysIncludeDivision:r}):(0,p.t)(e)?(0,o.xe)(e)||(0,c.W8)(e,{separator:t,alwaysIncludeDivision:r}):void 0}var I=r(67675),E=r(97232),C=r(11053);class x extends n.PureComponent{render(){const{title:e,description:t,s:r,address:i,coordinates:s,onTitleClick:o}=this.props;return n.createElement(n.Fragment,null,n.createElement(C.w,{className:(0,a.iv)(r.title),dataN:"wat-card-title"},n.createElement("span",{className:(0,a.iv)(!!o&&r.clickableTitle),onClick:o},n.createElement(E.v,null,e))),i&&!!i.length&&n.createElement("div",{className:(0,a.iv)(r.address)},n.createElement(E.v,null,i)),!!t&&!!t.length&&n.createElement("div",{className:(0,a.iv)(r.description)},n.createElement(E.v,{inline:!0},t)),!!s&&n.createElement("div",{className:(0,a.iv)(r.description)},s))}}const k={title:Object.assign(Object.assign({},I.FY),{marginTop:0,marginBottom:4,marginStart:0,marginEnd:0}),clickableTitle:{cursor:"pointer",":hover":{opacity:.7}},description:Object.assign(Object.assign({},I.oN),{opacity:.7}),address:{marginBottom:4}},_=(0,i.D2)(k)(x),O=(0,s.C)((({entity:e,additionalTitle:t,pointInFrame:r},{tp:n,config:a})=>{const{name:i,address:s}=(0,d.Ky)(e,n,{useSingleComponentForBranch:!1,separator:a.addressSeparator+f.L_,order:a.addressOrder,alwaysIncludeDivisionInDrilldown:a.alwaysIncludeDivisionInDrilldown}),o=(0,h.oA)([...(0,l.y)(e,n),w(e,a.addressSeparator+f.L_,a.alwaysIncludeDivisionInDrilldown),b(e),y(e,n)]);let c="parking"!==e.type&&"branch"!==e.type?s:void 0;return c=t?(c||[]).concat(t):c,{title:i,description:o,address:c,coordinates:v(e,a.defaultCountryCode,r)}}))(_)},11155:(e,t,r)=>{"use strict";r.d(t,{w:()=>i,Q:()=>s});var n=r(2784),a=r(74872);const i=e=>{const{asyncStatus:t}=e;return"error"===t?n.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},n.createElement(a.j,{code:500})):n.createElement("div",null)},s=e=>n.createElement(i,{asyncStatus:e})},97738:(e,t,r)=>{"use strict";r.d(t,{T:()=>v,w:()=>f});var n=r(2784),a=r(58365),i=r(21196),s=r(36808),o=r(97264),c=r(6603);var l=r(10979),d=r(82322),u=r(93043),p=r(32853),m=r(72891);class h extends n.PureComponent{constructor(){super(...arguments),this.renderPlaceholder=e=>{const{size:t=m.dp.cardLogo,s:r}=this.props;return"error"===e?n.createElement("div",{className:(0,a.iv)(r.crownLogo),style:{width:t,height:t}},n.createElement(l._,{color:o.O.yellow_ffb81c,size:32})):n.createElement("div",{className:(0,a.iv)(this.props.s.placeholder)})}}render(){const{image:e,size:t=m.dp.cardLogo,isLoadingForced:r,s:i}=this.props;return e?n.createElement("div",{className:(0,a.iv)(i.logo),style:{width:t,height:t}},n.createElement(d.C,{src:e,renderPlaceholder:this.renderPlaceholder,isLoadingForced:r})):n.createElement("div",Object.assign({className:(0,a.iv)(i.crownLogo),style:{width:t,height:t}},u.dx.n("wat-crown")),n.createElement(l._,{color:o.O.yellow_ffb81c,size:32}))}}const g={logo:{display:"inline-block",backgroundColor:o.O.white,borderRadius:"50%",overflow:"hidden",boxShadow:p.q.logo},placeholder:{width:"100%",height:"100%",backgroundColor:o.O.gray_f2f2f2},crownLogo:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:p.q.logo,background:o.O.white}},f=(0,i.D2)(g)(h),v=(0,s.C)((function({entity:e}){const t=(0,c.q)(e,"112x112");if(t)return t}))(f)},28789:(e,t,r)=>{"use strict";r.d(t,{S:()=>u});var n=r(2784),a=r(58365),i=r(21196),s=r(97264),o=r(32853),c=r(54421),l=r(93043);class d extends n.PureComponent{render(){const{children:e,onClick:t,s:r,isFlex:i=!1,isActive:s=!1,isHovered:o=!1,onMouseEnter:c,onMouseLeave:d,isSmall:u,dataN:p="wat-mini-wrap",dataT:m="",dataS:h=""}=this.props;return n.createElement("div",Object.assign({className:(0,a.iv)(r.miniWrapper,i&&r._flex,s&&r._active,o&&r._hovered,u&&r._small),onClick:t,onMouseEnter:c,onMouseLeave:d},l.dx.n(p),l.dx.t(m),l.dx.s(h)),e)}}const u=(0,i.D2)((e=>({miniWrapper:{background:s.O.white,paddingTop:16,paddingBottom:12,paddingStart:24,paddingEnd:16,boxShadow:o.q.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",transition:`box-shadow ${c.l.short}ms`,":hover":{background:s.O.gray_f9f9f9}},_active:{boxShadow:`inset 3px 0 0 0 ${e.colors.green_299400_brand}`,background:s.O.gray_f9f9f9},_hovered:{background:s.O.gray_f9f9f9},_flex:{display:"flex",justifyContent:"space-between"},_small:{padding:"12px 20px"}})))(d)},44816:(e,t,r)=>{"use strict";r.d(t,{q:()=>l,Q:()=>u});var n=r(97264),a=r(29920),i=r(59297),s=r(2784),o=r(93043),c=r(67751);const l=(0,s.memo)((({appearance:e="solid",children:t})=>{const{s:r,css:n}=(0,a.y)(d);return s.createElement("div",Object.assign({className:n(r.root,"transparent"===e&&r._transparent)},o.dx.n("wat-nav-footer")),t)}));l.displayName="NavFooter";const d=(0,a.k)({root:{padding:12,display:"flex",overflowX:"auto",background:n.O.white,boxShadow:`0px -5px 10px ${(0,i.j)(n.O.black,.07)}`},_transparent:{background:"none",boxShadow:"none"}}),u=(0,s.memo)((({icon:e,children:t,onClick:r,type:n,disabled:i,grow:l,shadow:d,dataN:u="wat-nav-button",href:m})=>{const{s:h,css:g}=(0,a.y)(p),f=[h.button,"blue"===n&&h._blue,"white"===n&&h._white,d&&h._shadow,i&&h._disabled,l&&h._grow];return m?s.createElement(c.Z,Object.assign({href:m},o.dx.n(u),{styles:h.linkWrapper,color:"inherit",onClick:r}),s.createElement("span",{className:g(...f)},e&&s.createElement("div",{className:g(h.icon)},e),t&&s.createElement("div",{className:g(h.content)},t))):s.createElement("button",Object.assign({},o.dx.n(u),{className:g(...f),onClick:r}),e&&s.createElement("div",{className:g(h.icon)},e),t&&s.createElement("div",{className:g(h.content)},t))}));u.displayName="NavFooterButton";const p=(0,a.k)({button:{padding:"0 6px",background:n.O.gray_f2f2f2,borderRadius:8,marginEnd:8,display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:40,"&:last-child":{marginEnd:0}},linkWrapper:{marginEnd:8,"&:last-child":{marginEnd:0}},content:{padding:"0 6px","&:empty":{display:"none"}},_grow:{flexGrow:1,flexShrink:0},_white:{background:n.O.white},_blue:{background:n.O.blue_028eff,color:n.O.white},_shadow:{boxShadow:`0px 3px 10px ${(0,i.j)(n.O.gray_262626,.15)}`},_disabled:{opacity:.8},icon:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}}})},63719:(e,t,r)=>{"use strict";r.d(t,{F:()=>d});var n=r(2784),a=r(97264),i=r(93043),s=r(72891),o=r(32853),c=r(29920),l=r(79432);const d=(0,n.memo)((e=>{const{css:t,s:r}=(0,c.y)(u),{header:a,body:s,footer:o,onClose:d,dataN:p="",dataT:m=""}=e;return n.createElement("div",Object.assign({className:t(r.layout)},i.dx.n(p),i.dx.t(m)),a&&n.createElement("div",{className:t(r.item)},a),n.createElement("div",{className:t(r.body)},s),o&&n.createElement("div",{className:t(r.item)},o),d&&n.createElement("div",Object.assign({},i.dx.n("wat-popup-close"),{className:t(r.close),onClick:d}),n.createElement(l.x,null)))}));d.displayName="PopupLayout";const u=(0,c.k)((e=>({layout:{position:"relative",display:"flex",flexDirection:"column",maxHeight:"90vh",background:a.O.white,width:e.mobile?"90vw":s.dp.popupFrameWidth,borderRadius:s.E0.isolate,boxShadow:o.q.popup},item:{flexShrink:0},body:Object.assign({position:"relative",overflowY:"auto",overflowX:"hidden",flex:"1 1 auto"},s.AR),close:{position:"absolute",width:24,height:24,top:8,end:8,cursor:"pointer"}})))},96274:(e,t,r)=>{"use strict";r.d(t,{p:()=>g});var n=r(2784),a=r(67675),i=r(67751),s=r(93043),o=r(97264),c=r(20761),l=r(29920),d=r(76023),u=r(14670),p=r(75873);const m={3:'ООО "МикроСис"',4:'ООО "Городские Информационные Системы"',5:'ООО "ДубльГИС-Кемерово"',6:'ООО "ДубльГИС-Новокузнецк"',8:'ООО "2ГИС.ЮГ"',10:'ООО "2ГИС-Рязань"',11:'ООО "ДубльГИС-Иркутск"',12:'ООО "ДубльГИС-Иркутск"',13:'ООО "ДубльГИС-Тюмень"',20:'ООО "Городские Информационные Системы"',23:'ООО "2ГИС.ЮГ"',24:'ООО "2ГИС.Р"',25:'ООО "ДубльГИС-Владивосток"',26:'ООО "ДубльГИС-Магнитогорск"',27:'ООО "Городские Информационные Системы"',28:'ООО "2ГИС.ЦФО"',29:'ООО "2ГИС-Закамье"',30:'ООО "2ГИС.ЮГ"',31:'ООО "ДубльГИС Воронеж"',33:'ООО "2ГИС-Саратов"',34:'ООО "ДубльГИС-Кострома"',35:'ООО "2ГИС-ХАБАРОВСК"',36:'ООО "2ГИС-Калининград"',37:'ООО "2ГИС-Улан-Удэ"',39:'ООО "ДубльГИС-Сургут"',40:'ООО "2ГИС-Калининград"',41:'ООО "ДубльГИС Поволжье"',42:'ООО "2ГИС.Пенза"',43:'ООО "2ГИС-Саратов"',44:'ООО "2ГИС-Рязань"',45:'ООО "2ГИС-Нижний Тагил"',46:'ООО "2ГИС.С"',47:'ООО "2ГИС.ЦФО.Т"',48:'ООО "ДубльГИС-Оренбург"',49:'ООО "ДубльГИС-Архангельск"',50:'ООО "2ГИС РЕГИОН"',51:'ООО "2ГИС-Байкал"',52:'ООО "ДубльГИС-Благовещенск"',53:'ООО "2ГИС-Улан-Удэ"',54:'ООО "2ГИС.С"',55:'ООО "ДубльГИС-Ульяновск"',56:'ООО "2ГИС.ЛИПЕЦК"',57:'ООО "ДубльГИС-Ставрополь"',58:'ООО "ДубльГИС Поволжье"',59:'ООО "2ГИС.ЦФО.Т"',61:'ООО "ДубльГИС-Калуга"',62:'ООО "2ГИС.ЦФО"',63:'ООО "2ГИС СИСТЕМА"',64:'ООО "2ГИС-Байкал"',65:'ООО "2ГИС-Калининград"',67:'ТОО "2ГИС-Справочник Двух Столиц"',68:'ТОО "2GIS-Astana (2ГИС-Астана)"',69:'ООО "ДубльГИС-Абакан"',71:'ООО "2ГИС-ОРЕЛ"',72:'ООО "ДубльГИС-Ульяновск"',73:'ООО "ДубльГИС-Миасс"',74:'ООО "2ГИС-Новороссийск"',76:'ООО "2ГИС СЕВЕР"',77:'ООО "ДубльГИС-Новгород"',78:'ООО "2ГИС Вологда"',80:'ООО "ДубльГИС-Петрозаводск"',81:'ООО "2ГИС-Тамбов"',82:'ООО "ДубльГИС-Владивосток"',83:'ООО "ДубльГИС-Владивосток"',84:'ТОО "2ГИС-Справочник Караганды"',85:'ООО "2ГИС-САРАНСК"',86:'ООО "ДубльГИС-Кемерово"',87:'ООО "ДубльГИС-Миасс"',88:'ООО "2ГИС РЕГИОН"',89:'ООО "ДубльГИС-КМВ"',90:'ООО "ДубльГИС-Псков"',91:'ТОО "2ГИС-ОСКЕМЕН"',94:'ООО "ДубльГИС Комсомольск-на-Амуре"',95:'ООО "2ГИС-Камчатка"',96:'ООО "2ГИС СЕВЕР"',97:'ООО "ДубльГИС-Тюмень"',103:'ООО "2ГИС-Ноябрьск"',106:'ООО "2ГИС.ЮГ"',108:'ООО "2ГИС-Закамье"',109:'ООО "ДУБЛЬГИС-КАМЕНСК-УРАЛЬСКИЙ"',111:'ТОО "2ГИС-ПАВЛОДАР"',112:'ООО "ДваГИС-Бишкек"',113:'ООО "2ГИС-Дагестан"',115:'ООО "2ГИС.Грозный"',116:'ООО "2ГИС.ЮГ"',124:'ООО "ДубльГИС-Ульяновск"',131:'ООО "2ГИС.ЮГ"',139:'ООО "2ГИС-Ноябрьск"',150:'ООО "ДубльГИС-Ульяновск"',161:'ТОО "2ГИС-Шымкент"',162:'ТОО "2GIS Запад"',167:'ТОО "2GIS Aktobe"',168:'ТОО "2GIS-Atyrau"',170:'ТОО "2GIS-SEVER.KZ"',171:'ООО "ДваГИС-Бишкек"',196:'ТОО "2GIS-Mangystau"',201:'ТОО "2GIS-SEVER.KZ"',203:'ТОО "2GIS-Qostanai (2ГИС Костанай)"',204:'ООО "ДубльГИС-Ульяновск"',206:'ООО "ДубльГИС-Новокузнецк"',207:'ООО "2ГИС-Ноябрьск"',208:'СП OOO "2 GIS"',209:'ООО "ДваГИС-Бишкек"'};var h=r(21989);const g=n.memo((({buttonName:e,type:t})=>{const{lang:r,privacyUrl:a,licenseAgr:o,defaultCountryCode:g}=(0,c.Z)(),{s:b,css:w}=(0,l.y)(f),I=(0,u.v9)(p.yH),E=(0,d.T)(),C=e||E._t("Отправить"),x=n.useMemo((()=>"default_partner"===t&&I?(e=>m[e])(I):void 0),[I,t]),k=x&&v[g]||a,_=x&&y[g]||o,O=(()=>{if("ru"!==r&&"az"!==r)return;const e={agree:e=>n.createElement(i.Z,{href:_,external:!0},e),privacy:e=>n.createElement(i.Z,{href:k,external:!0},e),services:e=>n.createElement(i.Z,{href:"https://law.2gis.ru/rules",external:!0},e)};if("default"===t||"default_partner"===t&&!x){const t="az"===r?E._gg('Siz "%1" düyməsini sıxmaqla, $agree[Lisenziya müqaviləsinin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[C,'"DublGİS" MMC-nin']):E._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности].",[C,"ООО «ДубльГИС»"]);return n.createElement(h.J,{template:t,render:e})}if("default_partner"===t&&x){const t="az"===r?E._gg('Siz "%1" düyməsini sıxmaqla, $agree[Sazişin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[C,x]):E._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности]",[C,x]);return n.createElement(h.J,{template:t,render:e})}return"delivery"!==t&&"order"!==t||"ru"!==r?"smmCheckout"===t&&"ru"===r?n.createElement(h.J,{template:E._gg("Нажимая «%1» я даю 2ГИС согласие на обработку и передачу третьим лицам своих персональных данных и согласен с $privacy[Политикой конфиденциальности]",[C]),render:e}):void 0:n.createElement(h.J,{template:E._gg("Нажимая кнопку «%1», я принимаю условия $services[Соглашения об использовании Сервисов 2ГИС] и даю ООО «ДубльГИС» согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности]",[C]),render:e})})();if(O)return n.createElement("div",Object.assign({className:w(b.legal)},s.dx.n("wat-privacy-policy")),O);const S="delivery"===t?E._gg("Согласен с условиями Соглашения об использовании Сервисов 2ГИС и даю ООО «ДубльГИС» согласие на обработку персональных данных согласно [Политике конфиденциальности]"):"order"===t?E._t("Я даю 2ГИС согласие на обработку и передачу третьим лицам своих персональных данных и согласен с «[Политикой конфиденциальности]»"):E._t("Нажимая кнопку «Отправить», я даю ООО «ДубльГИС» согласие на обработку персональных данных на условиях и в целях, определённых «[Политикой конфиденциальности]»");return n.createElement("div",Object.assign({className:w(b.legal)},s.dx.n("wat-privacy-policy")),n.createElement(i.Z,{templated:!0,href:a,external:!0},S))}));g.displayName="PrivacyPolicy";const f=(0,l.k)({legal:Object.assign(Object.assign({},a.yG),{color:o.O.gray_929292})}),v={RU:"https://law.2gis.ru/privacy-partner",KZ:"https://law.2gis.kz/privacy-partner",AZ:"https://law.2gis.az/privacy-partner",KG:"https://law.2gis.kg/privacy-partner",UZ:"https://law.2gis.uz/privacy-partner"},y={RU:"https://law.2gis.ru/partner-agreement",KZ:"https://law.2gis.kz/partner-agreement",AZ:"https://law.2gis.az/partner-agreement",KG:"https://law.2gis.kg/partner-agreement",UZ:"https://law.2gis.uz/partner-agreement"}},56563:(e,t,r)=>{"use strict"},1684:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var n=r(2784);r(97121),r(56563);const a=e=>n.createElement(n.Fragment,null,e.children)},48432:(e,t,r)=>{"use strict";r.d(t,{M:()=>p});var n=r(2784),a=r(93043),i=r(97264),s=r(54421),o=r(67675),c=r(72891),l=r(44025),d=r(60218),u=r(29920);const p=n.memo((({title:e,seoTitle:t,onClick:r,onClickWithData:i,href:s,dataT:o,icon:c,bssRef:p,count:h,isColoredCount:g,activeRubric:f,rubricsKey:v,setActiveRubric:y})=>{const{css:b,s:w}=(0,u.y)(m),I=t||e,E=g&&0===h,C=!E&&f&&f===v;return n.createElement("div",{className:b(w.root)},n.createElement("a",Object.assign({ref:p,className:b(w.item),title:I,href:s,onClick:E?d.ZT:e=>{y&&v&&i?v===f?(y(void 0),i("allInfrastructure")):(y(v),i(v)):r(e)},"data-h":!0},a.dx.n("wat-rubric"),a.dx.t(o),(0,l.P)({label:I})),n.createElement("div",{className:b(w.icon,C&&w._empty,E&&w._disabled)},c()),n.createElement("span",{className:b(w.title,E&&w._disableText)},e)),(!!h||g)&&n.createElement("div",{className:b(w.count,g&&w.coloredCount,g&&E&&w.disableCount)},h))})),m=(0,u.k)((({mobile:e})=>({root:{display:"inline-block",width:"25%",position:"relative",verticalAlign:"top"},item:{cursor:"pointer",marginBottom:e?8:4,display:"block",padding:"0 4px",textDecoration:"none"},count:Object.assign(Object.assign({},o.Yq),{color:i.O.white,borderRadius:c.E0.isolate,background:i.O.gray_929292,position:"absolute",padding:"2px 5px",top:0,end:0,cursor:"pointer"}),disableCount:{background:i.O.gray_e6e6e6},icon:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",boxSizing:"border-box",background:"#fff",width:e?48:64,height:e?48:64,padding:e?12:16,borderRadius:"50%",marginTop:0,marginBottom:5,marginStart:"auto",marginEnd:"auto",boxShadow:`0 0 0 1px ${i.O.gray_e6e6e6}`,color:i.O.gray_929292,transition:`box-shadow ${s.l.short}ms ease-in-out`,"[data-h]:hover &":{boxShadow:`0 0 0 2px ${i.O.gray_e6e6e6}`},"& > *":{display:"block",objectFit:"contain",width:"100%",height:"100%",transition:`transform ${s.l.short}ms ease-in-out`,"[data-h]:hover &":{transform:"scale(0.9)"}}},title:Object.assign(Object.assign({},o.yG),{display:"block",overflow:"hidden",textOverflow:"ellipsis",height:"24px",color:i.O.gray_929292,textAlign:"center",transition:`color ${s.l.short}ms ease-in-out`,userSelect:"none","[data-h]:hover &":{color:i.O.gray_262626}}),coloredCount:{display:"flex",alignItems:"center",justifyContent:"center",right:5,minWidth:9,minHeight:14,background:i.O.green_30ad00,color:i.O.white,borderRadius:c.E0.oval,userSelect:"none"},_empty:{backgroundColor:"#da0000"},_disabled:{":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,backgroundColor:i.O.white,borderRadius:"50%",opacity:.8},"[data-h]:hover &":{boxShadow:`0 0 0 1px ${i.O.gray_e6e6e6}`},"& > *":{"[data-h]:hover &":{transform:"scale(1)"}}},_disableText:{"[data-h]:hover &":{color:i.O.gray_929292}}})))},22695:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(20761),a=r(2784),i=r(53923);const s=(0,a.memo)((({frame:e,frameContext:t})=>{const r=(0,n.Z)(),s=(0,i.K)(e,t,r);return s?a.createElement("div",{style:{height:s}}):null}))},94837:(e,t,r)=>{"use strict";r.d(t,{M:()=>I});var n=r(2784),a=r(491),i=r(21196),s=r(86400),o=r(42262),c=r(44134),l=r(97264),d=r(67675),u=r(93043),p=r(57787),m=r(59297),h=r(89451),g=r(72463),f=r(29920);const v=(0,n.memo)((()=>{const{css:e,s:t}=(0,f.y)(y);return g.Y.use()?null:n.createElement("button",{className:e(t.hamburger),onClick:e=>{e.stopPropagation(),g.Y.set((()=>!0))}},n.createElement("span",{className:e(t.hamburgerLine,t._line1)}),n.createElement("span",{className:e(t.hamburgerLine,t._line2)}),n.createElement("span",{className:e(t.hamburgerLine,t._line3)}))})),y=(0,f.k)({hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:l.O.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:l.O.gray_262626,start:0},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"12px"}});class b extends n.PureComponent{constructor(){super(...arguments),this.state={externalValue:this.props.value,value:this.props.value,isFocused:!1},this.onChange=e=>{const t=e.target.value;this.setState({value:t}),this.props.onChange(t)},this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e)},this.onFocus=()=>{this.setState({isFocused:!0}),p.Y.startTracker(),this.props.onFocus&&this.props.onFocus()},this.onBlur=()=>{this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur()},this.onClear=()=>{const{inputRef:e}=this.props;e&&e.current&&e.current.focus(),this.props.onChange(""),this.props.onClear&&this.props.onClear()}}static getDerivedStateFromProps(e,t){return e.value!==t.externalValue?{externalValue:e.value,value:e.value}:null}render(){const{placeholder:e,withSearchIcon:t,withMobileSearchBarEntryPoint:r,autoFocus:a,lightText:s,onClick:l,onKeyUp:d,inputRef:p,s:m,i18n:{tp:g},displayH1Header:f}=this.props,{value:y,isFocused:b}=this.state,w=f&&!b&&!!y,I=!!y;return n.createElement("div",Object.assign({className:(0,i.iv)(m.wrapper,b&&m._focused)},u.dx.n("wat-search-bar")),n.createElement("input",Object.assign({type:"text",className:(0,i.iv)(m.input,s&&m._lightText,w&&m._hiddenText),placeholder:e,value:y,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onClick:l,onKeyDown:this.onKeyDown,onKeyUp:d,ref:p,autoFocus:a,spellCheck:!1},u.dx.n("wat-search-bar-input"))),w&&n.createElement("h1",Object.assign({className:(0,i.iv)(m.header,s&&m._lightText)},u.dx.n("wat-search-bar-h1")),y),t&&!y&&n.createElement(o.o,null),I?n.createElement("div",Object.assign({className:(0,i.iv)(m.clearButtonWrapper)},u.dx.n("wat-search-bar-clear-icon")),n.createElement(c.Y,{onClear:this.onClear,ariaLabel:g._t("Очистить локальное поле поиска"),isWhite:s})):r&&n.createElement(h.i,null,n.createElement("div",{className:(0,i.iv)(m.sidebarEntryWrapper)},n.createElement(v,null))))}}b.displayName=(0,a.I)("src/shared/components/searchInput");const w={wrapper:{display:"flex",alignItems:"center",color:l.O.gray_929292,position:"relative"},_focused:{color:l.O.gray_262626},header:Object.assign(Object.assign({},d.qH),{position:"absolute",top:0,left:0,color:l.O.gray_262626,paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:0,pointerEvents:"none",whiteSpace:"nowrap",overflow:"hidden",boxSizing:"border-box",width:"100%",borderEnd:"32px solid transparent"}),input:Object.assign(Object.assign({},d.qH),{border:"none",color:l.O.gray_262626,boxSizing:"border-box",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:6,margin:0,width:"100%",outline:"none",background:"transparent","::placeholder":{color:l.O.gray_929292},"::-ms-clear":{display:"none"}}),_lightText:{color:l.O.white,"::placeholder":{color:(0,m.j)(l.O.white,.5)}},_hiddenText:{color:"transparent"},clearButtonWrapper:{height:16,marginTop:"auto",marginBottom:"auto",marginStart:0,marginEnd:8},sidebarEntryWrapper:{height:24,marginTop:"auto",marginBottom:"auto",marginStart:0,marginEnd:8}},I=(0,i.D2)(w)((0,s.$)()(b))},28704:(e,t,r)=>{"use strict";r.d(t,{k:()=>h});var n=r(2784);const a=()=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},n.createElement("path",{fill:"#FFBA00",fillRule:"evenodd",d:"M19.059 5v10.805c0 2.826-.93 4.114-3.256 4.114-1.932 0-2.862-1.252-2.862-4.114V5H6v12.093c0 5.653 3.864 9.302 9.803 9.302 6.333 0 10.197-3.649 10.197-9.302V5h-6.941z"}));var i=r(67675),s=r(72891),o=r(93043),c=r(21133),l=r(63715),d=r(29920),u=r(20761),p=r(44803),m=r(97264);const h=(0,n.memo)((e=>{const{showBorder:t,showBackButton:r,showLogo:i,children:s,handleBackClick:h,handleLogoClick:f}=e,{css:v,s:y,dir:b}=(0,d.y)(g),{brandCode:w}=(0,u.Z)(),I="urbi"===w,E=(0,l.$)((e=>{e.preventDefault(),e.stopPropagation(),null==f||f()})),C=(0,l.$)((e=>{e.preventDefault(),e.stopPropagation(),null==h||h()}));return n.createElement("div",{className:v(y.wrapper,!t&&y._noBorder)},(r||i)&&n.createElement("div",{className:v(y.buttonWrapper,t&&r&&y._separator),style:{color:m.O.green_299400}},r?n.createElement("button",Object.assign({className:v(y.backIconWrapper),onMouseDown:C},o.dx.n("wat-back-btn")),n.createElement("div",{className:v(y.backIcon,"rtl"===b&&y._rotate180),style:{color:m.O.green_299400}},n.createElement(c.X,null))):n.createElement("a",Object.assign({href:"/",className:v(y.logoIcon),onClick:E},o.dx.n("wat-search-bar-logo")),I?n.createElement(a,null):n.createElement(p.g,null))),n.createElement("div",{className:v(y.input)},s))}));h.displayName="SearchInputWrapper";const g=(0,d.k)({wrapper:{boxShadow:"logical 0 1px 3px 0 rgba(0, 0, 0, 0.5)",background:m.O.white,borderRadius:s.E0.default,display:"flex",alignItems:"center",position:"relative",overflow:"hidden",transform:"translateZ(0)",transition:"opacity .3s"},_noBorder:{boxShadow:"none",background:"none"},buttonWrapper:{flex:"1 0 40px"},logoIcon:{width:"32px",height:"32px",margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"},_transparent:{background:"transparent",boxShadow:"none"},input:Object.assign(Object.assign({},i.oN),{width:"100%"}),_separator:{boxShadow:`logical inset -1px 0 0 ${m.O.gray_e6e6e6}`},backIconWrapper:{display:"flex",width:"40px",height:"40px",cursor:"pointer"},backIcon:{width:"32px",height:"32px",margin:"auto"},_rotate180:{transform:"rotate(180deg)"}})},39337:(e,t,r)=>{"use strict";r.d(t,{r:()=>u});var n=r(2784),a=r(58365),i=r(21196),s=r(54421),o=r(93043),c=r(72891);class l extends n.PureComponent{constructor(){super(...arguments),this.state={stage:"start"}}render(){const{s:e}=this.props;return n.createElement(n.Fragment,null,n.createElement("div",{className:(0,a.iv)(e.background),onClick:this.props.onBackgroundClick}),n.createElement("div",Object.assign({className:(0,a.iv)(e.content,"end"===this.state.stage&&e._contentEnd)},o.dx.n("wat-suggest-wrap")),this.props.children))}componentDidMount(){this.endAnimationTimeout=window.setTimeout((()=>this.setState({stage:"end"})),0)}componentWillUnmount(){window.clearTimeout(this.fadeInAnimationTimeout),window.clearTimeout(this.endAnimationTimeout)}}const d={background:{background:"#fff",position:"absolute",top:0,left:0,right:0,zIndex:c.W5.bottom,height:"100vh"},content:{zIndex:c.W5.base,position:"absolute",left:0,right:0,transition:`opacity ${s.l.short}ms`,opacity:0},_contentEnd:{opacity:1}},u=(0,i.D2)(d)(l)},93801:(e,t,r)=>{"use strict";r.d(t,{M:()=>j});var n=r(2784),a=r(56135),i=r(40029),s=r(93019);function o({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v17.723z"}))}var c=r(87980),l=r(81870),d=r(90961),u=r(86122),p=r(5851),m=r(60985),h=r(1005);const g=(0,m.P1)(s.tV,(e=>{const t=(0,h.s0)(e).find((e=>!(!e||"collection"!==e.type||!e.is_default)));return t&&t.id}));var f=r(66834),v=r(24062),y=r(60218),b=r(16205),w=r(22491),I=r(28633);const E=(0,l.gQ)("handleBookmarkClick",(e=>{const{isAdded:t,item:r,targetBoundingClientRect:n}=e;return(0,p.m)((0,l.xJ)((e=>{if(t)return(0,l.vP)((0,d.BN)(),(0,u.b)(r));const a=(e=>{const t=e.appContext.weak.temporaryDefaultCollectionId;return t&&(0,s.tV)(e)[t]?t:g(e)})(e),i=a||(0,y.by)(),o=(0,I._p)(i);return(0,l.vP)(!a&&(0,b.B)({title:"",collectionId:i,isDefault:!0,skipSync:!0,color:o}),(0,f.d)({collectionId:i,item:r}),(0,v.Yi)({collectionId:i,item:r,targetBoundingClientRect:n}),(0,w.K)())})))}));var C=r(87048),x=r(26162),k=r(95084),_=r(59554);var O=r(86400),S=r(90777);const z={onClick:E};class M extends n.PureComponent{constructor(){super(...arguments),this.buttonRef=n.createRef(),this.handleClick=()=>{if(!this.buttonRef.current)return;const{isAddedInPersonal:e,isAddedInPlaces:t,item:r}=this.props;this.props.bssOnClick({isFilled:e||t}),this.props.onClick({item:r,isAdded:e||t,targetBoundingClientRect:this.buttonRef.current.getBoundingClientRect()})}}render(){const{onlyIcon:e}=this.props;return n.createElement(S.w,null,n.createElement(a.W,{dataT:"wat-favorite-action",icon:this.getIcon(),onClick:this.handleClick,innerRef:this.buttonRef},!e&&this.getText()))}getText(){return this.props.isAddedInPersonal||this.props.isAddedInPlaces?this.props.i18n.tp._t("Сохранено"):this.props.i18n.tp._t("Сохранить")}getIcon(){return this.props.isAddedInPersonal||this.props.isAddedInPlaces?n.createElement(o,{color:this.props.color}):n.createElement(c.r,{color:this.props.color})}}const j=(0,i.G)({selectors:({item:e})=>({isAddedInPersonal:(0,s.y7)(e),isAddedInPlaces:(0,s.Tb)(e)}),handlers:z})((0,C.z)(void 0,((e,{ownerFrameId:t})=>({bssOnClick(r){e((0,_._N)((e=>(0,k.s)({state:e,entityFrameId:t})),(e=>{const n={uiElement:{name:"bookmark",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{favoritesItem:{isFilled:r.isFilled},placeItem:e}};return(0,x.zs)(n)})))}})))((0,O.$)()(M)))},3421:(e,t,r)=>{"use strict";r.d(t,{X:()=>v});var n=r(2784),a=r(75132),i=r(26162),s=r(40029),o=r(60218),c=r(36808);var l=r(15252),d=r(61834);function u({eventParams:e,href:t,bssV3Url:r,bssV3Link:n}){if("undefined"==typeof window||!e)return t;if(t.startsWith("tel:"))return t;const a=(e=>{const t=e.match(/^https?:\/\/.*?\/(\d\.\d)\//);return t?t[1]:void 0})(t),i=a&&{1.2:"3.2",1.3:"3.3"}[a]||"3.2",s=-1===r.indexOf("http")?`http:${r}`:r,o=t.replace(/^https?:\/\/link.(2gis.ru|urbi.ae)[^?]+\?/,"")||void 0;let c="";if(!o)return t;try{c=[function(e){try{return new URL(e).toString()}catch(e){}return e}(o),s,e].join("\n");return`${n}${i}/${encodeURIComponent((0,d.o)(c))}`}catch(e){(0,l.H)({level:"warn",message:"Не удалось запаковать в base64 урл",id:"aj48e",payload:{type:"exception",subtype:"MakeBase64Link",stack:e.stack,data:JSON.stringify({resolvedUrl:o,linkParamsString:c})}})}return t}const p={bssTrackAction:i.zs};class m extends n.Component{constructor(){super(...arguments),this.onClick=()=>{this.props.event&&this.props.bssTrackAction(this.props.event)}}render(){const{linkUrl:e}=this.props;return n.createElement("span",{onClickCapture:this.onClick},this.props.children(e))}}const h=(0,c.C)(((e,{config:t})=>({webApiKey:t.webApiKey,commitIsoDate:t.commitIsoDate,bssV3Url:t.bssV3LinkEndpoint,bssV3Link:t.bssV3Link,abTest:t.experiments,clientId:Number(t.clientId),isMobileDevice:t.isMobileDevice,sendPrivacyData:!t.featureReadOnly})))((0,s.G)({selectors:()=>{let e,t,r;return({showEventOrdinal:n,actionEventParamsSelector:i,originalHref:s,commitIsoDate:c,webApiKey:l,bssV3Url:d,bssV3Link:p,abTest:m,clientId:h,isMobileDevice:g,sendPrivacyData:f})=>({event:e=>i?i(e):void 0,linkUrl:v=>{const y=i?i(v):void 0;if(void 0===n||!y)return s;if(e&&t===n&&s===r)return e;const b=v.session.tabId,w={type:211,eventType:"action",eventId:(0,o.by)(),actionType:"externalLink",eventOrdinal:0,uiElement:y.uiElement,payload:Object.assign(Object.assign({},y.payload),{externalLink:{forkEventOrdinal:n,parentTabId:b}})},I=(0,a.D)({tabId:(0,o.by)(),apikey:l,commitIsoDate:c,deviceLocale:v.session.browserLocale,state:v,eventParams:w,enhancedAttrs:{},abTest:m,clientId:h,isMobileDevice:g,sendPrivacyData:f});return r=s,t=n,e=u({eventParams:JSON.stringify([(0,o.uv)(I)]),href:s,bssV3Url:d,bssV3Link:p}),e}})},handlers:p})(m));var g=r(15961),f=r(20761);const v=e=>{const{featureReadOnly:t}=(0,f.Z)(),r=n.useContext(g.M);if(t)return n.createElement(n.Fragment,null,e.children(e.originalHref));const a=e.highPriorityEventOrdinal||void 0===r.showEventOrdinal?e:Object.assign(Object.assign({},e),{showEventOrdinal:r.showEventOrdinal});return n.createElement(h,Object.assign({},a))}},6629:(e,t,r)=>{"use strict";r.d(t,{a:()=>_});var n=r(2784),a=r(56135),i=r(40029),s=r(81870),o=r(90961),c=r(68603),l=r(89965),d=r(59554);const u=(0,s.gQ)("handleDirectionsClick",(({lonLat:e,entityId:t})=>e?(0,s.vP)((0,o.BN)(),(0,c.b)({points:[void 0,{type:"point",lonLat:e,entityId:t}]})):t?(0,d._N)((e=>(0,l.nM)({state:e,entityId:t})),(e=>{const r=e.data&&"point"in e.data?e.data.point:void 0;if(r)return(0,s.vP)((0,o.BN)(),(0,c.b)({points:[void 0,{type:"point",lonLat:r,entityId:t}]}))})):(0,s.ZT)()));var p=r(87048),m=r(26162),h=r(95084);var g=r(86400),f=r(74805),v=r(91437),y=r(60404),b=r(75873),w=r(91208),I=r(29782),E=r(91871);const C=(0,i.B)()({__dirname:"src/shared/containers/seoLink/containers",selectors:({entityId:e})=>({cityAlias:t=>{var r,n;if(!e)return;const a=(0,l.nM)({state:t,entityId:e}).data;return a?(0,E.i)(a)||(null===(n=null===(r=(0,I.D4)({state:t,id:a.region_id}))||void 0===r?void 0:r.data)||void 0===n?void 0:n.uri_code):void 0}}),formatter:({lonLat:e,entityId:t})=>({points:e?[void 0,{type:"point",lonLat:e,entityId:t}]:void 0})})((({points:e,cityAlias:t,children:r})=>n.createElement(w.E,{type:"directions",points:e,cityAlias:t},r))),x={onClick:u};class k extends n.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{lonLat:e,entityId:t}=this.props;(e||t)&&(this.props.bssOnClick(),this.props.onClick({entityId:t,lonLat:e}))}}render(){const{onlyIcon:e,i18n:t,lonLat:r,entityId:i,color:s}=this.props;return r||i?n.createElement(C,{lonLat:r,entityId:i},(r=>n.createElement(a.W,{dataT:"wat-route-action",icon:n.createElement(f.Z,{color:s}),onClick:this.handleClick,href:r},!e&&t.tp._t("Проехать")))):null}}const _=(0,i.G)({selectors:({frameId:e})=>({lonLat:t=>{const r=(0,v.iF)(t.appContext.frames,e);if(!r||"entity"!==r.type)return;if(r.point)return r.point;const n=(0,l.nM)({state:t,entityId:r.entityId}).data;return n&&"point"in n&&n.point?n.point:void 0},entityId:t=>{const r=(0,v.iF)(t.appContext.frames,e);return r&&"entityId"in r&&r.entityId!==y.k8?r.entityId:void 0},regionCode:b.SJ}),handlers:x})((0,p.z)(void 0,((e,{ownerFrameId:t})=>({bssOnClick(){e((0,d._N)((e=>(0,h.s)({state:e,entityFrameId:t})),(e=>{const r={uiElement:{name:"buildRoute",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{placeItem:e}};return(0,m.zs)(r)})))}})))((0,g.$)()(k)))},10877:(e,t,r)=>{"use strict";r.d(t,{h:()=>te});var n=r(2784),a=r(21196),i=r(86400),s=r(36808),o=r(491),c=r(97264),l=r(72891),d=r(12015),u=r(84883),p=r(97738),m=r(83564),h=r(13673);var g=r(67675),f=r(93043),v=r(51768),y=r(47273);var b=r(97985),w=r(51945),I=r(30261);function E({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"32",viewBox:"0 0 32 32",width:"32"},n.createElement("g",{fill:e,fillRule:"evenodd",transform:"translate(0 11)"},n.createElement("path",{d:"m5 10h2l1.5-6 1.5 6h2l-2.65-10h-1.26927192l-2.08072808 6.8-1.90226771-6.8h-1.34773229l-2.75 10h2l1.5-6z"}),n.createElement("path",{d:"m12.948834 0v10h7.9987735l.5572916-2h-1.3768381v-8h-1.7702203v8h-3.6060044v-8z"}),n.createElement("path",{d:"m30.077355 0v8h1.4096199l-.5900734 2h-9.0969657l.5736825-2h.9015011l2.2127755-8zm-1.827355 2h-1.55l-1.6218784 6h3.1718784z"})))}var C=r(11253);class x extends n.PureComponent{constructor(){super(...arguments),this.renderLogo=()=>{const{entity:e,textColor:t,regionCode:r}=this.props;return"stop"===e.subtype?null:"route_logo"in e&&(0,C.I)(e.route_logo)?n.createElement(E,{color:t}):(0,w.Y)(e.subtype,e.route_logo)?n.createElement(I.m,{size:32,color:t,regionCode:r}):"railway"===e.subtype?null:n.createElement(b.J,{type:e.subtype,color:t})}}render(){const{entity:e,backgroundColor:t,s:r}=this.props;return"stop"===e.subtype?null:n.createElement("div",Object.assign({className:(0,a.iv)(r.logo),style:{background:t}},f.dx.n("wat-transport-logo")),this.renderLogo())}}x.displayName=(0,o.I)("src/shared/components/transportLogo");const k={logo:{width:l.dp.cardLogo,height:l.dp.cardLogo,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"}},_=(0,s.C)((({entity:e},{theme:t})=>{const r=(0,m.dF)(e,t);return{textColor:r,backgroundColor:(0,y.x)(r)}}))((0,a.D2)(k)(x));var O=r(77219),S=r(89952);const z=(e,t,r)=>{if(!r)return;if(t)return t;if(!e)return;const n=r.offsetWidth,a=r.offsetHeight;return(0,S.W)(e,`${n}x${a}`)};var M=r(39670),j=r(93501),T=r(43062),N=r(81870),P=r(91437),L=r(71846);const F=e=>{const{entityId:t,type:r}=e;return(0,N.xJ)((e=>{var n;const a=null===(n=(0,P.Fq)(e.appContext.frames))||void 0===n?void 0:n.id;return a?(0,T.Sb)({frameId:a,entityId:t,tab:"realty"}):(0,L.xo)({id:t,type:r,tab:"realty"})}))};var R=r(39116),H=r(70289),D=r(57570),B=r(75873),A=r(11052),V=r(95084);const Z=e=>({frameId:t},r)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t},action:"tap"};const n=(0,B.fq)(r),a=(0,A.O)(r);return{action:"tap",uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,D.U)({locale:a,region_id:n})},enableMapLayer:!0},placeItem:(0,V.s)({state:r,entityFrameId:t})}}};var U=r(57511),$=r(39206),W=r(20761);const q=({entity:e},{tp:t,config:r})=>{const n="building"===e.type&&e.has_realty?r.featureRealty?t._gg("Недвижимость на карте 2ГИС"):t._t("Недвижимость в этом доме"):void 0;if(n)return{title:n}},G=n.memo((({entity:e})=>{const{featureRealty:t}=(0,W.Z)(),{useBssHandler:r,bssRef:a}=(0,R.T)((e=>({frameId:t},r)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t}};const n=(0,B.fq)(r),a=(0,A.O)(r);return{uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,D.U)({locale:a,region_id:n})}},placeItem:(0,V.s)({state:r,entityFrameId:t})}}})(t)),i=r(Z,t),s=(0,H.A)($.T),o=(0,H.A)(F,{entityId:e.id,type:e.type}),l=(0,n.useCallback)((()=>{i(),t?s():o()}),[]),d=(0,U.Gb)(q,{entity:e});if(!d)return null;const{title:u}=d;return n.createElement("div",{ref:a},n.createElement(j.z,{onClick:l,appearance:"primary",backgroundColor:c.O.green_299400,dataN:"wat-realty-button"},u))}));var Q=r(40029),K=r(89965),J=r(2615),X=r(90777);class Y extends n.PureComponent{constructor(){super(...arguments),this.state={backgroundUrl:void 0},this.container=n.createRef()}componentDidMount(){window.setTimeout((()=>{const{backgroundImage:e,videoPreview:t}=this.props,r=this.container&&this.container.current?this.container.current:void 0,n=z(e,t,r);this.setState({backgroundUrl:n})}),0)}componentDidUpdate(e){const t=this.container&&this.container.current?this.container.current:void 0,r=z(this.props.backgroundImage,this.props.videoPreview,t);r!==z(e.backgroundImage,e.videoPreview,t)&&this.setState({backgroundUrl:r})}render(){const{s:e,color:t,entity:r,renderContentBefore:i,renderContentAfter:s,backgroundColor:o,additionalTitle:c,pointInFrame:l,onTitleClick:d,hasPattern:p,hasImage:m,hasRealtyButton:h,isSearchBot:g}=this.props;return n.createElement("div",Object.assign({className:(0,a.iv)(e.wrapper),style:{color:t}},f.dx.n("wat-header-card"),{ref:this.container}),n.createElement("div",{className:(0,a.iv)(e.backgroundWrap)},n.createElement(v.A,{color:o,image:this.state.backgroundUrl,hasImage:m,hasPattern:p,isLoadingForced:g})),n.createElement("div",{className:(0,a.iv)(e.foregroundWrap)},i&&i(),n.createElement("div",{className:(0,a.iv)(e.inner)},this.renderLogo(),this.renderRating(),n.createElement("div",{className:(0,a.iv)(e.face)},n.createElement(u.L,{entity:r,additionalTitle:c,pointInFrame:l,onTitleClick:d})),h&&n.createElement(G,{entity:r}),s&&s())))}renderLogo(){const{entity:e,s:t,regionCode:r,isSearchBot:i}=this.props;return function(e){return(0,O.t)(e)&&(0,w.Y)(e.subtype,e.route_logo)}(e)||(0,M.C)(e)?n.createElement("div",{className:(0,a.iv)(t.logo)},n.createElement(_,{entity:e,regionCode:r})):n.createElement(p.T,{entity:e,render:e=>n.createElement("div",{className:(0,a.iv)(t.logo)},e),isLoadingForced:i})}renderRating(){const{rating:e,color:t,handleReviewClick:r,s:i}=this.props;return e?n.createElement(X.w,null,n.createElement("div",Object.assign({className:(0,a.iv)(i.rating)},f.dx.n("wat-header-rating")),n.createElement("div",{className:(0,a.iv)(i.stars,r&&i._clickable),onClick:r},n.createElement(d.i,{color:t,size:"medium",rating:e})),n.createElement("span",{className:(0,a.iv)(i.ratingCount)},e))):null}}Y.displayName=(0,o.I)("src/shared/containers/header");const ee={wrapper:{position:"relative",backgroundSize:"cover",color:c.O.white,zIndex:l.W5.base},backgroundWrap:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:l.W5.bottom},foregroundWrap:{position:"relative",zIndex:l.W5.base},inner:{padding:24},rating:{marginTop:-4,marginBottom:"8px",height:"16px"},stars:{display:"inline-block"},_clickable:{cursor:"pointer"},ratingCount:Object.assign(Object.assign({},g.oN),{verticalAlign:"top",marginStart:"8px"}),face:{position:"relative",width:l.dp.innerFrameWidth,marginBottom:"8px",":last-child":{marginBottom:0}},logo:{position:"relative",float:"end",marginStart:16}},te=(0,Q.G)({selectors:({frame:e})=>({regionCode:e=>{var t;return null===(t=(0,B.kL)(e))||void 0===t?void 0:t.code},isSearchBot:e=>e.session.isSearchBot,pointInFrame:e=>{var t;return null===(t=(0,P.Fq)(e.appContext.frames))||void 0===t?void 0:t.point},hasRealtyButton:e=>"realty"!==e.appContext.activeLayer,ratingFromReview:t=>{var r,n;return(null===(r=null==e?void 0:e.tabReviews)||void 0===r?void 0:r.entityReviewsSearchId)?null===(n=(0,K.AE)({state:t,searchId:(0,J.Gp)(e.tabReviews.entityReviewsSearchId)}).data)||void 0===n?void 0:n.rating:void 0}})})((0,s.C)((({entity:e,ratingFromReview:t,videoPreview:r},{theme:n})=>{const a=(0,m.dF)(e,n),i=(0,m.W4)(e),s=!!i||!!r,o=(0,m.vv)(a,s),c=(0,h.d)(e);return{rating:t||c,color:o,hasPattern:(0,m.DH)(e),hasImage:s,backgroundColor:a,backgroundImage:i}}))((0,a.D2)(ee)((0,i.$)()(Y))))},93649:(e,t,r)=>{"use strict";r.d(t,{y:()=>g});var n=r(2784),a=r(21196),i=r(491),s=r(67751),o=r(93501),c=r(86400),l=r(89337),d=r(93043),u=r(72891),p=r(97264);class m extends n.PureComponent{render(){const{submitText:e,onSubmit:t,onCancel:r,s:i,i18n:c,withoutUserAvatar:u,disabledButton:p=!1,disabledCancelButton:m=!1,withAuth:h=!1,cancelText:g,expirementalStyles:f}=this.props;return n.createElement("div",Object.assign({className:(0,a.iv)(i.root,f)},d.dx.n("wat-popup-footer")),!u&&n.createElement(l.a,{withAuth:h}),n.createElement("div",{className:(0,a.iv)(i.confirmBlock)},!!r&&n.createElement("div",Object.assign({className:(0,a.iv)(i.cancelButtonWrapper)},d.dx.n("wat-popup-footer-cancel")),n.createElement(s.Z,{onClick:m?void 0:r,styles:m?i._disabled:void 0},g||c.tp._t("Отменить"))),n.createElement(o.z,{appearance:"secondary",disabled:p,onClick:t,dataN:"wat-popup-footer-submit",dataS:p?"disabled":"active"},e)))}}m.displayName=(0,i.I)("src/shared/containers/popupFooter");const h={root:{display:"flex",background:p.O.gray_f2f2f2,padding:24,borderBottomLeftRadius:u.E0.isolate,borderBottomRightRadius:u.E0.isolate},confirmBlock:{marginStart:"auto",flexShrink:0},cancelButtonWrapper:{display:"inline-block",padding:"0 24px"},_disabled:{color:p.O.gray_929292,cursor:"unset",userSelect:"none",":hover":{color:p.O.gray_929292}}},g=(0,a.D2)(h)((0,c.$)()(m))},64284:(e,t,r)=>{"use strict";r.d(t,{k:()=>m});var n=r(2784),a=r(14670),i=r(58365),s=r(21196),o=r(97264),c=r(70433),l=r(35384);var d=r(93043);class u extends n.PureComponent{constructor(){super(...arguments),this.state={isMounted:"undefined"==typeof window||window.isServerRendered}}render(){const{s:e}=this.props,t=this.state.isMounted?this.getPercentage():0;return n.createElement("div",Object.assign({className:(0,i.iv)(e.wrapper)},d.dx.n("wat-progress-bar"),d.dx.v(t)),n.createElement("div",{className:(0,i.iv)(e.bar,100===t&&e._fulfilled),style:{width:`${t}%`}}))}componentDidMount(){this.state.isMounted||(this.timeoutId=window.setTimeout((()=>this.setState({isMounted:!0})),0))}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}getPercentage(){const{metas:e}=this.props;return 100*e.reduce(((e,t)=>t?"loading"===t.status?e+.67:e+1:e+.33),0)}}const p={wrapper:{position:"absolute",zIndex:1,top:0,left:0,right:0,height:"3px"},bar:{height:"100%",width:"0%",transition:"width .5s ease-out, opacity .5s ease-in .5s",background:o.O.yellow_ffb81c},_fulfilled:{opacity:0}},m=(0,a.$j)((()=>{const e=(0,c.P1)([({state:e,props:t})=>(0,l.m)({state:e,statusId:t.statusIds||""})],(e=>({metas:e?[e.meta]:[]})));return(t,r)=>e({state:t,props:r})}))((0,s.D2)(p)(u))},28614:(e,t,r)=>{"use strict";r.d(t,{H:()=>y});var n=r(2784),a=r(86400),i=r(491),s=r(36808),o=r(67908);var c=r(87048),l=r(26162),d=r(75873),u=r(11052),p=r(57570),m=r(59554),h=r(95084);var g=r(48432),f=r(73770);class v extends n.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>n.createElement("img",{src:this.props.icon_url}),this.onClick=e=>{const{item:t,onClick:r}=this.props;"pseudorubric"===t.type&&(0,f.t)(t.action.type)||e.preventDefault(),this.props.bssOnRubricClick(),r(t,e)}}render(){const{bssRef:e,title:t,type:r,seoTitle:a,href:i}=this.props;return n.createElement(g.M,{bssRef:e,title:t,href:i,dataT:r,seoTitle:a,onClick:this.onClick,icon:this.renderIcon})}}v.displayName=(0,i.I)("src/shared/containers/rubrics/components/rubricItem");const y=(0,c.z)(((e,t)=>{const{item:r,position:n,where:a}=e,i=(0,d.yH)(t),s=(0,u.O)(t);switch(r.type){case"metarubric":return{uiElement:{name:"metarubricIcon",ownerName:"iconList",position:n,frameUuid:e.ownerFrameId},payload:{icon:{entity:i?{id:r.id,type:"metarubric"}:void 0,where:a,tag:r.tag},placeItem:"Card"===a?(0,h.s)({state:t,entityFrameId:e.ownerFrameId}):void 0}};case"pseudorubric":return{uiElement:{name:"commercialIcon",ownerName:"iconList",position:n,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:r.id,type:"pseudorubric",segmentInfo:(0,p.U)({region_id:r.region_id||i,locale:s})},adsHighlight:!0,tag:r.tag||"",org:r.owner_id,where:a},callToAction:{actionType:r.action.type,value:r.action.value}}};case"rubric":return{uiElement:{name:"rubricIcon",ownerName:"iconList",position:n,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:r.id,type:"rubric"},tag:r.tag,org:void 0,adsHighlight:void 0,where:a},placeItem:"Card"===a?(0,h.s)({state:t,entityFrameId:e.ownerFrameId}):void 0}};default:return}}),((e,t)=>({bssOnRubricClick(){const{item:r,position:n,where:a}=t;switch(r.type){case"metarubric":return e((0,m.gF)({projectId:d.yH,placeItem:e=>(0,h.s)({state:e,entityFrameId:t.ownerFrameId})},(({projectId:e,placeItem:i})=>{const s={uiElement:{name:"metarubricIcon",ownerName:"iconList",position:n,frameUuid:t.ownerFrameId},payload:{searchRequest:{text:r.search_query},icon:{entity:e?{id:r.id,type:"metarubric"}:void 0,where:a,tag:r.tag,org:void 0,adsHighlight:void 0},placeItem:"Card"===a?i:void 0},action:"tap"};return(0,l.zs)(s)})));case"pseudorubric":return e((0,m.gF)({locale:u.O,projectId:d.yH,placeItem:e=>(0,h.s)({state:e,entityFrameId:t.ownerFrameId})},(({locale:e,projectId:i,placeItem:s})=>{const o={uiElement:{name:"commercialIcon",ownerName:"iconList",position:n,frameUuid:t.ownerFrameId},payload:{callToAction:{actionType:r.action.type,value:r.action.value},icon:{entity:{id:r.id,type:"pseudorubric",segmentInfo:(0,p.U)({region_id:r.region_id||i,locale:e})},adsHighlight:!0,tag:r.tag||"",org:r.owner_id,where:a},placeItem:"Card"===a?s:void 0},action:"tap"};return(0,l.zs)(o)})));case"rubric":return e((0,m.gF)({placeItem:e=>(0,h.s)({state:e,entityFrameId:t.ownerFrameId})},(({placeItem:e})=>{const i={uiElement:{name:"rubricIcon",ownerName:"iconList",position:n,frameUuid:t.ownerFrameId},payload:{searchRequest:{entities:[{id:r.id,type:r.type}]},icon:{entity:{id:r.id,type:"rubric"},tag:r.tag,org:void 0,adsHighlight:void 0,where:a},placeItem:"Card"===a?e:void 0},action:"tap"};return(0,l.zs)(i)})));default:return}}})),{forceSendShowIfPropsChanged:["dashboardId"]})((0,s.C)((({item:e})=>({title:e.name||e.caption,icon_url:e.icon_url?(0,o.J)(e.icon_url):void 0,type:e.type,seoTitle:e.seoTitle})))((0,a.$)()(v)))},21103:(e,t,r)=>{"use strict";r.d(t,{J:()=>d,R:()=>u});var n=r(81870),a=r(78438),i=r(60218),s=r(71846),o=r(59554),c=r(9452),l=r(29700);function d(e){return(0,o.zh)((t=>(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:e}),(0,a.gB)({query:e,viewpoint:t}))))}function u(e){switch(e.action.type){case"open_card":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:void 0}),(0,s.xo)({id:e.action.value,searchId:(0,i.by)(),hash:void 0,type:"branch"}));case"search_by_org":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:void 0}),(0,a.QR)({orgId:e.action.value}));case"search_buy_here":return(0,l.J)({adsIds:e.action.value});case"search_by_query":default:return(0,o.zh)((t=>(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:e.action.value}),(0,a.gB)({query:e.action.value,viewpoint:t}))))}}},70554:(e,t,r)=>{"use strict";r.d(t,{S:()=>x});var n=r(2784),a=r(48565),i=r(70433),s=r(58786),o=r(2615);function c(e){return(0,o.Gp)(e.appContext.weak.dashboard.transitions.rubricsId)}const l=(0,i.P1)([({state:e})=>c(e),({state:e})=>function(e){const t=c(e);return(0,s.l)({dashboardId:t,state:e})}(e)],((e,t)=>({dashboardId:e,dashboard:t}))),d=(0,a.X1)(((e,t)=>l({state:e,props:t})));var u=r(9452),p=r(21103),m=r(68411);const h=(0,a.Z3)((e=>({hideSuggester:()=>e((0,u.p_)({suggesterKey:"primary",show:!1})),onMetarubricClick:t=>e((0,p.J)(t)),onPseudorubricClick:t=>e((0,p.R)(t)),fillDashboardRubricatorState(){e((0,m.HT)())},resetRubricatorId(){e((0,m.HT)(!0))}})));var g=r(491),f=r(23045),v=r(36808),y=r(88502);var b=r(28614),w=r(93043),I=r(87048);var E=r(63259);class C extends n.PureComponent{constructor(){super(...arguments),this.handleRubricClick=e=>{const{hideSuggester:t,onMetarubricClick:r,onPseudorubricClick:n}=this.props;switch(t(),e.type){case"metarubric":r(e.search_query);break;case"pseudorubric":n(e)}}}componentDidMount(){this.props.fillDashboardRubricatorState()}componentWillUnmount(){this.props.resetRubricatorId()}render(){const{items:e,bssRef:t,dashboardId:r,where:a,status:i}=this.props;return"loading"===i?n.createElement(f.C,null):"error"===i?null:n.createElement("div",Object.assign({ref:t},w.dx.n("wat-rubrics")),e&&e.map(((e,t)=>n.createElement(E.P,{key:t,rubric:e,isDashboardMode:!0},(i=>n.createElement(b.H,{where:a,href:i,position:t+1,item:e,onClick:this.handleRubricClick,dashboardId:r}))))),this.props.moreButtons)}}C.displayName=(0,g.I)("src/shared/containers/rubrics");const x=(0,a.$j)(d,h)((0,v.C)((({dashboard:e,moreButtons:t})=>{const r=(0,y.$)(e);if(r)return{status:r};const n=(0,y.gk)({dashboard:e,moreButtons:t});return n?{items:n}:void 0}))((0,I.z)((e=>{const{items:t,ownerFrameId:r,ownerName:n}=e;if(t)return{uiElement:{name:"iconList",ownerName:n,frameUuid:r},payload:{iconList:{size:t.length}}}}),void 0,{forceSendShowIfPropsChanged:["dashboardId"]})(C)))},88502:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,gk:()=>c,K4:()=>l});var n=r(67908),a=r(95177),i=r(86108),s=r(18940);function o(e){return(0,a.V)(e)?"error":(0,i.hg)(e)||(0,s.X)(e)?"loading":void 0}function c(e){const{dashboard:t,moreButtons:r}=e,n=null==t?void 0:t.data,a=r?r.length:0,i=n&&function(e,t){const r=4,n=e.length,a=n+t,i=a%r;return a<=r||!i?e:e.slice(0,n-i)}(n,a);return i?i.map((e=>l(e))):void 0}function l(e){return Object.assign(Object.assign({},e),{icon_url:e.icon_url?(0,n.J)(e.icon_url):void 0,seoTitle:e.name||e.caption})}},78517:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var n=r(2784),a=r(40029),i=r(91208),s=r(29782),o=r(91871);const c=(0,a.B)()({__dirname:"src/shared/containers/seoLink/containers",selectors:({entity:e})=>({cityAlias:t=>{var r,n;return(0,o.i)(e)||(null===(n=null===(r=(0,s.D4)({state:t,id:e.region_id}))||void 0===r?void 0:r.data)||void 0===n?void 0:n.uri_code)}})})((({entity:e,tab:t,cityAlias:r,children:a})=>n.createElement(i.E,{type:e.type,id:e.id,tab:t,cityAlias:r},a)))},63259:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(2784),a=r(40029),i=r(91208),s=r(34587);const o=(0,a.B)()({__dirname:"src/shared/containers/seoLink/containers",formatter:({rubric:e,isDashboardMode:t})=>({urlParams:c(e,{isDashboardMode:t})})})((({urlParams:e,children:t})=>n.createElement(i.E,Object.assign({},e),t)));function c(e,t={}){switch(e.type){case"pseudorubric":switch(e.action.type){case"open_card":return{type:"branch",id:e.action.value};case"search_by_query":return{type:"catalogSearch",query:e.name||e.caption};case"search_by_org":return{type:"organizationBranches",id:e.action.value};default:return{type:"custom",url:(0,s.Y)(e.action)||""}}case"metarubric":return t.isDashboardMode?{type:"catalogSearch",query:e.search_query||e.name||e.caption}:{type:"subrubrics",id:e.id};case"rubric":return{type:"catalogSearch",rubricId:e.id,query:e.seo_name||e.name||e.caption}}}},91208:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(40029),a=r(12230),i=r(29782);const s=(0,n.B)()({__dirname:"src/shared/containers/seoLink",selectors:{selectedCityAlias:i.Rg,lang:e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0},formatter:e=>({href:(0,a.B)(Object.assign({cityAlias:"cityAlias"in e?e.cityAlias:e.selectedCityAlias},e))})})((({children:e,href:t})=>e(t)))},11053:(e,t,r)=>{"use strict";r.d(t,{w:()=>p});var n=r(2784),a=r(491),i=r(97121),s=r(40029),o=r(36808),c=r(91437),l=r(93043);class d extends n.PureComponent{render(){const{showH1Header:e,children:t,className:r,dataN:a=""}=this.props,i=e?"h1":"div";return n.createElement(i,Object.assign({className:r},a?l.dx.n(a):{}),t)}}d.displayName=(0,a.I)("src/shared/containers/seoTitle/containers/seoTitleInner");const u=(0,s.G)({selectors:{frames:e=>e.appContext.frames}})((0,o.C)((({frameId:e,frames:t})=>({showH1Header:(0,c.yP)(t,e)})))(d));class p extends n.PureComponent{render(){return n.createElement(i.j.Consumer,null,(({frameId:e})=>n.createElement(u,Object.assign({frameId:e},this.props))))}}p.displayName=(0,a.I)("src/shared/containers/seoTitle")},71984:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var n=r(2784),a=r(56135),i=r(40029),s=r(86400),o=r(3286);const c={onClick:r(37971).q};class l extends n.PureComponent{constructor(){super(...arguments),this.buttonRef=n.createRef(),this.handleClick=()=>{const{frameId:e,onClick:t}=this.props;t({frameId:e})}}render(){const{onlyIcon:e,i18n:t,color:r}=this.props;return n.createElement(a.W,{dataT:"wat-sharing-action",icon:n.createElement(o.m,{color:r}),onClick:this.handleClick,innerRef:this.buttonRef},e?void 0:t.tp._t("Отправить"))}}const d=(0,i.G)({selectors:{},handlers:c})((0,s.$)()(l))},2976:(e,t,r)=>{"use strict";r.d(t,{L:()=>h});var n=r(2784),a=r(40029),i=r(491),s=r(36808),o=r(93501),c=r(54105),l=r(89965),d=r(75873),u=r(90777);const p={onClick:c.r};class m extends n.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{onClick:e,type:t,entityId:r,frameId:n,searchId:a}=this.props;return e({subtype:t,entityId:r,frameId:n,searchId:a})}}render(){const{value:e,dataN:t}=this.props;return n.createElement(u.w,null,n.createElement("div",null,n.createElement(o.z,{wide:!0,dataN:t,onClick:this.onClick},e)))}}m.displayName=(0,i.I)("src/shared/containers/typedFeedbackEntry");const h=(0,a.G)({handlers:p,selectors:()=>{const e=(0,l.T3)();return({entityId:t})=>({entity:r=>t?e({state:r,entityId:t}).data:void 0,regionId:d.fq})}})((0,s.C)((({type:e,entity:t},{tp:r,config:n})=>{if(!t||"0"!==t.region_id||"RU"===n.defaultCountryCode)return{value:"addOrg"===e?r._t("Добавить организацию"):r._t("Нашли ошибку в данных?"),dataN:"addOrg"===e?"wat-add-org-button":"wat-upd-obj-button"}}))(m))},89337:(e,t,r)=>{"use strict";r.d(t,{a:()=>I});var n=r(2784),a=r(58365),i=r(21196),s=r(36808),o=r(32853),c=r(48565),l=r(57826),d=r(40333),u=r(59123),p=r(93043),m=r(9127),h=r(5851),g=r(86400),f=r(97264);class v extends n.PureComponent{constructor(){super(...arguments),this.renderInitials=()=>this.props.initials}render(){const{s:e,name:t,user:r,avatar:i,i18n:s,withAuth:o=!1}=this.props;return n.createElement(n.Fragment,null,o&&n.createElement("div",Object.assign({className:(0,a.iv)(e.row),onClick:this.props.onLogin},p.dx.n("wat-auth-popup-control")),n.createElement("div",{className:(0,a.iv)(e.avatar,e._auth)},n.createElement(m.u,null)),n.createElement("div",{className:(0,a.iv)(e.entry)},s.tp._t("Войти"))),!o&&r&&n.createElement("div",Object.assign({className:(0,a.iv)(e.row)},p.dx.n("wat-user-info")),n.createElement("div",{className:(0,a.iv)(e.avatar)},n.createElement(l.q,{initials:this.renderInitials,src:i})),n.createElement("div",{className:(0,a.iv)(e.name)},t)))}}const y="40px",b={row:{display:"flex",alignItems:"center"},avatar:{background:f.O.white,width:y,height:y,borderRadius:"50%",verticalAlign:"top",marginEnd:8,overflow:"hidden",flexShrink:0,boxShadow:o.q.logo},_auth:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},entry:{color:f.O.blue_0072ce,cursor:"pointer"},name:{maxHeight:32,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis"}},w=(0,c.Z3)((e=>({onLogin(){e((0,h.m)())}}))),I=(0,c.$j)((e=>{const t=(0,d.bG)(e);return{user:t&&t.data}}),w)((0,s.C)(((e,{tp:t})=>{const{withAuth:r,user:n}=e;if(!n)return{withAuth:r};const a=n.avatar_preview_tpl?n.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):n.avatar;return{withAuth:!1,name:n.display_name||n.name,avatar:a,initials:(0,u.C)(n,t)}}))((0,i.D2)(b)((0,g.$)()(v))))},91647:(e,t,r)=>{"use strict";r.d(t,{N:()=>p});var n=r(2784),a=r(48565);const i=(0,r(70433).P1)([({state:e})=>e.appContext.pitch,({state:e})=>e.appContext.rotation],((e,t)=>({pitch:e,rotation:t}))),s=(0,a.X1)(((e,t)=>i({state:e,props:t})));var o=r(88348);const c=(0,a.Z3)((e=>({subscribeOnMapMove(t,r){e((0,o.Oo)({id:t,type:"map:move",handler:r}))},removeListeners(t){e((0,o.xg)({id:t}))}})));var l=r(491),d=r(60218);class u extends n.Component{constructor(){super(...arguments),this.state={rotation:this.props.rotation,pitch:this.props.pitch,isInteracting:!1},this.listenersId=(0,d.by)()}componentDidMount(){this.props.subscribeOnMapMove(this.listenersId,(({rotation:e,pitch:t})=>{e===this.state.rotation&&t===this.state.pitch||this.setState({rotation:e,pitch:t})}))}componentWillUnmount(){this.props.removeListeners(this.listenersId)}render(){return this.props.children({rotation:this.state.rotation,pitch:this.state.pitch,isInteracting:this.state.isInteracting})}}u.displayName=(0,l.I)("src/shared/containers/whereami");const p=(0,a.$j)(s,c)(u)},15961:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});const n=r(2784).createContext({showEventOrdinal:void 0})},28150:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});const n=r(2784).createContext(void 0)},83564:(e,t,r)=>{"use strict";r.d(t,{DH:()=>u,dF:()=>l,W4:()=>d,_P:()=>p,vv:()=>m});var n=r(33295),a=r(97264),i=r(47273),s=r(77219),o=r(2889);function c(e){const t=e&&e.options&&e.options.color;if(t)return t;const r=e&&e.options&&e.options.logo&&e.options.logo.bg_color;return r||void 0}function l(e,t){return(0,o.t)(e)?a.O.gray_b2b2b2:"route"===e.type?function(e){if(e.color)return e.color;return(0,n.s)(e.subtype)}(e):(0,s.t)(e)?function(e,t){return e.color||e.routes&&e.routes[0].color||t.colors.green_299400_brand}(e,t):"branch"===e.type&&c(e.ads)||t.colors.green_299400_brand}function d(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options&&e.ads.options.images;return t&&t.length?t[0].url:void 0}function u(e){return!("branch"!==e.type||!c(e.ads))}function p(e){return"#262626"===(0,i.x)(e)?"dark":"light"}function m(e,t){return t?a.O.white:(0,i.x)(e)}},87973:(e,t,r)=>{"use strict";r.d(t,{xe:()=>o,zP:()=>c,_Y:()=>m,w:()=>u,U8:()=>p,BZ:()=>l,uN:()=>d});var n=r(27780),a=r(11253);var i=r(97264),s=r(83564);function o(e){var t;if("railway"===e.subtype){const r=null===(t=e.routes)||void 0===t?void 0:t.find((e=>"mcc"===e.subtype||"mcd"===e.subtype));return null==r?void 0:r.name}return"metro"===e.subtype&&e.routes&&e.routes.length?e.routes[0].name:void 0}function c(e){if(!e)return;if((0,n.Z)(e))return"14";if((0,a.I)(e))return(e=>e.split("_").pop())(e);const t=e.match(/\d.*$/),r=t&&t[0];return r||void 0}function l(e){return{background:i.O.white,color:e,borderColor:e}}function d(e){return{color:(0,s.vv)(e,!1),background:e,borderColor:e}}function u(e){return"links"in e&&e.links&&e.links.entrances?e.links.entrances:void 0}function p(e){return"links"in e&&e.links&&e.links.parking?e.links.parking:void 0}function m(e){return"links"in e&&e.links?e.links.landmarks:void 0}},48565:(e,t,r)=>{"use strict";r.d(t,{X1:()=>a,Z3:()=>i,$j:()=>n.$});var n=r(52297);function a(e){return e}function i(e){return e}},42439:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var n=r(2784);const a=function(e){var t;return(t=class extends n.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.handleMouseEnter=e=>{this.setState({isHovered:!0}),"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e)},this.handleMouseLeave=e=>{this.setState({isHovered:!1}),"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e)}}render(){const t={onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave};return n.createElement(e,Object.assign({},this.props,{hoverableHandlers:t,isHovered:this.props.isHovered||this.state.isHovered}))}}).displayName=`Hoverable(${e.displayName||e.name||"Unnamed"})`,t}},40029:(e,t,r)=>{"use strict";r.d(t,{B:()=>g,G:()=>f});var n=r(64195),a=r(14670),i=r(60985),s=r(1005),o=r(7612),c=r(21196),l=r(57511),d=r(2784),u=r(69190),p=r(29018),m=(r(60218),r(81870),r(87048)),h=r(491);function g(){return e=>{const{__dirname:t,selectors:r,handlers:s,formatter:o,bss:g,styles:f}=e,y=r?(0,a.$j)("function"==typeof r?v(r):(0,i.zB)(r)):void 0,b=g?(0,m.z)(g.showEventFormatter):void 0,w=o?(0,l.C8)(o):void 0,I=e=>t=>{const r=Object.assign({},t);if(s){const e=d.useContext(p.x);Object.assign(r,(0,n.DE)(s,e.dispatch))}return(e=>{const t=d.useContext(u.f);Object.assign(e,{i18n:t})})(r),d.createElement(e,r)},E=void 0;return e=>{let r=I(d.memo(e));return f&&(r=(0,c.D2)(f)(r)),w&&(r=w(r)),b&&(r=b(r)),y&&(r=y(r)),E&&(r.Storybookness=E(e)),r.displayName=`reconnect2(${(0,h.I)(t)})`,r}}}function f(e){const{selectors:t,handlers:r={}}=e,n="function"==typeof t?v(t):(0,i.zB)(t);return(0,a.$j)(n,r)}function v(e){const t=(0,o.i)(e);return(e,r)=>{const n=t(r);if("function"==typeof n){const e=(0,o.i)(n);return(t,r)=>y(e(r),t)}return y(n,e)}}function y(e,t){return(0,s.uc)(e).reduce(((r,n)=>(r[n]=e[n](t),r)),{})}},72699:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=r(2784),a=r(82462);const i=function(){return function(e){var t;return(t=class extends n.Component{render(){return n.createElement(a.E.Consumer,null,(t=>n.createElement(e,Object.assign({},this.props,{config:t}))))}}).displayName=`WithConfig(${e.displayName||e.name||"Unnamed"})`,t}}},36808:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(5163),a=r(2784);var i=r(57511);function s(e,t){return function(r){class s extends a.PureComponent{render(){return a.createElement(i.Il,null,(i=>{const s=e(this.props,i);if(!s)return null;if("asyncStatus"in(o=s)&&("loading"===o.asyncStatus||"error"===o.asyncStatus))return t?t(s.asyncStatus):null;var o;if(this.props.render){const e=this.props,{render:t}=e,i=(0,n._T)(e,["render"]);return t(a.createElement(r,Object.assign({},i,s)))}return a.createElement(r,Object.assign({},this.props,s))}))}}return s.displayName=`WithFormatter(${r.displayName||r.name||"Unnamed"})`,s}}},86400:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var n=r(2784);const a=function(){return function(e){var t;return(t=class extends n.Component{constructor(){super(...arguments),this.i18n=this.context.i18n}render(){return n.createElement(e,Object.assign({},this.props,{i18n:this.i18n}))}}).displayName=`WithI18n(${e.displayName||e.name||"Unnamed"})`,t.contextTypes={i18n:()=>null},t}}},97472:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(2784),a=r(60218),i=r(14670),s=r(88348);function o(e){const t=(0,i.I0)(),{type:r,handler:o,stopIfHandled:c,priority:l}=e;(0,n.useEffect)((()=>{const e=(0,a.by)();return t((0,s.Oo)({id:e,type:r,handler:o,stopIfHandled:c,priority:l})),()=>{t((0,s.xg)({id:e}))}}),[r,o,c,l,t])}},18522:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var n=r(71758),a=r(2784);function i(e,t){(0,a.useEffect)((()=>{const t=(0,n.Oe)().then((t=>{if(t)return e(t.map,t.api)}));return()=>{t.then((e=>{e&&e()}))}}),t)}},73893:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(2784),a=r(97121);r(56563);function i(e){const{frameId:t}=(0,n.useContext)(a.j)}},76023:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(2784),a=r(69190);function i(){const{tp:e}=(0,n.useContext)(a.f);return e}},24859:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},n.createElement("path",{d:"M102.49 91.27a3 3 0 0 1 2.28.54l6.63 4.92 1.6-.8V22a7 7 0 0 0-7-7H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h69.46a6.91 6.91 0 0 0 6.15 2.17l14.54-2.17-.3-2-14.53 2.18a5 5 0 0 1-5.61-3.8l-2.49-10.57 7-1.17.07.07.09-.09 3.78-.63-.32-2-2.94.49-2.83-2.83zM22 17h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm65.84 80L87 98.23l2.73 11.62a6.46 6.46 0 0 0 .38 1.15H22a5 5 0 0 1-5-5V33h94v60.94l-5-3.73a5 5 0 0 0-3.8-.92l-9.83 1.64-3.64-3.64a17.09 17.09 0 1 0-1.41 1.41l7.2 7.21zM76 91a15 15 0 1 1 15-15 15 15 0 0 1-15 15z"}),n.createElement("circle",{cx:"24",cy:"24",r:"2"}),n.createElement("circle",{cx:"32",cy:"24",r:"2"}),n.createElement("circle",{cx:"40",cy:"24",r:"2"}),n.createElement("ellipse",{cx:"52",cy:"76",rx:"3",ry:"4"}),n.createElement("ellipse",{cx:"76",cy:"76",rx:"3",ry:"4"}),n.createElement("path",{d:"M47.754 67.97l.485-1.94 8.004 2.002-.485 1.94zM64 96a8 8 0 0 0-8 8h16a8 8 0 0 0-8-8z"}))}},86606:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},n.createElement("path",{d:"M106 15H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h84a7 7 0 0 0 7-7V22a7 7 0 0 0-7-7zm-84 2h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm84 94H22a5 5 0 0 1-5-5V33h94v73a5 5 0 0 1-5 5z"}),n.createElement("circle",{cx:"24",cy:"24",r:"2"}),n.createElement("circle",{cx:"32",cy:"24",r:"2"}),n.createElement("circle",{cx:"40",cy:"24",r:"2"}),n.createElement("path",{d:"M48.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM72.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM71 95H48v2h23v3a5 5 0 0 0 10 0v-5H71zm8 5a3 3 0 0 1-6 0v-3h6z"}))}},59317:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},n.createElement("path",{d:"M8 7.293L5.354 4.646l-.708.708L7.293 8l-2.647 2.646.708.708L8 8.707l2.646 2.647.708-.708L8.707 8l2.647-2.646-.708-.708L8 7.293zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"}))}},59930:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"}))}},79432:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(2784);function a({color:e="currentColor",width:t=24,height:r=24}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M12 10.586l3.793-3.793 1.414 1.414L13.414 12l3.793 3.793-1.414 1.414L12 13.414l-3.793 3.793-1.414-1.414L10.586 12 6.793 8.207l1.414-1.414L12 10.586z"}))}},92416:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M14 14l-1.08 1.45a13.61 13.61 0 0 1-4.37-4.37L10 10a18.47 18.47 0 0 0-.95-5.85L9 4H5.06a1 1 0 0 0-1 1.09 16 16 0 0 0 14.85 14.85 1 1 0 0 0 1.09-1V15h-.15A18.47 18.47 0 0 0 14 14z"}))}},85191:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M19 9V5.07A23 23 0 0 0 12 4a23 23 0 0 0-7 1.07V9H4v3l1 1v7h1a1 1 0 0 0 1-1h10a1 1 0 0 0 1 1h1v-7l1-1V9zm-9-3h4v1h-4zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-5a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8h10z"}))}},38170:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M10.414 15H24v2H10.414l6.293 6.293-1.414 1.414L6.586 16l8.707-8.707 1.414 1.414L10.414 15z"}))}},21133:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M19.29 24.71L10.59 16l8.7-8.71 1.42 1.42-7.3 7.29 7.3 7.29-1.42 1.42z"}))}},87980:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3zm-9-6.74l7 3.5V9a1 1 0 0 0-1-1H10a1 1 0 0 0-1 1v14.38z"}))}},65394:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M7.293 8.71l1.414-1.414L24.71 23.297l-1.414 1.415z"}),n.createElement("path",{d:"M7.293 23.29L23.295 7.288l1.414 1.415L8.707 24.704z"}))}},95770:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M7 10h18v2H7zM10 15h12v2H10zM13 20h6v2h-6z"}))}},44284:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M9.06 13L16 16.856 22.94 13 16 9.144 9.06 13zM16 19.144L4.94 13 16 6.856 27.06 13 16 19.144zm0 3.712l9-5L27.06 19 16 25.144 4.94 19 7 17.856l9 5z"}))}},71341:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M19.19 12.14l.44-2.21a3 3 0 0 0-2-3.44l-2.15-.71-.38.77a22.31 22.31 0 0 1-4.75 6.18L10 13v11.94l10.17.61h.31a5 5 0 0 0 4.88-3.93l1.85-8.49zm4.21 9.06a3 3 0 0 1-3.11 2.36l-8.29-.5V14a24.08 24.08 0 0 0 4.48-5.75l.53.18a1 1 0 0 1 .66 1.15l-.86 4.32 8 1zM6 13h2v12H6z"}))}},56180:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9C8.44772 9 8 9.44772 8 10C8 10.5523 8.44772 11 9 11C9.55228 11 10 10.5523 10 10C10 9.44772 9.55228 9 9 9ZM13 9C12.4477 9 12 9.44772 12 10C12 10.5523 12.4477 11 13 11H23C23.5523 11 24 10.5523 24 10C24 9.44772 23.5523 9 23 9H13ZM13 15C12.4477 15 12 15.4477 12 16C12 16.5523 12.4477 17 13 17H23C23.5523 17 24 16.5523 24 16C24 15.4477 23.5523 15 23 15H13ZM12 22C12 21.4477 12.4477 21 13 21H23C23.5523 21 24 21.4477 24 22C24 22.5523 23.5523 23 23 23H13C12.4477 23 12 22.5523 12 22ZM8 16C8 15.4477 8.44772 15 9 15C9.55228 15 10 15.4477 10 16C10 16.5523 9.55228 17 9 17C8.44772 17 8 16.5523 8 16ZM9 21C8.44772 21 8 21.4477 8 22C8 22.5523 8.44772 23 9 23C9.55228 23 10 22.5523 10 22C10 21.4477 9.55228 21 9 21Z",fill:e}))}},9127:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M26.78 13.78a11.43 11.43 0 0 0-.64-2.06 10.55 10.55 0 0 0-1-1.87 11.61 11.61 0 0 0-1.34-1.63 11 11 0 0 0-1.63-1.34 10.56 10.56 0 0 0-1.87-1 10.81 10.81 0 0 0-2.07-.65 11.34 11.34 0 0 0-4.42 0 10.81 10.81 0 0 0-2.07.65 10.56 10.56 0 0 0-1.87 1 11 11 0 0 0-1.65 1.34 11.61 11.61 0 0 0-1.34 1.63L8.54 11A9.16 9.16 0 0 1 11 8.54a8.08 8.08 0 0 1 1.53-.83 9.1 9.1 0 0 1 1.68-.53 9.29 9.29 0 0 1 3.64 0 9.1 9.1 0 0 1 1.68.53 8.08 8.08 0 0 1 1.47.83A9.16 9.16 0 0 1 23.46 11a8.08 8.08 0 0 1 .83 1.53 9.1 9.1 0 0 1 .53 1.68A9.28 9.28 0 0 1 25 16a9.11 9.11 0 0 1-.18 1.81 9 9 0 0 1-.53 1.69 8.08 8.08 0 0 1-.83 1.5A9.16 9.16 0 0 1 21 23.46a8.08 8.08 0 0 1-1.53.83 9.1 9.1 0 0 1-1.68.53 9.29 9.29 0 0 1-3.64 0 9.1 9.1 0 0 1-1.68-.53 8.08 8.08 0 0 1-1.47-.83A9.16 9.16 0 0 1 8.54 21l-1.66 1.15a11.61 11.61 0 0 0 1.34 1.63 11 11 0 0 0 1.63 1.34 10.56 10.56 0 0 0 1.87 1 10.81 10.81 0 0 0 2.07.65 11.21 11.21 0 0 0 4.42 0 10.81 10.81 0 0 0 2.07-.65 10.56 10.56 0 0 0 1.87-1 11 11 0 0 0 1.63-1.34 11.61 11.61 0 0 0 1.34-1.63 10.55 10.55 0 0 0 1-1.87 11.43 11.43 0 0 0 .64-2.06 11.31 11.31 0 0 0 0-4.44z"}),n.createElement("path",{d:"M14.29 19.29l1.42 1.42 4.7-4.71-4.7-4.71-1.42 1.42 2.3 2.29H5v2h11.59l-2.3 2.29z"}))}},77:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 6.81958V8.00004V23V23.8472L25.1644 23.9864L19.1644 24.9864L19 25.0138L18.8356 24.9864L13 24.0138L7.1644 24.9864L6 25.1805V24V9.00004V8.15291L6.8356 8.01365L12.8356 7.01365L13 6.98625L13.1644 7.01365L19 7.98625L24.8356 7.01365L26 6.81958ZM8 9.84717V22.8196L12 22.1529V12H14V22.1529L18 22.8196V13H20V22.8196L24 22.1529V9.1805L19.1644 9.98643L19 10.0138L18.8356 9.98643L13 9.01383L8 9.84717Z",fill:e}))}},70459:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e,fillRule:"evenodd"},n.createElement("path",{d:"M12.24 8.15l11.44 6.43a1.51 1.51 0 0 1 .57 2 1.64 1.64 0 0 1-.57.57l-11.44 6.48a1.51 1.51 0 0 1-2.05-.57 1.56 1.56 0 0 1-.19-.73V9.45a1.49 1.49 0 0 1 2.24-1.3z"}))}},97824:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M6 13v6a3 3 0 0 0 3 3h1v3h12v-3h1a3 3 0 0 0 3-3v-6zm14 10h-8v-4h8zm4-4a1 1 0 0 1-1 1h-1v-3H10v3H9a1 1 0 0 1-1-1v-4h16zM12 8h8v3h2V6H10v5h2V8z"}))}},3286:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(2784);function a({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},n.createElement("path",{d:"M22 19a4 4 0 0 0-2.92 1.29L12.87 17a3.54 3.54 0 0 0 0-1.9l6.21-3.34A4 4 0 0 0 22 13a4 4 0 1 0-4-4 3.75 3.75 0 0 0 .13.95l-6.21 3.34A4 4 0 0 0 9 12a4 4 0 0 0 0 8 4 4 0 0 0 2.92-1.29l6.21 3.34A3.75 3.75 0 0 0 18 23a4 4 0 1 0 4-4zm0-12a2 2 0 1 1-2 2 2 2 0 0 1 2-2zM9 18a2 2 0 1 1 2-2 2 2 0 0 1-2 2zm13 7a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"}))}},35931:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(2784);function a(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},n.createElement("circle",{fill:"gray",cx:"16",cy:"16",r:"2"}),n.createElement("circle",{fill:"gray",cx:"8",cy:"16",r:"2"}),n.createElement("circle",{fill:"gray",cx:"24",cy:"16",r:"2"}))}},97985:(e,t,r)=>{"use strict";r.d(t,{J:()=>g});var n=r(2784),a=r(491),i=r(85191);function s({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M18.59 10L18 6a23 23 0 0 0-2.29-.59L15 4H9l-.71 1.41A23 23 0 0 0 6 6l-.58 4H4v2l1 1v7h2a1 1 0 0 0 1-1h8a1 1 0 0 0 1 1h2v-7l1-1v-2zM7.79 7.57A18.87 18.87 0 0 1 12 7a18.79 18.79 0 0 1 4.21.57l.65 4.43h-9.7zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"}))}function o({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M5 22h2l1-2H6l-1 2zM16 20l1 2h2l-1-2h-2zM14 4.09V4a2 2 0 0 0-4 0v.09a21.93 21.93 0 0 0-5 1V18l7 2 7-2V5.07a21.93 21.93 0 0 0-5-.98zM12 3a1 1 0 1 1-1 1 1 1 0 0 1 1-1zm0 14a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm5-5a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8h10z"}))}function c({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M15.88 2.83l.25-1.47a24.12 24.12 0 0 0-8.26 0l.25 1.48a23 23 0 0 1 7.76 0zM5 22h2l1-2H6l-1 2zM16 20l1 2h2l-1-2h-2zM12 4a23 23 0 0 0-7 1.07V18l7 2 7-2V5.07A23 23 0 0 0 12 4zm-2 2h4v1h-4zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-5a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8h10z"}))}function l({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M19,9V2.32l-.63-.25A18.63,18.63,0,0,0,12,1,18.63,18.63,0,0,0,5.63,2.07L5,2.32V18.18l14-2.33ZM7,3.72a17.74,17.74,0,0,1,10,0V7H7ZM17,14.15,7,15.82V9H17Z"}),n.createElement("rect",{x:"1.81",y:"19",width:"21.38",height:"2",transform:"translate(-3.52 2.69) rotate(-10.78)"}))}function d({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M13,7V3.73L22.19,2l-.37-2L.81,4l.38,2L11,4.11V7a18.27,18.27,0,0,0-5.37,1L5,8.32V24H19V8.32l-.63-.25A18.27,18.27,0,0,0,13,7Zm4,15H7V15H17ZM7,13V9.72a17.74,17.74,0,0,1,10,0V13Z"}))}function u({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M19 9V5.07a21.5 21.5 0 0 0-4-.87V1h-1l-.76 3H11V1h-1l-.79 3.17a21.17 21.17 0 0 0-4.21.9V9H4v3l1 1v7h1a1 1 0 0 0 1-1h10a1 1 0 0 0 1 1h1v-7l1-1V9zm-9-3h4v1h-4zM8 17a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm8 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm1-5a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8h10z"}))}function p({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M19.27,1A30,30,0,0,0,12,0,30,30,0,0,0,4.73,1L4,1.25V16a3.64,3.64,0,0,0,4,4v3h8V20a3.64,3.64,0,0,0,4-4V1.25ZM14,21H10V18a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1v3Zm4-5c0,1.44-.56,2-2,2a3,3,0,0,0-3-3H11a3,3,0,0,0-3,3c-1.44,0-2-.56-2-2V13H18Zm-4.59-5L10,7.59V4H8V8.41L10.59,11H6V2.78A27.57,27.57,0,0,1,12,2a27.64,27.64,0,0,1,6,.78V11Z"}))}function m({color:e="currentColor"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},n.createElement("path",{d:"M5.49,17.21,6.31,17a6.32,6.32,0,0,1,5.13.88l.55.37.55-.37a6.32,6.32,0,0,1,5.13-.88l.82.27,3.86-7.71L19,8V1.32l-.63-.25A18.63,18.63,0,0,0,12,0,18.63,18.63,0,0,0,5.63,1.07L5,1.32V8L1.64,9.51Zm12-2.36a8.44,8.44,0,0,0-5.45,1,8.34,8.34,0,0,0-4.12-1.08,8.55,8.55,0,0,0-1.33.1L4.36,10.49,12,7.09l7.64,3.39ZM7,2.72a17.74,17.74,0,0,1,10,0V7.13L12,4.91,7,7.13Z"}),n.createElement("path",{d:"M12,20.65a6.94,6.94,0,0,0-8.6-.45l1.2,1.6a5.06,5.06,0,0,1,6.7.9l.71.71.71-.71a5.06,5.06,0,0,1,6.69-.91l1.2-1.6A6.94,6.94,0,0,0,12,20.65Z"}))}var h=r(33295);class g extends n.PureComponent{render(){const{type:e,color:t}=this.props,r=t||(0,h.s)(e);switch(e){case"shuttle_bus":return n.createElement(s,{color:r});case"aeroexpress":case"suburban_train":return n.createElement(o,{color:r});case"tram":case"light_rail":case"premetro":return n.createElement(c,{color:r});case"trolleybus":return n.createElement(u,{color:r});case"cable_car":return n.createElement(d,{color:r});case"funicular_railway":return n.createElement(l,{color:r});case"monorail":return n.createElement(p,{color:r});case"river_transport":return n.createElement(m,{color:r});case"bus":return n.createElement(i.G,{color:r});default:return!1}}}g.displayName=(0,a.I)("src/shared/icons/mappings/transport")},46002:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(2784);function a({color:e="light"}){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"1200",height:"480",viewBox:"0 0 1200 480"},n.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"dark"===e?"#000":"#fff",opacity:"dark"===e?".1":".15",transform:"translate(-98.05597 -57.984375)"},n.createElement("circle",{cx:"106.165345",cy:"254.5",r:"105.5"}),n.createElement("circle",{cx:"189.93097",cy:"486.441406",r:"105.5"}),n.createElement("circle",{cx:"286.165345",cy:"125.5",r:"78.6171875"}),n.createElement("circle",{cx:"369.93097",cy:"357.441406",r:"78.6171875"}),n.createElement("circle",{cx:"402.876283",cy:"251",r:"133.210937"}),n.createElement("circle",{cx:"486.641908",cy:"482.941406",r:"133.210937"}),n.createElement("circle",{cx:"136.872376",cy:"151.675781",r:"52.4414063"}),n.createElement("circle",{cx:"220.638001",cy:"383.617188",r:"52.4414063"}),n.createElement("circle",{cx:"417.223939",cy:"89.53125",r:"52.4414063"}),n.createElement("circle",{cx:"588.528626",cy:"482.941406",r:"52.4414063"}),n.createElement("circle",{cx:"106.165345",cy:"75",r:"52.4414063"}),n.createElement("circle",{cx:"189.93097",cy:"306.941406",r:"52.4414063"}),n.createElement("circle",{cx:"106.165345",cy:"214.982422",r:"36.0175781"}),n.createElement("circle",{cx:"189.93097",cy:"446.923828",r:"36.0175781"}),n.createElement("circle",{cx:"400.775697",cy:"125.524414",r:"35.9931641"}),n.createElement("circle",{cx:"497.55991",cy:"344.447232",r:"49.0117522"}),n.createElement("circle",{cx:"685.5",cy:"254.5",r:"105.5"}),n.createElement("circle",{cx:"769.265625",cy:"486.441406",r:"105.5"}),n.createElement("circle",{cx:"865.5",cy:"125.5",r:"78.6171875"}),n.createElement("circle",{cx:"949.265625",cy:"357.441406",r:"78.6171875"}),n.createElement("circle",{cx:"982.210938",cy:"251",r:"133.210937"}),n.createElement("circle",{cx:"1065.97656",cy:"482.941406",r:"133.210937"}),n.createElement("circle",{cx:"716.207031",cy:"151.675781",r:"52.4414063"}),n.createElement("circle",{cx:"799.972656",cy:"383.617188",r:"52.4414063"}),n.createElement("circle",{cx:"996.558594",cy:"89.53125",r:"52.4414063"}),n.createElement("circle",{cx:"1167.86328",cy:"482.941406",r:"52.4414063"}),n.createElement("circle",{cx:"685.5",cy:"75",r:"52.4414063"}),n.createElement("circle",{cx:"769.265625",cy:"306.941406",r:"52.4414063"}),n.createElement("circle",{cx:"669.076172",cy:"204.117188",r:"36.0175781"}),n.createElement("circle",{cx:"769.265625",cy:"446.923828",r:"36.0175781"}),n.createElement("circle",{cx:"980.110352",cy:"125.524414",r:"35.9931641"}),n.createElement("circle",{cx:"1063.87598",cy:"357.46582",r:"35.9931641"}),n.createElement("circle",{cx:"1245.24074",cy:"229",r:"105.5"}),n.createElement("circle",{cx:"1365.02394",cy:"464.441406",r:"105.5"}),n.createElement("circle",{cx:"1311.96535",cy:"129.675781",r:"52.4414063"}),n.createElement("circle",{cx:"1281.25832",cy:"53",r:"52.4414063"}),n.createElement("circle",{cx:"1281.25832",cy:"192.982422",r:"36.0175781"})))}},30187:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(2784),a=r(5408),i=r(20761);const s=({direction:e,size:t,color:r})=>{const{rtl:s}=(0,i.Z)();return n.createElement(a.E,{direction:o(e,s),size:t,color:r})};function o(e,t){switch(e){case"start":return t?"right":"left";case"end":return t?"left":"right";default:return e}}},93501:(e,t,r)=>{"use strict";r.d(t,{z:()=>E});var n=r(2784),a=r(58365),i=r(21196),s=r(67675),o=r(59297),c=r(97264),l=r(93043);class d extends n.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,disabled:r,onClick:n}=this.props;(t||n)&&e.stopPropagation(),r||(t||e.preventDefault(),n&&n())}}render(){const{className:e,style:t,href:r,external:a,disabled:i,children:s,dataN:o="wat-kit-button",dataT:c,dataS:d,type:u}=this.props,p=l.dx.n(o),m=c?l.dx.t(c):void 0,h=d?l.dx.s(d):void 0,g=Object.assign(Object.assign(Object.assign(Object.assign({className:e,style:t,onClick:this.handleClick,target:a&&r?"_blank":void 0,rel:a&&r&&!r.startsWith("tel:")?"noopener":void 0,disabled:i},p),m),h),{type:"submit"===u?"submit":"button"});return r?n.createElement("a",Object.assign({href:r},g),s):n.createElement("button",Object.assign({},g),s)}}var u=r(47273),p=r(96147),m=r(51990),h=r(25151),g=r(69908);function f(e){if(e.match(/rgb/g))return{background:e,color:c.O.gray_262626};const t=(0,p.o)(e),r=[(0,h.v)(t,.2),(0,h.v)(t,-.2)],n=(0,g.v)((0,m.N)(t,r));return{background:n,color:(0,u.x)(n)}}var v=r(72891),y=r(32853),b=r(48473);class w extends n.PureComponent{render(){const{href:e,children:t,onClick:r,external:i,disabled:s,s:o,dataN:c,dataT:l,dataS:u,type:p,appearance:m,experimentalStyles:h}=this.props;return n.createElement(d,{href:e,className:(0,a.iv)(o.button,"ghost"!==m&&"noncontrast"!==m&&o.buttonBackground,this.getAppearanceStyle(),...this.getAdditionalStyles(),h),style:this.getColorStyle(),onClick:r,external:i,disabled:s,dataN:c,dataT:l,dataS:u,type:p},t)}getAppearanceStyle(){const{appearance:e,backgroundColor:t,s:r}=this.props;switch(e){case"primary":return t?r._overlaying:r._primary;case"secondary":return t?r._overlaying:r._secondary;case"ghost":return r._ghost;case"noncontrast":return r._noncontrast;default:return r._default}}getColorStyle(){const{appearance:e,backgroundColor:t}=this.props;return t?"primary"!==e&&"secondary"!==e?{background:t,color:f(t).color}:f(t):{}}getAdditionalStyles(){const{wide:e,fat:t,compact:r,medium:n,noBorder:a,sharp:i,leftRounded:s,rightRounded:o,disabled:c,s:l}=this.props,d=[];return e&&d.push(l._wide),a&&d.push(l._noBorder),t?d.push(l._fat):r?d.push(l._compact):n&&d.push(l._medium),i?d.push(l._sharp):s?d.push(l._leftRounded):o&&d.push(l._rightRounded),c&&d.push(l._disabled),d}}const I={background:"transparent",border:"none",margin:0,padding:0,WebkitAppearance:"none",color:"inherit",textDecoration:"none"},E=(0,i.D2)((e=>({button:Object.assign(Object.assign(Object.assign({},I),s.oN),{position:"relative",zIndex:v.W5.base,boxSizing:"border-box",display:"inline-block",borderRadius:v.E0.default,overflow:"hidden",padding:"12px 24px",cursor:"pointer",textAlign:"center"}),buttonBackground:{":after":{content:'""',zIndex:v.W5.bottom,position:"absolute",top:0,bottom:0,start:0,end:0,background:"inherit"},":hover:after":{filter:"brightness(0.9)"}},_wide:{display:"block",width:"100%"},_fat:{padding:"20px 40px"},_compact:{padding:"4px 8px"},_medium:{padding:"8px 24px"},_sharp:{borderRadius:0},_leftRounded:{borderRadius:v.E0.defaultOnlyEnd},_rightRounded:{borderRadius:v.E0.defaultOnlyStart},_default:{background:c.O.white,color:c.O.blue_0072ce,boxShadow:y.q.innerBorderBase,":after":{borderRadius:v.E0.default,boxShadow:y.q.innerBorderBase},":hover":{color:c.O.gray_262626},":active":{color:c.O.gray_929292}},_ghost:{background:"transparent",color:c.O.blue_0072ce,":hover":{color:c.O.gray_262626},":active":{color:c.O.gray_929292}},_noncontrast:{background:c.O.gray_f2f2f2,color:c.O.gray_262626,boxShadow:y.q.innerBorderBase,":hover":{color:c.O.gray_262626,background:c.O.blue_c5ebff,boxShadow:b.q.innerBorderNonContrastHovered},":active":{color:c.O.gray_929292}},_noBorder:{boxShadow:"none !important",":after":{boxShadow:"none !important"}},_primary:{color:(0,u.x)(e.colors.green_299400_brand),background:e.colors.green_299400_brand,":active":{color:(0,o.j)((0,u.x)(e.colors.green_299400_brand),.7)}},_secondary:{color:c.O.white,background:c.O.blue_028eff,":active":{color:(0,o.j)(c.O.white,.7)}},_overlaying:{":hover":{filter:"brightness(0.9)"},":active":{filter:"brightness(0.85)"}},_disabled:{opacity:.5,pointerEvents:"none"}})))(w)},56135:(e,t,r)=>{"use strict";r.d(t,{W:()=>u});var n=r(2784),a=r(21196),i=r(491),s=r(67675),o=r(54421),c=r(93043);class l extends n.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),this.props.onClick()}}render(){const{children:e,icon:t,innerRef:r,s:i,isLabelSolid:s,fontStyle:o,dataT:l="",href:d,isShifted:u=!1}=this.props,p=d?"a":"button";return n.createElement(p,Object.assign({},c.dx.n("wat-button-action"),c.dx.t(l),{className:(0,a.iv)(i.button,"uppercase"===o&&i._uppercase),onClick:this.handleClick,"data-ps":!0,href:d,ref:r}),n.createElement("span",{className:(0,a.iv)(i.icon)},t),e&&n.createElement("span",{className:(0,a.iv)(i.label,s&&i._withSolidLabel,u&&i._shifted)},e))}}l.displayName=(0,i.I)("src/shared/kit/buttonAction");const d={button:Object.assign(Object.assign({},s.yG),{color:"inherit",border:"none",background:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",userSelect:"none",":focus":{outline:"none"}}),_uppercase:Object.assign({},s.Mp),icon:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:`opacity ${o.l.short}ms ease`,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:1}},label:{marginStart:4,transition:`opacity ${o.l.short}ms ease`,opacity:.7,"[data-ps]:active &":{opacity:1}},_withSolidLabel:{opacity:1,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:.7}},_shifted:{marginStart:8}},u=(0,a.D2)(d)(l)},44134:(e,t,r)=>{"use strict";r.d(t,{Y:()=>u});var n=r(2784),a=r(58365),i=r(21196),s=r(59317),o=r(97264),c=r(93043);class l extends n.PureComponent{constructor(){super(...arguments),this.isClearHandled=!1,this.onClear=e=>{e.preventDefault(),this.props.stopPropagation&&e.stopPropagation(),this.isClearHandled?this.isClearHandled=!1:(this.isClearHandled=!0,this.props.onClear())}}render(){const{ariaLabel:e,isWhite:t,tabIndex:r,s:i}=this.props;return n.createElement("button",Object.assign({type:"button",className:(0,a.iv)(i.root,t&&i._isWhite),tabIndex:r},c.dx.n("wat-clear-btn"),{"aria-label":e,onMouseDown:this.onClear,onTouchStart:this.onClear,onClick:this.onClear}),n.createElement(s.U,null))}}const d={root:{width:"16px",height:"17px",color:o.O.gray_929292,"&:hover":{color:o.O.gray_262626}},_isWhite:{opacity:.7,color:o.O.white,"&:hover":{opacity:1,color:o.O.white}}},u=(0,i.D2)(d)(l)},56056:(e,t,r)=>{"use strict";r.d(t,{o:()=>p});var n=r(2784),a=r(21196),i=r(491),s=r(93043),o=r(72891),c=r(44025),l=r(97264);class d extends n.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.onClick()}}render(){const{title:e,dataT:t,isActive:r,children:i,disabled:o,s:l,innerRef:d,ariaLabel:u}=this.props;return n.createElement("button",Object.assign({title:e,className:(0,a.iv)(l.control,r&&l._active),onClick:this.handleClick,disabled:o},s.dx.n("wat-kit-control"),s.dx.t(t),d&&{ref:d},(0,c.P)({label:u})),i)}}d.displayName=(0,i.I)("src/shared/kit/control");const u={control:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,color:l.O.gray_262626,borderRadius:o.E0.default,":hover":{opacity:.7},":active":{color:l.O.blue_028eff},":disabled":{background:l.O.gray_f2f2f2,color:l.O.gray_929292,cursor:"default",":hover":{opacity:1}}},_active:{color:l.O.blue_028eff}},p=(0,a.D2)(u)(d)},801:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(2784),a=r(21196),i=r(491),s=r(97264),o=r(32853),c=r(72891);class l extends n.PureComponent{render(){const{isGhost:e,isVertical:t,innerRef:r,s:i}=this.props;return n.createElement("div",{className:(0,a.iv)(i.controls,e&&i._ghost,t&&i._vertical),ref:r},this.props.children)}}l.displayName=(0,i.I)("src/shared/kit/controls");const d={controls:{display:"inline-flex",boxShadow:o.q.popup,background:s.O.white,borderRadius:c.E0.default,"& > *":{boxShadow:o.q.innerBorderEndBase,borderRadius:c.E0.defaultOnlyEnd,"&:last-child":{boxShadow:"none"}}},_ghost:{boxShadow:"none",background:"none"},_vertical:{flexDirection:"column","& > *":{boxShadow:o.q.innerBorderBottomBase,borderRadius:c.E0.defaultOnlyTop,"&:last-child":{boxShadow:"none"}}}},u=(0,a.D2)(d)(l)},82754:(e,t,r)=>{"use strict";r.d(t,{u:()=>o});var n=r(2784),a=r(491),i=r(21196);class s extends n.PureComponent{render(){const{children:e,s:t}=this.props;return e?n.createElement("div",{className:(0,i.iv)(t.flexRowContent)},e):null}}s.displayName=(0,a.I)("src/shared/kit/flexRow");const o=(0,i.D2)({flexRowContent:{paddingTop:12,paddingBottom:12,flex:"1 1 auto",minWidth:0,maxWidth:"100%"}})(s)},25198:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(2784),a=r(491),i=r(21196);class s extends n.PureComponent{render(){const{children:e,size:t=24,s:r}=this.props;return e?n.createElement("div",{className:(0,i.iv)(r.flexRowIcon,48===t&&r._big)},e):null}}s.displayName=(0,a.I)("src/shared/kit/flexRow");const o=(0,i.D2)({flexRowIcon:{marginTop:8,marginBottom:8,marginStart:-4,marginEnd:12,flex:"0 0 auto",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},_big:{marginTop:0,marginBottom:0,marginStart:-8,marginEnd:8,width:48,height:48}})(s)},19094:(e,t,r)=>{"use strict";r.d(t,{g:()=>u});var n=r(2784),a=r(491),i=r(21196),s=r(97264),o=r(72891),c=r(93043);class l extends n.PureComponent{render(){const{children:e,shiftedDivider:t,shiftedContent:r,justifyContent:a,alignItems:s,noDivider:o,dataN:l,s:d,wrap:u}=this.props;return e?n.createElement("div",Object.assign({className:(0,i.iv)(d.flexRow,r&&d._shiftedContent,u&&d.wrap),style:{justifyContent:a,alignItems:s}},c.dx.n(l||"wat-flex-row"),{"data-divider":!o,"data-divider-shifted":!o&&t||void 0}),e):null}}l.displayName=(0,a.I)("src/shared/kit/flexRow");const d={flexRow:{display:"flex",alignItems:"flex-start",position:"relative",'[data-divider] + &:not([data-divider="false"])::before':{position:"absolute",content:'""',display:"block",borderBottom:`1px solid ${s.O.gray_e6e6e6}`,top:0,right:0,left:0},"[data-divider-shifted] + &[data-divider-shifted]::before":{left:o.dp.rackShift}},_shiftedContent:{paddingStart:o.dp.rackShift},_alignItemsCenter:{alignItems:"center"},wrap:{flexWrap:"wrap"}},u=(0,i.D2)(d)(l)},96091:(e,t,r)=>{"use strict";r.d(t,{B:()=>o});var n=r(2784),a=r(58365),i=r(21196);class s extends n.PureComponent{constructor(){super(...arguments),this.wrapperRef=n.createRef(),this.wasFocused=!1,this.isFocused=!1,this.handleFocusOut=()=>{this.isFocused=!1,this.runTimeout()},this.handleFocusIn=()=>{this.isFocused=!0,this.runTimeout()},this.triggerProperHandler=()=>{this.isFocused!==this.wasFocused&&(this.isFocused?this.props.onFocus&&this.props.onFocus():this.props.onBlur&&this.props.onBlur(),this.wasFocused=this.isFocused)}}componentDidMount(){this.isFocused=!!this.props.initialFocus,this.wasFocused=!!this.props.initialFocus;const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.addEventListener("focusout",this.handleFocusOut),e.addEventListener("focusin",this.handleFocusIn))}componentWillUnmount(){window.clearTimeout(this.triggerTimeoutId);const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.removeEventListener("focusout",this.handleFocusOut),e.removeEventListener("focusin",this.handleFocusIn))}render(){return n.createElement("div",{tabIndex:-1,ref:this.wrapperRef,className:(0,a.iv)(this.props.s.focus),onClick:this.props.onClick},this.props.children)}runTimeout(){window.clearTimeout(this.triggerTimeoutId),this.triggerTimeoutId=window.setTimeout(this.triggerProperHandler,0)}}const o=(0,i.D2)({focus:{width:"100%",height:"100%",outline:"none"}})(s)},38655:(e,t,r)=>{"use strict";r.d(t,{T:()=>c});var n=r(2784),a=r(72891),i=r(68171),s=r(29920),o=r(97264);const c=(0,n.memo)((e=>{const{css:t,s:r}=(0,s.y)(l),{children:a,header:o,fixedContentFooter:c,contentScrollId:d,frameBackground:u}=e;return n.createElement("div",{className:t(r.frameLayoutRoot)},n.createElement("div",{className:t(r.header)},o),n.createElement("div",{className:t(r.body)},n.createElement("div",{className:t(r.content),style:{background:u}},n.createElement("div",{className:t(r.contentScroller)},n.createElement("div",{className:t(r.contentScrollerInner)},n.createElement(i.X,{id:d,persistent:!!d},a))),c&&n.createElement("div",{className:t(r.contentFooter)},c))))})),l=(0,s.k)({frameLayoutRoot:{position:"relative",zIndex:a.W5.base,background:o.O.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:a.W5.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:a.W5.base},content:{display:"flex",flexDirection:"column",flex:"1 1 auto"},contentFooter:{position:"relative",zIndex:a.W5.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});c.displayName="FrameLayout"},92151:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});var n=r(2784);function a(e){const{onMouseEnter:t,onMouseLeave:r,children:a}=e,[i,s]=(0,n.useState)(!!e.isHovered);return n.createElement(n.Fragment,null,a({isHovered:i,hoverHandlers:{onMouseEnter:()=>{s(!0),t&&t()},onMouseLeave:()=>{s(!1),r&&r()}}}))}},88121:(e,t,r)=>{"use strict";r.d(t,{E:()=>a,t:()=>i});var n=r(15252);const a=(0,r(186).p)((e=>{const t=e.message&&e.message.toString();(0,n.H)({message:t,level:"error",id:"6cvgx",payload:{type:"network",subtype:"ChunkLoadFailed"}})})),i=new Error("ChunkLoadError")},14925:(e,t,r)=>{"use strict";r.d(t,{F:()=>d});var n=r(2784),a=r(491),i=r(21196),s=r(72891),o=r(93043);class c extends n.PureComponent{render(){const{children:e,s:t}=this.props;return e?n.createElement("div",Object.assign({className:(0,i.iv)(t.rack),"data-rack":!0},o.dx.n("wat-infrastructure-rubrics")),e):null}}c.displayName=(0,a.I)("src/shared/kit/rack");const l={rack:{"[data-rack] + &":{marginTop:s.dp.rackMargin}}},d=(0,i.D2)(l)(c)},38085:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var n=r(2784),a=r(491),i=r(21196);class s extends n.PureComponent{render(){const{children:e,s:t}=this.props;return n.createElement("div",{className:(0,i.iv)(t.rackWrapper)},e)}}s.displayName=(0,a.I)("src/shared/kit/rack");const o=(0,i.D2)({rackWrapper:{paddingTop:8,paddingBottom:0,paddingStart:24,paddingEnd:24}})(s)},68171:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var n=r(2784),a=r(24606),i=r(29920),s=r(72891),o=r(66321);const c={},l=({id:e,persistent:t,children:r})=>{const{css:s,s:l}=(0,i.y)(d),u=(0,n.useRef)(null),[p,m]=(0,n.useState)("100%");(0,a.L)((()=>{setTimeout((()=>{var e;m((null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect().width)||"100%")}),0)}),[u]),(0,a.L)((()=>{u.current&&e&&(u.current.scrollTop=t&&c[e]||0)}),[e,t]);const h=(0,o.y)((()=>{var r;if(!e||!t)return;const n=null===(r=u.current)||void 0===r?void 0:r.scrollTop;n&&(c[e]=n)}),100);(0,a.L)((()=>{var r;if(e&&t)return null===(r=u.current)||void 0===r||r.addEventListener("scroll",h,{passive:!0}),()=>{var e;null===(e=u.current)||void 0===e||e.removeEventListener("scroll",h)}}),[u,e,t]);const[g,f]=(0,n.useState)(!1);return n.createElement("div",{className:s(l.scroller,g&&l._forceOverflowAuto),ref:u,onTouchStartCapture:()=>{f(!0)},tabIndex:-1,"data-scroll":!0},n.createElement("div",{className:s(l.inner),style:{width:p}},r))};l.displayName="Scroll";const d=(0,i.k)({scroller:{height:"100%",overflowX:"hidden",display:"flex",flexDirection:"column","@media (hover: hover)":Object.assign(Object.assign({},s.AR),{overflowY:"hidden","&:hover, &:focus":{overflowY:"auto"}})},_forceOverflowAuto:{overflowY:"auto !important"},inner:{flex:"1 0 100%"}})},18852:(e,t,r)=>{"use strict";r.d(t,{u:()=>h});var n=r(2784),a=r(89451),i=r(72891),s=r(68171),o=r(29920),c=r(97264),l=r(93043);const d=(0,n.memo)((e=>{const{css:t,s:r}=(0,o.y)(u),{children:a,header:i,sidebar:c,fixedContentHeader:d,fixedContentFooter:p,contentScrollId:m,sidebarBg:h,frameBackground:g}=e;return n.createElement("div",{className:t(r.frameLayoutRoot)},n.createElement("div",Object.assign({className:t(r.header)},l.dx.n("wat-frame-header")),i),n.createElement("div",{className:t(r.body)},c&&n.createElement("div",{className:t(r.sidebar),style:{background:h}},n.createElement("div",{className:t(r.sidebarInner)},n.createElement(s.X,null,c))),n.createElement("div",{className:t(r.content),style:{background:g}},d&&n.createElement("div",{className:t(r.contentHeader)},d),n.createElement("div",{className:t(r.contentScroller)},n.createElement("div",{className:t(r.contentScrollerInner)},n.createElement(s.X,{id:m,persistent:!!m},a))),p&&n.createElement("div",{className:t(r.contentFooter)},p))))})),u=(0,o.k)({frameLayoutRoot:{position:"relative",zIndex:i.W5.base,background:c.O.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",zIndex:i.W5.top},body:{display:"flex",flex:"1 1 auto",zIndex:i.W5.base},sidebar:{flex:`0 1 ${i.dp.sidebarFrameWidth}px`,position:"relative",overflow:"hidden",display:"block"},sidebarInner:{width:`${i.dp.sidebarFrameWidth}px`,position:"absolute",top:0,end:0,bottom:0,borderEnd:`1px solid ${c.O.gray_e6e6e6}`},content:{flex:`1 0 ${i.dp.standardFrameWidth}px`,maxWidth:i.dp.standardFrameWidth,display:"flex",flexDirection:"column"},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto"},contentFooter:{},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});d.displayName="SearchFrameLayoutDesktop";const p=(0,n.memo)((e=>{const{css:t,s:r}=(0,o.y)(m),{children:a,header:i,sidebar:c,fixedContentHeader:l,fixedContentFooter:d,contentScrollId:u,frameBackground:p,sidebarBg:h,areFiltersOpened:g}=e;return n.createElement("div",{className:t(r.frameLayoutRoot)},n.createElement("div",{className:t(r.header)},i),n.createElement("div",{className:t(r.body)},n.createElement("div",{className:t(r.content),style:{background:p}},l&&n.createElement("div",{className:t(r.contentHeader)},l),n.createElement("div",{className:t(r.contentScroller)},n.createElement("div",{className:t(r.contentScrollerInner)},n.createElement(s.X,{id:u,persistent:!!u},a))),d&&n.createElement("div",{className:t(r.contentFooter)},d))),g&&c&&n.createElement("div",{className:t(r.sidebar),style:{background:h}},n.createElement("div",{className:t(r.sidebarInner)},n.createElement(s.X,null,c))))})),m=(0,o.k)({frameLayoutRoot:{position:"relative",zIndex:i.W5.base,background:c.O.white,display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:i.W5.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:i.W5.base},sidebar:{position:"absolute",width:"100%",height:"100%",top:0,left:0,overflow:"hidden",background:c.O.white,zIndex:i.W5.top},sidebarInner:{width:"100%",position:"absolute",top:0,end:0,bottom:0},content:{width:"100%",display:"flex",flexDirection:"column",flexGrow:1},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto",position:"relative",zIndex:i.W5.top},contentFooter:{position:"relative",zIndex:i.W5.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100,zIndex:i.W5.base},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});p.displayName="SearchFrameLayoutMobile";const h=function(e){const t=e.desktop,r=e.mobile;return e=>n.createElement(n.Fragment,null,n.createElement(a.N,null,n.createElement(t,Object.assign({},e))),n.createElement(a.i,null,n.createElement(r,Object.assign({},e))))}({desktop:d,mobile:p})},72157:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(2784),a=r(21196),i=r(491),s=r(97264);class o extends n.PureComponent{render(){const{width:e,height:t,s:r}=this.props,i=t||(e||20),s=e||(t||20);return n.createElement("div",{className:(0,a.iv)(r.circle),style:{width:`${i}px`,height:`${s}px`}})}}o.displayName=(0,i.I)("src/shared/kit/skeletons");const c={circle:{background:s.O.gray_f2f2f2,borderRadius:"50%",margin:"0 auto"}},l=(0,a.D2)(c)(o)},79482:(e,t,r)=>{"use strict";r.d(t,{P:()=>d});var n=r(2784),a=r(93043),i=r(21196),s=r(491),o=r(73115),c=r(17605);class l extends n.PureComponent{render(){const{s:e}=this.props;return n.createElement("div",Object.assign({className:(0,i.iv)(e.skeletonEntity)},(0,a.n)("wat-entity-card-skeleton")),n.createElement(o.b,{count:1,height:200,dark:!0}),n.createElement(o.b,{count:1,height:48}),n.createElement("div",{className:(0,i.iv)(e.content)},n.createElement(c.h,null)))}}l.displayName=(0,s.I)("src/shared/kit/skeletons/skeletonEntity");const d=(0,i.D2)({skeletonEntity:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},content:{flex:1}})(l)},17605:(e,t,r)=>{"use strict";r.d(t,{h:()=>d});var n=r(2784),a=r(73115),i=r(34142),s=r(36044),o=r(38085),c=r(95234),l=r(29920);const d=n.memo((e=>{const{s:t,css:r}=(0,l.y)(u),{hasPinnedGoods:d=!1}=e;return n.createElement("div",{className:r(t.root)},d&&n.createElement("div",{className:r(t.goodsWrapper)},n.createElement(c.Q,null)),n.createElement(a.b,{count:4,height:88}),n.createElement("div",{className:r(t.skeletonEntityTab)},n.createElement(o.h,null,n.createElement(i.O,{count:4,icon:!0})),n.createElement("div",{className:r(t.squaresWrapper)},n.createElement(a.b,{count:1,height:40}),n.createElement(a.b,{count:1,height:40})),n.createElement("div",{className:r(t.textLinesWrapper)},n.createElement(s.D,{linesCount:2}))))}));d.displayName="SkeletonEntityTab";const u=(0,l.k)({root:{display:"flex",flexDirection:"column",height:"100%"},skeletonEntityTab:{display:"flex",flexDirection:"column",justifyContent:"space-between"},squaresWrapper:{padding:"0 24px"},goodsWrapper:{padding:"12px 24px"},textLinesWrapper:{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}})},32585:(e,t,r)=>{"use strict";r.d(t,{C:()=>c});var n=r(2784),a=r(491),i=r(97264),s=r(72157);const o=24;class c extends n.PureComponent{render(){const{size:e=o,isBoundVisible:t}=this.props;return n.createElement("div",{style:{boxSizing:"border-box",display:"flex",alignItems:"center",width:e,height:e,border:t?`1px dotted ${i.O.gray_e6e6e6}`:"none"}},n.createElement(s.C,{width:this.getCompositionSize()}))}getCompositionSize(){switch(this.props.size){case 48:return 32;default:return 16}}}c.displayName=(0,a.I)("src/shared/kit/skeletons")},4875:(e,t,r)=>{"use strict";r.d(t,{X:()=>d,Q:()=>p});var n=r(2784),a=r(21196),i=r(491),s=r(72157),o=r(73115),c=r(28789),l=r(88334);const d=165;class u extends n.PureComponent{constructor(){super(...arguments),this.nothing=()=>{},this.renderTextLine=(e,t)=>n.createElement(l.b,{fontSize:8,lineHeight:e,short:t})}render(){const{s:e,squareLogo:t,logoSize:r=56}=this.props;return n.createElement(c.S,{onMouseEnter:this.nothing,onMouseLeave:this.nothing,dataN:"wat-skeleton-minicard"},n.createElement("div",{className:(0,a.iv)(e.avatar)},t?n.createElement(o.b,{width:r,height:r,count:1}):n.createElement(s.C,{width:r})),n.createElement("div",{className:(0,a.iv)(e.row,e.firstRow),style:{marginInlineEnd:r}},this.renderTextLine(20),this.renderTextLine(20)),n.createElement("div",{className:(0,a.iv)(e.row,e.longRow),style:{marginInlineEnd:r}},this.renderTextLine(16),this.renderTextLine(16)),n.createElement("div",{className:(0,a.iv)(e.row,e.longRow),style:{marginInlineEnd:r}},this.renderTextLine(16),this.renderTextLine(16,!0)))}}u.displayName=(0,i.I)("src/shared/kit/skeletons");const p=(0,a.D2)({row:{paddingBottom:"6px"},firstRow:{width:"176px"},longRow:{maxWidth:"240px"},avatar:{float:"end"}})(u)},95234:(e,t,r)=>{"use strict";r.d(t,{Q:()=>c});var n=r(2784),a=r(88334),i=r(29920),s=r(73115),o=r(22027);const c=n.memo((()=>{const{s:e,css:t}=(0,i.y)(l);return n.createElement("div",{className:t(e.root)},(0,o.D)(3,(r=>n.createElement("div",{className:t(e.item),key:r},n.createElement(s.b,{width:80,height:80,count:1}),n.createElement("div",{className:t(e.textWrapper)},n.createElement(a.b,{fontSize:10,lineHeight:14}),n.createElement(a.b,{fontSize:10,lineHeight:14,short:!0})),n.createElement(s.b,{width:120,height:24,count:1})))))}));c.displayName="SkeletonPinnedOffers";const l=(0,i.k)({root:{display:"flex",height:150},item:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",padding:"0 4px"},textWrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}})},34142:(e,t,r)=>{"use strict";r.d(t,{O:()=>u});var n=r(2784),a=r(491),i=r(19094),s=r(25198),o=r(82754),c=r(32585),l=r(36044),d=r(14925);class u extends n.PureComponent{render(){const{count:e,icon:t}=this.props;return n.createElement(d.F,null,Array(e-1).fill("").map(((e,r)=>n.createElement(i.g,{shiftedDivider:!!t,key:r},!!t&&n.createElement(s.C,null,n.createElement(c.C,{size:24})),n.createElement(o.u,null,n.createElement(l.D,{linesCount:3}))))),n.createElement(i.g,{shiftedDivider:!!t,shiftedContent:!0,key:e},n.createElement(o.u,null,n.createElement(l.D,{linesCount:2}))))}}u.displayName=(0,a.I)("src/shared/kit/skeletons")},23045:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(2784),a=r(21196),i=r(491),s=r(72157),o=r(88334);class c extends n.PureComponent{render(){const{s:e}=this.props;return n.createElement("div",{className:(0,a.iv)(e.content)},n.createElement("div",{className:(0,a.iv)(e.item)},n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(s.C,{width:64})),n.createElement("div",{className:(0,a.iv)(e.text)},n.createElement(o.b,{marginAuto:!0,fontSize:11,lineHeight:12}))),n.createElement("div",{className:(0,a.iv)(e.item)},n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(s.C,{width:64})),n.createElement("div",{className:(0,a.iv)(e.text)},n.createElement(o.b,{marginAuto:!0,fontSize:11,lineHeight:12}))),n.createElement("div",{className:(0,a.iv)(e.item)},n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(s.C,{width:64})),n.createElement("div",{className:(0,a.iv)(e.text)},n.createElement(o.b,{marginAuto:!0,fontSize:11,lineHeight:12}))),n.createElement("div",{className:(0,a.iv)(e.item)},n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(s.C,{width:64})),n.createElement("div",{className:(0,a.iv)(e.text)},n.createElement(o.b,{marginAuto:!0,fontSize:11,lineHeight:12}))),n.createElement("div",{className:(0,a.iv)(e.item)},n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(s.C,{width:64})),n.createElement("div",{className:(0,a.iv)(e.text)},n.createElement(o.b,{marginAuto:!0,fontSize:11,lineHeight:12}))),n.createElement("div",{className:(0,a.iv)(e.item)},n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(s.C,{width:64})),n.createElement("div",{className:(0,a.iv)(e.text)},n.createElement(o.b,{marginAuto:!0,fontSize:11,lineHeight:12}))),n.createElement("div",{className:(0,a.iv)(e.item)},n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(s.C,{width:64})),n.createElement("div",{className:(0,a.iv)(e.text)},n.createElement(o.b,{marginAuto:!0,fontSize:11,lineHeight:12}))),n.createElement("div",{className:(0,a.iv)(e.item)},n.createElement("div",{className:(0,a.iv)(e.icon)},n.createElement(s.C,{width:64})),n.createElement("div",{className:(0,a.iv)(e.text)},n.createElement(o.b,{marginAuto:!0,fontSize:11,lineHeight:12}))))}}c.displayName=(0,i.I)("src/shared/kit/skeletons");const l=(0,a.D2)({content:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},item:{marginBottom:4,flex:"1 1 25%"},icon:{marginTop:0,marginBottom:5,marginStart:"auto",marginEnd:"auto"},text:{height:"24px"}})(c)},36044:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var n=r(2784),a=r(491),i=r(88334);class s extends n.PureComponent{render(){const{linesCount:e}=this.props;return n.createElement("div",null,Array(e-1).fill("").map(((e,t)=>n.createElement(i.b,{key:t}))),n.createElement(i.b,{short:e>1}))}}s.displayName=(0,a.I)("src/shared/kit/skeletons")},3246:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(2784),a=r(31272),i=r(4875);const s=n.memo((e=>n.createElement("div",null,Array.from({length:e.count||(0,a.n)(i.X)},((t,r)=>n.createElement(i.Q,{key:r,squareLogo:e.squareLogo,logoSize:e.logoSize}))))));s.displayName="SkeletonsCatalog"},73115:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var n=r(2784),a=r(21196),i=r(97264),s=r(59297);class o extends n.PureComponent{constructor(){super(...arguments),this.singleSquare=()=>{const{icon:e,s:t,count:r=1,dark:i,color:s}=this.props;return n.createElement("div",{className:(0,a.iv)(t.skeletonItem,i&&t._dark),style:{flexBasis:100/r+"%",background:s}},e)}}render(){const{s:e,count:t=0,width:r="100%",height:i="100%"}=this.props;return n.createElement("div",{className:(0,a.iv)(e.skeleton),style:{height:i,width:r}},t>0&&Array(t).fill(this.singleSquare()).map(((e,t)=>n.createElement(n.Fragment,{key:t},e))))}}const c={skeleton:{display:"flex",height:"100%",width:"100%",flexDirection:"row",borderTop:"1px solid #fff",boxSizing:"border-box"},_dark:{background:(0,s.j)(i.O.black,.6)},skeletonItem:{display:"flex",justifyContent:"center",alignItems:"center",marginEnd:"1px",background:i.O.gray_f2f2f2,":last-child":{marginEnd:"0"}}},l=(0,a.D2)(c)(o)},88334:(e,t,r)=>{"use strict";r.d(t,{b:()=>c});var n=r(2784),a=r(21196),i=r(491),s=r(73115);class o extends n.PureComponent{render(){const{s:e,fontSize:t=8,lineHeight:r=16,full:i=!1,short:o=!1,marginAuto:c=!1}=this.props,l=Math.floor((r-t)/2);return n.createElement("div",{style:{padding:`${l}px 0`,margin:c?"auto":0},className:(0,a.iv)(e.line,i&&e.full,o&&e.short)},n.createElement(s.b,{height:t,count:1}))}}o.displayName=(0,i.I)("src/shared/kit/skeletons");const c=(0,a.D2)({line:{width:"90%"},full:{width:"100%"},short:{width:"66%"}})(o)},78667:(e,t,r)=>{"use strict";r.d(t,{O:()=>h});var n=r(2784),a=r(58365),i=r(21196),s=r(97264),o=r(93043),c=r(67751),l=r(72891),d=r(67675),u=r(47273);class p extends n.PureComponent{constructor(){super(...arguments),this.handleTabClick=()=>this.props.onSelect&&this.props.onSelect(this.props.tab)}render(){const{tab:e,s:t,renderIcon:r,tabRef:i,href:s,dataN:l="wat-tab"}=this.props;return n.createElement("div",Object.assign({key:e.label,className:(0,a.iv)(t.tab,e.isSelected&&t.active),onClick:this.handleTabClick,ref:i},o.dx.n(l),o.dx.s(e.isSelected?"active":"inactive"),o.dx.v(e.label),o.dx.t(e.label)),n.createElement(c.Z,{color:e.isSelected?"inherit":"dark",href:s},e.label,!!e.count&&n.createElement("span",Object.assign({className:(0,a.iv)(t.count,e.isSelected&&t.isActive)},o.dx.n("wat-count")),e.count),r&&n.createElement("span",{className:(0,a.iv)(t.iconWrapper,e.isSelected&&t.isActive)},r(e)),!!e.badgeCount&&n.createElement("div",Object.assign({className:(0,a.iv)(t.badgeCount)},o.dx.n("wat-tab-price-count")),e.badgeCount<99?e.badgeCount:99)))}}const m=(0,i.D2)((e=>({tab:{cursor:"pointer",color:s.O.gray_262626,fontSize:"13px",lineHeight:"16px",paddingTop:16,paddingBottom:13,paddingStart:0,paddingEnd:0,margin:"0 8px",whiteSpace:"nowrap",userSelect:"none",position:"relative",":first-child":{marginStart:0},":last-child":{marginEnd:0}},count:{color:(0,u.x)(e.colors.green_30ad00_brand),marginStart:"4px",boxShadow:`inset 0 0 1px 1px ${e.colors.green_30ad00_brand}`,borderRadius:l.E0.default,padding:"0 4px",background:e.colors.green_30ad00_brand,display:"inline-block",lineHeight:"20px",height:18,marginTop:-4},active:{cursor:"default",color:s.O.gray_929292},iconWrapper:{background:e.colors.green_30ad00_brand,color:(0,u.x)(e.colors.green_30ad00_brand),boxShadow:`inset 0 0 1px 1px ${e.colors.green_30ad00_brand}`,borderRadius:l.E0.default,height:18,marginStart:4,verticalAlign:"middle",display:"inline-block",marginTop:-4},isActive:{background:"transparent",boxShadow:`inset 0 0 1px 1px ${s.O.gray_929292}`,color:s.O.gray_929292},badgeCount:Object.assign(Object.assign({},d.Yq),{lineHeight:d.Yq.fontSize,position:"absolute",top:8,end:-2,padding:4,minWidth:16,height:16,transform:"translateX(50%)",boxSizing:"border-box",borderRadius:l.E0.oval,display:"flex",justifyContent:"center",alignItems:"center",color:s.O.white,background:s.O.red_fe5000})})))(p),h=e=>n.createElement(m,Object.assign({},e))},47772:(e,t,r)=>{"use strict";r.d(t,{m:()=>p});var n=r(2784),a=r(58365),i=r(21196),s=r(54421),o=r(78667),c=r(93043),l=r(60218);class d extends n.PureComponent{constructor(){super(...arguments),this.tabsPositions=[],this.renderTab=e=>{const{renderTab:t,onSelect:r}=this.props;return t?t(e):n.createElement(o.O,{key:e.label,tab:e,onSelect:e.isSelected?l.ZT:r})},this.refContainer=e=>{this.container=e},this.refUnderline=e=>{this.underline=e},this.setTab=()=>{this.container&&(this.tabs=this.container.childNodes)},this.setTabPositions=()=>{if(!this.container)return;const e=this.container.getBoundingClientRect();this.tabsPositions=Array.prototype.map.call(this.tabs,(t=>{const r=t.getBoundingClientRect();return{left:r.left-e.left+"px",width:`${r.width}px`}}))},this.setUnderlineStyle=()=>{if(!this.underline)return;const e=this.props.tabs.findIndex((e=>!!e.isSelected));if(e<0)return;const t=this.tabsPositions[e];this.underline.style.width=t.width,this.underline.style.left=t.left}}componentDidMount(){this.setTab(),setTimeout((()=>{this.setTabPositions(),this.setUnderlineStyle()}),0)}componentDidUpdate(){this.setTab(),this.setTabPositions(),this.setUnderlineStyle()}render(){const{s:e,tabs:t,opacifyUnderline:r}=this.props;return n.createElement("div",{className:(0,a.iv)(e.root)},n.createElement("div",Object.assign({className:(0,a.iv)(e.tabsContainer),ref:this.refContainer},c.dx.n("wat-tabs")),t.map(this.renderTab)),n.createElement("div",Object.assign({className:(0,a.iv)(e.underline,r&&e._opacify),ref:this.refUnderline},c.dx.n("wat-underline"))))}}const u=(0,i.D2)((e=>({root:{position:"relative",height:"100%"},tabsContainer:{display:"flex"},underline:{position:"absolute",bottom:0,height:3,background:e.colors.green_299400_brand,transition:`left ${s.l.short}ms ease-out, width ${s.l.short}ms ease-out`,transform:"translateZ(0)"},_opacify:{background:"currentColor",opacity:.5}})))(d),p=e=>n.createElement(u,Object.assign({},e))},7862:(e,t,r)=>{"use strict";r.d(t,{n:()=>m});var n=r(2784),a=r(21196),i=r(491),s=r(67675),o=r(97264),c=r(93043),l=r(79432),d=r(69662);class u extends n.PureComponent{constructor(){super(...arguments),this.state={value:this.props.initialValue||"",isFocused:this.props.autoFocus||!1},this.renderInput=()=>n.createElement(n.Fragment,null,this.renderInputOrTextArea(),this.renderClearButton()),this.renderOutside=()=>{const{hasClearButton:e,renderOutside:t}=this.props,{value:r}=this.state;if(e&&r)return t&&t()},this.renderClearButton=()=>{const{hasClearButton:e,s:t}=this.props,{value:r}=this.state;if(e&&r)return n.createElement("div",Object.assign({className:(0,a.iv)(t.buttons)},c.dx.n("wat-input-clear-button")),n.createElement("div",{className:(0,a.iv)(t.clearButtonWrapper),onClick:this.handleClear},n.createElement(l.x,null)))},this.handleChange=e=>{const t=e.target.value;this.setState({value:t}),this.props.onChange(t)},this.handleFocus=()=>{this.props.onFocus&&this.props.onFocus(),this.setState({isFocused:!0})},this.handleBlur=()=>{this.props.onBlur&&this.props.onBlur(),this.setState({isFocused:!1})},this.handleClear=()=>{this.setState({value:""}),this.props.onClear&&this.props.onClear()}}render(){const{error:e}=this.props,{isFocused:t}=this.state;return n.createElement(d.f,{label:this.getLabelText(),hasLabel:!!this.props.label,input:this.renderInput(),renderOutside:this.renderOutside,error:!!e,focused:t})}renderInputOrTextArea(){const{autoFocus:e,linesCount:t=4,multiline:r,dataT:i,s,isLead:o,inputType:l,maxLength:d}=this.props,u=16*t,p={className:(0,a.iv)(s.input,o?s.leadText:s.inputText),placeholder:this.getPlaceHolderText(),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,autoFocus:e,maxLength:d};return r?n.createElement("textarea",Object.assign({},p,{style:{height:u},value:this.state.value},c.dx.n("wat-textfield-input"),c.dx.t(i),{onClick:this.handleInputClick})):n.createElement("input",Object.assign({},p,{type:l||"text",value:this.state.value},c.dx.n("wat-textfield-input"),c.dx.t(i),{onClick:this.handleInputClick}))}getPlaceHolderText(){return this.props.placeholder?this.props.placeholder:this.state.isFocused||""!==this.state.value?"":this.props.label}getLabelText(){return this.props.placeholder||this.state.isFocused||""!==this.state.value?this.props.label:""}handleInputClick(e){e.stopPropagation()}}u.displayName=(0,i.I)("src/shared/kit/textField");const p={input:{color:o.O.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial","::placeholder":{color:o.O.gray_929292}},inputText:Object.assign({},s.qH),leadText:Object.assign({},s.FY),buttons:{display:"flex",justifyContent:"space-between"},clearButtonWrapper:{height:24,marginTop:-4,marginBottom:-4,cursor:"pointer"}},m=(0,a.D2)(p)(u)},69662:(e,t,r)=>{"use strict";r.d(t,{f:()=>u});var n=r(2784),a=r(21196),i=r(491),s=r(67675),o=r(97264);class c extends n.PureComponent{render(){const{label:e,input:t,s:r,error:i,renderOutside:s,dataN:o="wat-kit-textfield",focused:c,hasLabel:l}=this.props;return n.createElement("div",{"data-n":o,style:{width:"100%"}},(e||l)&&n.createElement("label",{className:(0,a.iv)(r.label)},e||""),!s&&n.createElement("div",{className:(0,a.iv)(r.wrapper,c&&r._focused,i&&r._error)},t),s&&n.createElement("div",{className:(0,a.iv)(r.flexWrap)},n.createElement("div",{className:(0,a.iv)(r.wrapper,c&&r._focused,i&&r._error)},t),s()))}}c.displayName=(0,i.I)("src/shared/kit/textField");const l={content:'""',position:"absolute",bottom:0,height:1,width:"100%",start:0},d={flexWrap:{display:"flex",justifyContent:"space-between"},wrapper:{width:"100%",display:"flex",alignItems:"center",color:o.O.gray_929292,position:"relative",boxSizing:"border-box",padding:"12px 0",":after":Object.assign(Object.assign({},l),{background:o.O.gray_e6e6e6})},_error:{":after":Object.assign(Object.assign({},l),{background:o.O.red_fe5000})},_focused:{color:o.O.gray_262626,":after":Object.assign(Object.assign({},l),{background:o.O.blue_0072ce})},label:Object.assign(Object.assign({},s.yG),{display:"block",color:o.O.gray_929292,height:s.yG.lineHeight,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},u=(0,a.D2)(d)(c)},16478:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var n=r(2784);const a={bottomStart:"bottomEnd",bottomEnd:"bottomStart",bottomBottomEnd:"bottomBottomStart",bottomBottomStart:"bottomBottomEnd",centerStart:"centerEnd",centerEnd:"centerStart"};var i=r(20761);const s=r(60629),o={attributes:!0,characterData:!0,subtree:!0,childList:!0};const c=n.memo((({children:e,innerRef:t,pointerEvents:r,to:c,offset:l,targetBoundingClientRect:d})=>{const u=(0,n.useRef)(null),p=t||u,[m,h]=(0,n.useState)(void 0),{rtl:g}=(0,i.Z)(),{top:f,left:v,bottom:y,right:b,transform:w}=(0,n.useMemo)((()=>{if(!m)return{top:0,left:0};const e=window.innerWidth,t=window.innerHeight;return function(e){const{to:t,targetClientRect:r,ownClientRect:n,windowWidth:i,windowHeight:s,offset:o,rtl:c}=e,l=n.width,d=n.height;switch(c&&a[t]||t){case"bottomMiddle":return{left:r.left+r.width/2,top:r.bottom+o,transform:"translateX(-50%)"};case"bottomStart":return{left:r.left-o,top:r.bottom+o,transform:"translateX(-100%)"};case"bottomEnd":{const e=r.right+o,t=r.bottom+o,n=i-e-l<8,a=s-t-d<8;return n&&a?{right:i-r.left+o,bottom:s-r.top+o}:n?{top:t,right:i-r.left+o}:a?{bottom:s-r.top+o,left:e}:{left:e,top:t}}case"centerStart":return{left:r.left-o,top:r.top+r.height/2,transform:"translateY(-50%) translateX(-100%)"};case"centerEnd":return{left:r.right+o,top:r.top+r.height/2,transform:"translateY(-50%)"};case"bottomBottomStart":return{left:r.left,top:r.bottom+o};case"bottomBottomEnd":return{left:r.right,top:r.bottom+o,transform:"translateX(-100%)"}}}({to:c,targetClientRect:d,ownClientRect:m,windowWidth:e,windowHeight:t,offset:l,rtl:g})}),[m]),I=(0,n.useCallback)((()=>{var e;h(null===(e=p.current)||void 0===e?void 0:e.getBoundingClientRect())}),[]);return(0,n.useEffect)(I,[]),function(e,t){const r=(0,n.useCallback)(((...e)=>s((()=>{t(...e)}))),[t]);(0,n.useEffect)((()=>{if(e.current&&"undefined"!=typeof MutationObserver){const t=new MutationObserver(r);return t.observe(e.current,o),()=>{t.disconnect()}}}),[r,e])}(p,I),n.createElement("div",{style:{position:"absolute",top:f,left:v,bottom:y,right:b,transform:w,pointerEvents:r,visibility:m?void 0:"hidden"},ref:p},e)}))},72891:(e,t,r)=>{"use strict";r.d(t,{dp:()=>s,W5:()=>o,E0:()=>c,AR:()=>l});var n=r(97264),a=r(82803),i=r(59297);const s={searchBarWrapperHeight:56,sideMenuWidth:288,standardFrameWidth:352,innerFrameWidth:304,sidebarFrameWidth:200,wideFrameWidth:552,popupFrameWidth:544,photoListItemHeight:176,cardLogo:56,rackShift:32,rackMargin:8},o=Object.assign({},a.W),c={default:"4px",defaultOnlyTop:"4px 4px 0 0",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px",small:"2px",isolate:"6px",oval:"200px"},l={"::-webkit-scrollbar-thumb":{backgroundColor:(0,i.j)(n.O.black,.2)},"::-webkit-scrollbar-track":{backgroundColor:"#f0f0f0"},"::-webkit-scrollbar":{width:"6px"},scrollbarWidth:"thin"}},57511:(e,t,r)=>{"use strict";r.d(t,{C8:()=>a,Gb:()=>o,Az:()=>i,Il:()=>s});var n=r(38633);const{withFormatter:a,FormatterProvider:i,FormatterContextConsumer:s,useFormatter:o}=(0,n.gm)()},57787:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c,a:()=>l});const n=(e,t)=>{const r=[...e],n=t/100;if(r.sort(((e,t)=>e-t)),n<=0)return r[0];if(n>=1)return r[r.length-1];const a=Math.max(r.length*n-1,0),i=Math.ceil(a);return i===a?(r[a]+r[a+1])/2:r[i]};var a=r(34990);var i=r(67),s=r(81870);const o=e=>{let t=0,r=0,o=[];const c=()=>{"undefined"!=typeof window&&(t=requestAnimationFrame((()=>{r||(r=Date.now());const e=Date.now();o.push(e-r),r=e,c()})))};return{startTracker:c,stopTracker:c=>{if(!o.length)return cancelAnimationFrame(t),void(r=0);const l=((e,t)=>({eventName:t,hardwareInfo:(0,a.T)(),url:window.location.href,percentile50Perf:n(e,50),percentile90Perf:n(e,90)}))(o,e);cancelAnimationFrame(t),r=0,o=[],c((0,s.vP)((0,i.n)(["Map",`${e}_50percentile`,`${e}_50percentile`,l.percentile50Perf]),(0,i.n)(["Map",`${e}_90percentile`,`${e}_90percentile`,l.percentile90Perf])))}}},c=o("map_move_after_search"),l=o("show_tooltip_after_markers_update")},61824:(e,t,r)=>{"use strict";r.d(t,{eM:()=>n,Nm:()=>a,mC:()=>i,qN:()=>s,Hg:()=>o});r(24973);const n=0,a=50,i=180,s=-180;function o(e){return e.reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]])}},98374:(e,t,r)=>{"use strict";r.d(t,{v:()=>s,V:()=>i});var n=r(60218);function a(e){return(t,r)=>({id:r||(0,n.by)(),type:e,payload:t})}const i=a("success"),s=a("error")},6925:(e,t,r)=>{"use strict";r.d(t,{_f:()=>C,Q6:()=>w,GM:()=>y,Uz:()=>v});var n=r(70433),a=r(89965),i=r(54603),s=r(27401),o=r(39662);function c(e){var t,r;return"links"in e&&(null===(r=null===(t=e.links)||void 0===t?void 0:t.branches)||void 0===r?void 0:r.count)||0}var l=r(89230),d=r(43667),u=r(91437),p=r(2889),m=r(26634),h=r(62636),g=r(60404),f=r(15640);const v=(0,n.P1)([e=>(0,a.nM)(e)],(e=>{if(!e||!e.data)return!1;const t=c(e.data);return!!t&&t>i.p4})),y=(0,n.P1)([({state:e,entityId:t})=>(0,a.nM)({state:e,entityId:t}),({state:e,entityReviewsSearchId:t})=>(0,a.AE)({state:e,searchId:t||""}),({state:e,orgReviewsSearchId:t})=>(0,a.AE)({state:e,searchId:t||""})],((e,t,r)=>b(e,t,r)));function b(e,t,r){const n=e&&e.data,a=n&&"branch"===n.type&&n.reviews&&n.reviews.org_review_count||0,i=n&&"reviews"in n&&n.reviews&&n.reviews.general_review_count||0,s=t&&t.data&&t.data.total,o=r&&r.data&&r.data.total;return{entityCount:void 0!==s?s:i,orgCount:void 0!==o?o:a}}const w=(0,n.P1)([e=>(0,a.nM)(e),e=>y(e),({state:e,entityId:t})=>(0,u.Ks)(e.appContext.frames,t),({state:e,entityId:t})=>(0,a.BD)({state:e,entityId:t}),({state:e})=>(0,m.W)(e),({state:e})=>"realty"===e.appContext.activeLayer,e=>e.featureReadOnly],((e,t,r,n,a,i,s)=>I({profile:e,reviewsCount:t,discountsTotal:n.data?n.data.total:0,frame:r,cart:a,isRealtyLayer:i,isReadOnly:s})));function I(e){const{profile:t,reviewsCount:r,discountsTotal:n,frame:a,cart:i,isRealtyLayer:u,isReadOnly:m}=e,g=t&&t.data;if(!g)return[];const f=(0,s.R)(g).reduce(((e,t)=>{let s;switch(t){case"contacts":case"info":s={tab:t};break;case"inside":const e=c(g);s=0===e?void 0:{tab:t,count:e};break;case"prices":const f="branch"===g.type&&(g.has_goods||g.is_promoted),v="branch"===g.type?(0,h.c)(i,g.org.id):0;s=f?{tab:t,badgeCount:v}:void 0;break;case"realty":s="has_realty"in g&&g.has_realty&&!u?{tab:t}:void 0;break;case"services":{const e=(0,l.F)(g);e&&(s={tab:t,count:e});break}case"providers":{const e=(0,d.k)(g);e&&(s={tab:t,count:e});break}case"discounts":s=n?{tab:t,count:n}:void 0;break;case"reviews":{if((0,p.t)(g)||m||!(0,o.s)(g))break;const e=a&&"entity"===a.type&&a.tabReviews,n="branch"===g.type&&g.reviews&&g.reviews.is_org_reviews;if(e){s={tab:t,count:e.isOrg?r.orgCount:r.entityCount}}else{s={tab:t,count:n?r.orgCount:r.entityCount}}}}return s?e.concat([s]):e}),[]);return f.length,f}const E=(0,n.HP)((e=>e),!1,f.Z),C=(0,n.P1)([({state:e,entityId:t,searchId:r})=>{const n=(0,a.wj)({state:e,entityId:t,searchId:r}).data;return n&&"links"in n&&n.links&&n.links.database_entrances?E(n.links.database_entrances):g.LZ},({state:e,entityId:t,searchId:r})=>{var n,i,s;return null===(s=null===(i=null===(n=(0,a.wj)({state:e,entityId:t,searchId:r}))||void 0===n?void 0:n.data)||void 0===i?void 0:i.context)||void 0===s?void 0:s.entrance_id},({entranceId:e})=>e],((e,t,r)=>{const n=t||r;if(n){const t=e.find((e=>e.id===n));if(t)return{vectors:t.geometry.vectors,points:t.geometry.points}}return e.reduce(((e,t)=>t&&t.is_visible_on_map?{vectors:e.vectors.concat(t.geometry&&t.geometry.vectors||[]),points:e.points.concat(t.geometry&&t.geometry.points||[])}:e),{vectors:[],points:[]})}))},13710:(e,t,r)=>{"use strict";r.d(t,{vE:()=>p,yc:()=>m,gS:()=>h,R_:()=>g,Ef:()=>y,oo:()=>b});var n=r(17497),a=r(60218),i=r(1005),s=r(89965),o=r(93019),c=r(75873),l=r(70433),d=r(36123),u=r(60404);const p=e=>(0,l.P1)([t=>(0,o.Or)(t)[e],c.yH],((e,t)=>e?(0,d.a)(e,t):u.LZ)),m=()=>(0,l.P1)([e=>(0,o.tV)(e)],(e=>(0,i.s0)(e).filter(o.N5))),h=(0,l.P1)([o.tV,c.yH],((e,t)=>(0,d.a)((0,i.s0)(e).filter(o.jV),t))),g=e=>{const t=(0,a.oA)((0,i.s0)((0,n.Y4)(e))),r=t.find((({place_type:e})=>"home"===e)),s=t.find((({place_type:e})=>"work"===e));return[{type:"home",place:r,entity:w(e,r)},{type:"work",place:s,entity:w(e,s)}]},f=(0,s.T3)(),v=(0,s.T3)(),y=(0,l.P1)([n.eb,e=>{const t=(0,n.eb)(e);if(t&&t.object_id)return f({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"home",place:e,entity:t}})),b=(0,l.P1)([n.M6,e=>{const t=(0,n.M6)(e);if(t&&t.object_id)return v({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"work",place:e,entity:t}}));function w(e,t){if(t&&t.object_id)return(0,s.wj)({state:e,entityId:t.object_id})}},30933:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(75873);function a(e){const t=(0,n.kL)(e);return{lang:e.appContext.lang,product:"online5",userId:e.session.userId,sessionId:e.session.sessionId,screen:e.session.screen,city:t&&t.code||"unknown",mapType:e.session.is3dEnabled?"3d":"2d",source:"what is source"}}},15414:(e,t,r)=>{"use strict";r.d(t,{H:()=>o});var n=r(3005),a=r(91437),i=r(35075),s=r(32182);const o=e=>t=>{var r;if(!(0,i.G)(e)(t))return!1;const o=(0,a.iF)((0,s.T)(t),e),c=o&&"filterPanelState"in o?o.filterPanelState:void 0;if(!c)return!1;const l="realty"===(null==o?void 0:o.type)&&"building"===(null===(r=o.entity)||void 0===r?void 0:r.type);return("auto"!==c||!t.config.isMobileDevice)&&(("auto"!==c||"search"!==(null==o?void 0:o.type)||o.query!==n.B)&&("auto"===c?1===t.appContext.frames.length&&!l:"manuallyOpened"===c))}},35075:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var n=r(91437),a=r(32182);const i=e=>t=>{const r=(0,n.iF)((0,a.T)(t),e);if(!r)return!1;switch(r.type){case"search":case"product":case"realty":case"exchange":return!0;case"directions":switch(r.tab){case"bus":return!0;case"car":case"truck":return(e=>{const t=(0,n.t0)(e.appContext.frames,"directions");return!!t&&!!t.isPpngFiltersAvailable})(t);default:return!1}default:return!1}}},32182:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=(0,r(70433).P1)([e=>e.appContext.frames,e=>e.appContext.staticFrames.dashboard.id],((e,t)=>e.length?e:[{id:t,type:"dashboard"}]))},31213:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r(32182),a=r(2832);const i=e=>{if(e.appContext.isDataViewerMinimized)return 0;if(e.config.isMobileDevice)return 0;return(0,n.T)(e).reduce(((t,r)=>t+(0,a.L)(r.id)(e)),0)}},2832:(e,t,r)=>{"use strict";r.d(t,{L:()=>c});var n=r(91437),a=r(72891),i=r(35075),s=r(15414),o=r(32182);const c=e=>t=>(0,n.iF)((0,o.T)(t),e)&&(0,i.G)(e)(t)&&(0,s.H)(e)(t)?a.dp.wideFrameWidth:a.dp.standardFrameWidth},49361:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n=r(91437);const a=e=>e.appContext.showTrafficOnMap||!!(0,n.t0)(e.appContext.frames,"directions")||!e.session.is3dEnabled},11052:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});const n={RU:["ru_RU"],KZ:["ru_KZ"],UA:["uk_UA","ru_UA"],AE:["en_AE","ar_AE"],SA:["en_SA","ar_SA"],CY:["en_CY"],CZ:["cs_CZ"],IT:["it_IT"],CL:["es_CL"],KG:["ru_KG"],UZ:["ru_UZ","uz_UZ"],AZ:["az_AZ","ru_AZ"]};const a=(0,r(70433).P1)([e=>e.config,e=>e.appContext.lang,e=>e.appContext.defaultLocale],((e,t,r)=>function(e){const{lang:t,availableLocales:r,defaultLocale:n}=e,a=t.replace("-","_"),i=a.split("_")[0],s=n.split("_")[1];return r.find((e=>e===a))||r.find((e=>e.startsWith(`${i.toLowerCase()}_`)))||r.find((e=>e.endsWith(`_${s.toUpperCase()}`)))||n}({lang:t,availableLocales:n[e.defaultCountryCode]||[],defaultLocale:r})))},97883:(e,t,r)=>{"use strict";r.d(t,{C8:()=>R,H3:()=>D,xl:()=>H,WK:()=>V,Id:()=>N,ls:()=>P,Hr:()=>S,SC:()=>F,Wr:()=>A,Z1:()=>T,S:()=>B,KC:()=>L,sH:()=>U,v9:()=>j,Wf:()=>M});var n=r(91437),a=r(2615),i=r(6002),s=r(99116),o=r(70433);var c=r(86769),l=r(60218),d=r(54917),u=r(65933),p=r(47787),m=r(77936),h=r(13776),g=r(60404),f=r(31213),v=r(13710),y=r(14101),b=r(4390),w=r(61834);const I="undefined"==typeof window?36:Math.ceil(18*window.devicePixelRatio),E=e=>{if("unknown"===e.type)return k;return`data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg' xmlns:xlink= 'http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3ClinearGradient x1='50.002%25' y1='100.002%25' x2='50.002%25' y2='.002%25' id='a'%3E%3Cstop stop-color='%23027AF2' offset='0%25'/%3E%3Cstop stop-color='%23087CF1' offset='24.54%25'/%3E%3Cstop stop-color='%233198EC' offset='100%25'/%3E%3C/linearGradient%3E%3CclipPath id='circleView'%3E%3Ccircle cx='12' cy='12' r='9' fill='%23FFFFFF' /%3E%3C/clipPath%3E%3C/defs%3E%3Cg transform='translate(6 6)' fill='none'%3E%3Ccircle fill='%23000' cx='12' cy='12' r='10'/%3E%3Ccircle stroke='url(%23a)' stroke-width='3' fill='%23FFF' cx='12' cy='12' r='11.5'/%3E%3Cimage xlink:href='${x(e)}' x='3' y='3' height='18' width='18' clip-path='url(%23circleView)'/%3E%3C/g%3E%3C/svg%3E`},C=e=>{if("unknown"===e.type)return k;return`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink= 'http://www.w3.org/1999/xlink' width='40' height='40' viewBox='0 0 40 40' enable-background='new 0 0 36 36'%3E%3Cdefs%3E%3CclipPath id='circleView'%3E%3Ccircle cx='18' cy='17' r='9' fill='%23FFFFFF' /%3E%3C/clipPath%3E%3C/defs%3E%3Cfilter filterUnits='objectBoundingBox' height='220%25' id='a' width='220%25' x='-60%25' y='-45%25'%3E%3CfeMorphology in='SourceAlpha' operator='dilate' radius='3' result='shadowSpreadOuter1'/%3E%3CfeOffset dy='3' in='shadowSpreadOuter1' result='shadowOffsetOuter1'/%3E%3CfeGaussianBlur in='shadowOffsetOuter1' result='shadowBlurOuter1' stdDeviation='2.5'/%3E%3CfeComposite in='shadowBlurOuter1' in2='SourceAlpha' operator='out' result='shadowBlurOuter1'/%3E%3CfeColorMatrix in='shadowBlurOuter1' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.26 0'/%3E%3C/filter%3E%3Ccircle cx='18' cy='17' r='10' filter='url(%23a)'/%3E%3ClinearGradient id='b' gradientUnits='userSpaceOnUse' x1='-.457' y1='37.956' x2='-.457' y2='38.956' gradientTransform='matrix(23 0 0 -23 28.5 901.5)'%3E%3Cstop offset='0' stop-color='%23d32408'/%3E%3Cstop offset='.47' stop-color='%23e32608'/%3E%3Cstop offset='1' stop-color='%23df3d0c'/%3E%3C/linearGradient%3E%3Ccircle fill='%23FFF' stroke='url(%23b)' stroke-width='3' cx='18' cy='17' r='11.5'/%3E%3Cpath fill='%23E32608' d='M13 12l2.5 3.5L18 12l2.5 3.5L23 12v9H13z'/%3E%3Cimage xlink:href='${x(e)}' x='9' y='8' height='18' width='18' clip-path='url(%23circleView)'/%3E%3C/svg%3E`};function x(e){if("raster"===e.type){const t=document.createElement("canvas");t.width=I,t.height=I;return t.getContext("2d").drawImage(e.source,0,0,I,I),t.toDataURL()}const t=(new DOMParser).parseFromString(e.source,"image/svg+xml").querySelector("svg");return t.setAttribute("width",`${I}`),t.setAttribute("height",`${I}`),`data:image/svg+xml;base64,${(0,w.o)(t.outerHTML)}`}const k="data:image/svg+xml,%3Csvg%20width%3D%2236%22%20height%3D%2236%22%20viewBox%3D%220%200%2036%2036%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ctitle%3Ecommercial%3C%2Ftitle%3E%3Cdefs%3E%3ClinearGradient%20x1%3D%2250.002%25%22%20y1%3D%22100.002%25%22%20x2%3D%2250.002%25%22%20y2%3D%22.002%25%22%20id%3D%22a%22%3E%3Cstop%20stop-color%3D%22%23027AF2%22%20offset%3D%220%25%22%2F%3E%3Cstop%20stop-color%3D%22%23087CF1%22%20offset%3D%2224.54%25%22%2F%3E%3Cstop%20stop-color%3D%22%233198EC%22%20offset%3D%22100%25%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Cg%20transform%3D%22translate(6%206)%22%20fill%3D%22none%22%3E%3Ccircle%20fill%3D%22%23000%22%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2210%22%2F%3E%3Ccircle%20stroke%3D%22url(%23a)%22%20stroke-width%3D%223%22%20fill%3D%22%23FFF%22%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2211.5%22%2F%3E%3Cpath%20fill%3D%22%23087DF1%22%20d%3D%22M7%207l2.5%203.5L12%207l2.5%203.5L17%207v9H7z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E";var _=r(10),O=r(89952);const S=e=>e.appContext.zoom,z={top:56,left:0,right:0,bottom:0,bigTop:100,bigLeft:100,bigRight:100,bigBottom:100},M=(0,o.P1)([f.w,e=>e.appContext.lang],((e,t)=>{const{bigTop:r,bigLeft:n,bigRight:a,bigBottom:i}=z;return"ar"===t?{topLeft:[a,r],bottomRight:[e+n,i]}:{topLeft:[e+n,r],bottomRight:[a,i]}})),j=(0,o.P1)([f.w,e=>e.appContext.lang],((e,t)=>{const{top:r,left:n,right:a,bottom:i}=z;return"ar"===t?{topLeft:[a,r],bottomRight:[e+n,i]}:{topLeft:[e+n,r],bottomRight:[a,i]}})),T=(0,o.P1)([e=>e.appContext.center,e=>e.appContext.zoom,e=>e.appContext.pitch,e=>e.appContext.rotation],((e,t,r,n)=>({center:e,zoom:t,pitch:r,rotation:n}))),N=(0,o.P1)([e=>P(e)],(e=>{const[t,,r]=e;return[t,r]})),P=(0,o.P1)([j,e=>e.session.screen,T],((e,t,r)=>{const n=(0,i.o)(t,e),a=(0,s.D)(Object.assign({mapSize:n},r)),[,,o,c]=a.map((e=>({lon:e[0],lat:e[1]})));var l,d;return function(e){let t={minLon:-180,maxLat:90,maxLon:180,minLat:-90};return e.length>1&&(t=e.reduce(((e,t)=>{const{lon:r,lat:n}=t;return{minLon:Math.min(e.minLon,r),maxLat:Math.max(e.maxLat,n),maxLon:Math.max(e.maxLon,r),minLat:Math.min(e.minLat,n)}}),{minLon:180,maxLat:-90,maxLon:-180,minLat:90})),[{lon:t.minLon,lat:t.maxLat},{lon:t.minLon,lat:t.minLat},{lon:t.maxLon,lat:t.minLat},{lon:t.maxLon,lat:t.maxLat}]}([...(l=[o,c],d=r.center,l.map((e=>{const t=d.lat+(d.lat-e.lat),r=Math.abs(t)>90?2*Math.sign(t)*90-t:t;return{lon:d.lon+(d.lon-e.lon),lat:r}}))),o,c])}));function L(e){const t=(0,n.WZ)(e.appContext.frames,["product","search"]);if(t)return"product"===t.type?(0,a.Ue)(t.offersSearchId):"search"===t.type&&"query"===t.searchType&&"market"===t.tab?t.tabMarket.markersId:void 0}function F(e){const t=(0,n.WZ)(e.appContext.frames,["collection"]);if(t)return"collection"===t.type?(0,a.Ue)(t.collectionId):void 0}const R=e=>{const t=H(e);if(!t)return;const r=(0,y.Aw)({searchId:t,state:e});return r&&r.data};function H(e){const t=(0,n.Di)(e.appContext.frames);if(t&&("query"!==t.searchType||"market"!==t.tab))return e.appContext.weak.markers.catalog[t.id]}const D=(0,o.P1)([R,H,e=>"backTo2004"===e.appContext.activeLayer],((e,t,r)=>{if(!e||200!==e.code||!t)return;const n={},a=e.items.map(((e,a)=>{const i=(e=>{var t,r,n,a,i,s,o,c;return(null===(n=null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.marker_logo)||void 0===n?void 0:n.url)&&-1!==(null===(i=null===(a=e.ads)||void 0===a?void 0:a.options)||void 0===i?void 0:i.marker_logo.url.indexOf(".png"))?(0,O.W)(e.ads.options.marker_logo.url,`${I}x${I}`):null===(c=null===(o=null===(s=e.ads)||void 0===s?void 0:s.options)||void 0===o?void 0:o.marker_logo)||void 0===c?void 0:c.url})(e),s=function(e,t,r){const n=(0,b.s)();return t?{bigbullet:{normal:{url:`${n}markers/${r?"2004/":""}deleted_bigbullet.svg`},hover:{url:`${n}markers/${r?"2004/":""}deleted_bigbullet_hover.svg`}},smallbullet:{normal:{url:`${n}markers/${r?"2004/":""}deleted_smallbullet.svg`},hover:{url:`${n}markers/${r?"2004/":""}deleted_smallbullet_hover.svg`}},middlebullet:{normal:{url:`${n}markers/${r?"2004/":""}deleted_middlebullet.svg`},hover:{url:`${n}markers/${r?"2004/":""}deleted_middlebullet_hover.svg`}}}:e?{commercial:{normal:{url:e,transformer:r?void 0:E},hover:{url:e,transformer:r?void 0:C}}}:void 0}(i,e.is_deleted,r),o={id:e.id,key:(0,l._J)(e.id),lonLat:[e.lon,e.lat],type:e.is_advertising||i?"commercial":"bigbullet",buildingId:e.geometry_id,icon:s,data:{source:"catalog",searchId:t,type:(0,_.j)(e.type),match_type:e.match_type,rubr:e.rubr,source_type:e.source_type,vital:e.vital,is_advertising:e.is_advertising,name:e.name,name_ex:e.name_ex,schedule:e.schedule,context:e.context,reviews:e.reviews,ads:e.ads,cluster:e.cluster,timezone_offset:e.timezone_offset,flags:e.flags}};return n[(0,l._J)(e.id)]=a,o}));return{indexHashMap:n,markers:a}})),B=(0,o.P1)([e=>e.appContext.weak.floors,D],c.e);function A(e){const t=e.appContext.frames.find(u.n);return t&&t.originalSearchId}function V(e){const t=A(e);if(t)return t;const r=e.appContext.frames.find(d.E)||e.appContext.frames.find(p.Y)||e.appContext.frames.find(u.n);return r&&(0,n.QB)(r)||(0,l.by)()}const Z=e=>{var t,r;const n=null===(t=e.entity)||void 0===t?void 0:t.data,a=null===(r=e.place)||void 0===r?void 0:r.point;if(!n||!a)return;const i="branch"===n.type?n.name_ex.primary:"name"in n&&n.name||"";return{id:n.id,point:[a.lon,a.lat],name:i,classId:"home"===e.type?1:2,humanReadableClassId:"home"===e.type?"personal_poi_home":"personal_poi_work"}},U=(0,o.P1)([m.n,v.Ef,v.oo],((e,t,r)=>{const n=[];if(!e.data&&!t&&!r)return g.LZ;e.data.suggestLastObjects.slice(0,10).forEach((e=>{if(e.entity&&e.entity.id){const t=e.entity,r=t.geometry&&t.geometry.centroid?(0,h.rx)(t.geometry.centroid):t.point;r&&n.push({id:t.id,point:[r.lon,r.lat],name:"name_ex"in t&&t.name_ex?t.name_ex.primary:t.name,classId:t.class_id||0,humanReadableClassId:t.human_readable_class_id})}}));const a=t?Z(t):void 0;a&&n.push(a);const i=r?Z(r):void 0;return i&&n.push(i),0!==n.length?n:g.LZ}))},75873:(e,t,r)=>{"use strict";r.d(t,{mN:()=>x,Z_:()=>m,g2:()=>h,kL:()=>f,yH:()=>g,SJ:()=>y,fq:()=>v,E5:()=>C,mI:()=>E,kG:()=>w,k2:()=>I});var n=r(29782),a=r(80119),i=r(70422),s=r(1005),o=r(91437),c=(r(89965),r(88869)),l=r(42672),d=r(14693);var u=r(60404);const p={admDiv:a.Y,project:a.Y},m=e=>{const t=w(e);if(!t||!t.data)return p;if("universe"===t.data.type)return p;return{admDiv:t,project:t.data.regionId&&(0,n.D4)({state:e,id:t.data.regionId})||a.Y}},h=(e,t,r,n)=>{const a=w(e);if(r&&a&&a.data&&a.data.allowChangeDomain&&(0,l.Y)(a.data)&&n.includes(a.data.countryCode))return(0,i.RG)(t,a.data.countryCode,a.data.regionId)},g=e=>{const t=m(e).admDiv.data;return(0,l.Y)(t)},f=e=>{w(e);const t=g(e);if(void 0===t)return;const r=(0,n.D4)({state:e,id:t});return r&&r.data};function v(e){const t=f(e);return t&&t.id||"0"}function y(e){const t=f(e);return t&&t.code}const b={data:{name:"",type:"universe",id:"",countryCode:"ru",overlapRegionId:"0",allowChangeDomain:!0},meta:{code:200,status:"success"}},w=e=>(0,d.e)(e.appContext.zoom)?b:(0,n.zQ)({state:e,id:u.Iv}),I=e=>{var t;const r=(0,n.zQ)({state:e,id:u.Iv});return null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.id};function E({state:e,code:t}){const r=[];return(0,s.s0)(e.data.region.profile).forEach((e=>{(null==e?void 0:e.data)&&r.push(e.data)})),function(e,t){return t.find((t=>{var r;return t.uri_code===e||(null===(r=t.uri_aliases)||void 0===r?void 0:r.includes(e))}))}(t,r)}function C(e){var t;const r=I(e),n=r&&(null===(t=e.data.entity.profile[r])||void 0===t?void 0:t.data),a=n&&"adm_div"in n?n.adm_div:void 0,i=null==a?void 0:a.find((e=>"region"===e.type));return null==i?void 0:i.id}function x(e){const t=(0,o.t0)(e.appContext.frames,"entity")||(0,o.t0)(e.appContext.frames,"gallery");if(t)return t.entityId;const r=(0,o.t0)(e.appContext.frames,"search");if(r)switch(r.searchType){case"inbuilding":return r.buildingId;case"filials":{const t=(0,c.r)(r);if(!t)return;const n=e.data.search.pagination[t];if(!n)return;const a=n[1];if(!a)return;return a.data[0]}default:return}}},25584:(e,t,r)=>{"use strict";r.d(t,{eq:()=>l,Te:()=>u,Do:()=>p,Mw:()=>m,iE:()=>h,QV:()=>g,mg:()=>f,yw:()=>v,vt:()=>y});var n=r(60985),a=r(2615),i=r(90358),s=r(96421),o=r(80119),c=r(77936);function l(e,t){return e.appContext.weak.suggests[t]}function d(e,t){const r=l(e,t);if(r&&r.suggestId)return(0,a.Gp)(r.suggestId)}function u(e){const t=d(e,"products");if(t){const r=(0,s.Te)({state:e,searchId:t});return r&&r.data&&r.data.items}}function p(e){var t;const r=d(e,"products");if(r){const n=(0,s.Te)({state:e,searchId:r});return null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.bss}}function m(e){const t=l(e,"primary");if(t&&t.suggestId){const r=(0,i.mg)({state:e,searchId:(0,a.sG)(t.suggestId)});if(r&&r.data&&r.data.query)return!1}return!0}const h=(0,n.P1)([e=>m(e),e=>f(e,"primary"),e=>(0,c.n)(e)],((e,t,r)=>e?function(e){if(e)return e.searches.slice(0,10)}(r&&r.data):t));function g(e,t){if("products"===t)return o.Y;const r=d(e,t);return r?(0,i.mg)({state:e,searchId:r}):o.Y}function f(e,t){const{data:r}=g(e,t);return r&&r.items}function v(e,t){const{data:r}=g(e,t);return r&&r.searchAttributes}function y(e,t){switch(t){case"products":return u(e);case"primary":case"inbuilding":return h(e);default:return f(e,t)}}},48473:(e,t,r)=>{"use strict";r.d(t,{q:()=>a});var n=r(97264);const a={innerBorderFilter:`inset 0 0 0 1px ${n.O.yellow_ffb81c}`,innerBorderNonContrastHovered:`inset 0 0 0 1px ${n.O.blue_82bceb}`,innerBorderWithoutColor:"inset 0 0 0 1px"}},78921:(e,t,r)=>{"use strict";r.d(t,{C:()=>a,a:()=>i});var n=r(81870);const a=e=>e?(0,n.Rh)((t=>!t.isMobileDevice&&e)):(0,n.ZT)(),i=e=>e?(0,n.Rh)((t=>t.isMobileDevice&&e)):(0,n.ZT)()},56172:(e,t,r)=>{"use strict";r.d(t,{c:()=>u});var n=r(81870),a=r(78438),i=r(59554),s=r(75873),o=r(71846),c=r(9452),l=r(52970),d=r(29700);const u=e=>{const{actionType:t,value:r,entityId:u,ctaOwner:m}=e;switch(t){case"order":{if(!u)return(0,n.ZT)();const e=p(m);return(0,l.f)({entityId:u,source:e})}case"search_by_org":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:""}),(0,a.QR)({orgId:r}));case"search_buy_here":return(0,d.J)({adsIds:r});case"search_by_query":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:r}),(0,i.zh)((e=>(0,a.gB)({query:r,viewpoint:e}))));case"search_by_rubric":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:""}),(0,n.xJ)((e=>(0,i.zh)((t=>(0,a.gB)({viewpoint:t,rubricId:r,query:"",regionId:(0,s.fq)(e)}))))));case"open_card":return(0,o.xo)({id:r,type:"branch"});case"callback":case"link":case"phone":default:return(0,n.ZT)()}},p=e=>{switch(e){case"mapMarker":return"marker";case"placeCardFull":return"entityCard";case"placeCardMini":return"entityMinicard";case"adsBanner":return"banner"}return"entityCard"}},68411:(e,t,r)=>{"use strict";function n(e,t="ru_RU"){return`${e}_${t}`}r.d(t,{HT:()=>_,yq:()=>z,Mh:()=>M,Oc:()=>k});var a=r(2613),i=r(75873),s=r(81870),o=r(2615),c=r(89965),l=r(35914),d=r(11052),u=r(71846),p=r(45436),m=r(87140),h=r(18521),g=r(90961),f=r(88835),v=r(15402),y=r(82225),b=r(9452),w=r(43065),I=r(58786),E=r(20999),C=r(97883),x=r(60218);const k=(0,s.gQ)("updateDashboardDataIfNeeded",(()=>(0,s.xJ)((e=>0===e.appContext.frames.length&&(0,s.Mf)(_(),O(),S())))));const _=(0,s.gQ)("fetchMetarubricsIfNeeded",(e=>(0,s.xJ)((t=>{const r=t.appContext.weak.dashboard.transitions.rubricsId,c=function(e,t){const r=(0,d.O)(e),a=(0,i.fq)(e),s=[(t?(0,x.by)():(0,o.Gp)(e.appContext.weak.dashboard.transitions.rubricsId)).split(":")[0],n(a,r)].join(":");return(0,o.gg)(e.appContext.weak.dashboard.transitions.rubricsId,s)}(t,e);return c===r?(0,s.ZT)():(0,s.vP)((0,a.jP)(c),(0,s.xJ)((e=>{const t=(0,o.sG)(e.appContext.weak.dashboard.transitions.rubricsId),r=(0,I.l)({state:e,dashboardId:t});if((0,E.G)(r)&&t){const r=(0,d.O)(e),n=(0,i.fq)(e),a=(0,C.Id)(e);return(0,w.A)({dashboardId:t,regionId:n,locale:r,viewpoint:a})}})),(0,s.xJ)((e=>{const t=e.appContext.weak.dashboard.transitions.rubricsId;if((0,o.sG)(c)===(0,o.sG)(t))return(0,a.jP)((0,o._e)(t))})))})))),O=(0,s.gQ)("fetchGTAIfNeeded",(()=>(0,s.xJ)((e=>{const t=(0,d.O)(e),r=(0,i.fq)(e),n=(0,o.gg)(e.appContext.weak.dashboard.transitions.gtaId,function(e,t="ru_RU"){return`${e}_${t}`}(r,t));return(0,o.sG)(n)===(0,o.Gp)(n)?(0,s.ZT)():(0,s.vP)((0,a.H6)(n),(0,l.e)(),(0,s.xJ)((e=>{const t=e.appContext.weak.dashboard.transitions.gtaId;if((0,o.sG)(n)===(0,o.sG)(t))return(0,a.H6)((0,o._e)(t))})))})))),S=(0,s.gQ)("fetchDashboardEntityIfNeeded",(()=>(0,s.xJ)((e=>{const t=(0,i.Z_)(e).admDiv.data;if(!t)return(0,s.ZT)();const r=t.id;if(!r)return(0,s.ZT)();return(0,c.wj)({state:e,entityId:r}).data?(0,s.ZT)():(0,u.DZ)({id:r,searchId:void 0})})))),z=(0,s.gQ)("openDashboardFromMinicard",(e=>(0,s.vP)(e.skipHistoryPush?(0,s.ZT)():(0,g.BN)(),(0,f.IW)(),(0,b.xU)({suggesterKey:"primary",query:void 0}),(0,p.wN)({entityId:e.entityId},(t=>t.data?(0,s.ZT)():(0,u.DZ)({id:e.entityId,searchId:void 0}))),(0,v.vr)({entityId:e.entityId}))));function M(e){return(0,s.XJ)((0,s.Rh)((t=>(0,s.xJ)((r=>{if(0!==r.appContext.frames.length)return;const n=(0,i.Z_)(r).admDiv.data;if(!n||!(0,y.f)(e,n)||"adm_div.city"!==n.type)return;const a=n.id;if(!a)return;const s=(0,c.wj)({state:r,entityId:a}).data;if(!s)return;const o=(0,m.B)({entity:s,state:r});if(!o)return;return(0,i.g2)(r,window.location.hostname,t.isCountryRedirectsEnabled,t.enabledDomains)?void 0:(0,h.ly)(o)})))))}},76457:(e,t,r)=>{"use strict";r.d(t,{lB:()=>m,tb:()=>p,HP:()=>h});var n=r(5163),a=r(88835),i=r(45436),s=r(10997),o=r(58521),c=r(60218);let l;const d=["offline","navigator"];function u(){return l=(0,c.hj)(d,l),l}function p(e){const{id:t,frameId:r,type:n,point:i,tab:s,statusId:o,searchId:c,gtaId:l,query:d,victimsId:p,routeId:m,activeDirectionId:h,entranceId:g,contextRubricIdsFromSlug:f}=e;return(0,a.Jt)({id:r,type:"entity",entityType:n,entityId:t,tab:s,isShowEntrance:!0,point:i,statusId:o,searchId:c,gtaId:l,query:d,victimsId:p,routeId:m,activeDirectionId:h,entranceId:g,contextRubricIdsFromSlug:f,promoType:u()})}function m(e){return(0,i.wN)({entityId:e.entityId},(t=>(0,s.me)(e.frameId,(e=>{const r=t&&t.data;if(!r)return e;const n=(0,o.m)(r);if(n&&e.entityId!==n.id)return Object.assign(Object.assign({},e),{entityId:n.id,entityType:n.type});const a=r.type;return e.entityType===a?e:Object.assign(Object.assign({},e),{entityType:a})}))))}function h(e){const{frameId:t}=e,r=(0,n._T)(e,["frameId"]);return(0,a.Jt)(Object.assign(Object.assign({},r),{id:t,type:"pending",subtype:"entity",promoType:u()}))}},71846:(e,t,r)=>{"use strict";r.d(t,{DZ:()=>w,wk:()=>L,H3:()=>F,xo:()=>C,ko:()=>z,WZ:()=>N});var n=r(81870),a=r(60218),i=r(60404),s=r(90961),o=r(76457),c=r(15402),l=r(89687),d=r(45436),u=r(30282);function p({id:e,searchId:t}){return(0,d.wN)({entityId:e,searchId:t},(t=>{const r=t.data;return r&&"branch"===r.type&&(0,u.e)(r)?(0,l.z)({id:e}):(0,n.ZT)()}))}var m=r(43062),h=r(69345),g=r(67758),f=r(59554),v=r(75881),y=r(14101),b=r(97883);const w=(0,n.gQ)("fetchEntityProfileWithCurrentViewpoint",(e=>(0,f.gF)({viewpoint:b.Id,searchProfile:t=>(0,y.rO)({state:t,searchId:e.searchId})},(({viewpoint:t,searchProfile:r})=>{var n,a;return(0,v.Dz)({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,viewpoint:t,contextRubrics:(a=e.contextRubricIdsFromSlug,(null==a?void 0:a.split(",").map((e=>({group:0,name:"",id:e,short_id:+e}))))||(null===(n=r.data)||void 0===n?void 0:n.contextRubrics)),adsId:e.adsId})}))));var I=r(58521);function E(e){return(0,n.Yz)("fetchProfileCheckGroup")(w({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId,contextRubricIdsFromSlug:e.contextRubricIdsFromSlug}),(0,d.wN)({entityId:e.id},(t=>{if(!t.data||"branch"===t.data.type)return;const r=(0,I.m)(t.data);return r?w({id:r.id,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId}):void 0})))}const C=(0,n.gQ)("openEntityCard",(e=>{const t=(0,a.by)(),r=(0,a.by)(),l=(0,a.by)(),d=(0,a.by)(),u=(0,a.by)(),f=(0,a.by)(),v=(0,a.by)(),y=e.searchId?e.searchId:i.Mt,b=Object.assign(Object.assign({},e),{statusId:r,searchId:y,frameId:t,entityReviewsSearchId:l,orgReviewsSearchId:d,gtaId:u,unconfirmedEntityReviewsSearchId:f,unconfirmedOrgReviewsSearchId:v});return(0,n.vP)(e.skipHistoryPush?(0,n.ZT)():(0,s.BN)(),(0,o.tb)(b),E(b),e.shouldFitEntityInMapView?(0,c.vr)({entityId:e.id}):void 0,(0,o.lB)({frameId:t,entityId:b.id}),p({id:b.id,searchId:y}),(0,m.Uh)(b),(0,n.Mf)((0,h.eY)(b),(0,g.A)(b)))}));var x=r(68411),k=r(86741),_=r(89965),O=r(91437),S=r(26294);const z=(0,n.gQ)("openEntityCardFromMinicard",(e=>(0,f.gF)({entityProfile:t=>(0,_.wj)({state:t,entityId:e.id,searchId:e.searchId}),searchFrame:e=>(0,O.Di)(e.appContext.frames),isMobile:e=>e.config.isMobileDevice},(({entityProfile:t,searchFrame:r,isMobile:n})=>{var a;const{id:i,searchId:s,type:o,skipHistoryPush:c}=e,l=t.data,d=n;return l?function(e){return"adm_div"===e.type&&["city","settlement"].includes(e.subtype)&&!e.geocoded_by}(l)?(0,x.yq)({entityId:i,skipHistoryPush:c}):"point"===l.type?(0,k.W)({point:l.geocoded_by||l.point,shouldCenterMap:!0}):C({id:i,searchId:s,hash:l.hash,type:l.type,skipHistoryPush:c,entranceId:null===(a=l.context)||void 0===a?void 0:a.entrance_id,adsId:(0,S.J)(r),point:"geocoded_by"in l&&l.geocoded_by||"point"in l&&l.point||void 0,shouldFitEntityInMapView:d}):C({id:i,searchId:s,type:o,skipHistoryPush:c,hash:void 0,shouldFitEntityInMapView:d})}))));var M=r(59389),j=r(88835),T=r(27401);const N=(0,n.gQ)("openEntityCardFromPending",(e=>{const{entityId:t,frameId:r,statusId:i,searchId:s,clickPoint:o,gtaId:c,skipFetchEntity:l}=e;return(0,n.vP)((0,f.Mb)(r,(r=>!l&&r&&E({id:t,statusId:i,searchId:s,clickPoint:o,gtaId:(0,M.n)(r),adsId:e.adsId}))),(0,d.wN)({entityId:t},(i=>{if(!i.data)return;const o=i.data,l=(0,I.m)(o),u=l?l.id:t,m=l?l.type:o.type;return(0,f.Mb)(r,(t=>t&&(0,n.vP)((0,d.wN)({entityId:u},(t=>(0,j.d3)(r,(r=>({id:r.id,searchId:e.searchId,statusId:e.statusId,point:r.point,gtaId:c,type:"entity",entityId:u,entityType:m,tab:(0,T.R)(t.data||o)[0],isShowEntrance:!0,victimsId:r.victimsId,entranceId:r.entranceId}))))),(0,n.Mf)((0,h.eY)({id:u,type:m,searchId:s,frameId:r,entityReviewsSearchId:(0,a.by)(),orgReviewsSearchId:(0,a.by)(),unconfirmedOrgReviewsSearchId:(0,a.by)(),unconfirmedEntityReviewsSearchId:(0,a.by)()}),(0,g.A)({id:u,searchId:s}),p({id:u,searchId:s})))))})))}));var P=r(13310);const L=(0,n.gQ)("fetchEntityProfileWithCurrentViewpointIfNeeded",(e=>(0,P.D)((t=>(0,_.nM)({state:t,entityId:e.id})),w(e)))),F=(0,n.gQ)("fetchMultipleEntityProfileWithCurrentViewpoint",(e=>(0,f.zh)((t=>{if(!e.ids)return(0,n.ZT)();if(!e.experimentalPagination||e.ids.length<=100)return(0,v.py)({ids:e.ids,searchId:e.searchId,viewpoint:t,hash:e.hash});const r=[...e.ids],a=[];for(;r.length>0;)a.push(r.splice(0,100));return(0,n.Mf)(...a.map((r=>(0,v.py)({ids:r,searchId:e.searchId,viewpoint:t,hash:e.hash}))))}))))},43062:(e,t,r)=>{"use strict";r.d(t,{Uh:()=>w,Sb:()=>I,ls:()=>x});var n=r(81870),a=r(60218),i=r(31253),s=r(78438),o=r(59016),c=r(20585),l=r(10997),d=r(6212),u=r(89965),p=r(95610),m=r(6925),h=r(59554),g=r(11052),f=r(91437),v=r(96421),y=r(87007),b=r(69345);function w({id:e,tab:t,tabQuery:r,filterValues:a={},frameId:i,entityReviewsSearchId:s,orgReviewsSearchId:o}){return(0,n.Rh)((({featureReadOnly:c})=>(0,n.xJ)((n=>{const l=(0,u.nM)({state:n,entityId:e}),h=(0,f.iF)(n.appContext.frames,i),g=l&&l.data;if(!g)return;if(!h)return;if("entity"!==h.type)return;const v=(0,m.Q6)({state:n,entityId:e,entityReviewsSearchId:s,orgReviewsSearchId:o,featureReadOnly:c}),y=(0,d.d)(v,t||h.tab);return y?I({entityId:e,frameId:i,tab:y,buildingId:(0,p.V)(g),tabQuery:r,filterValues:a}):void 0}))))}const I=(0,n.gQ)("setEntityTab",(e=>{const{frameId:t,entityId:r,buildingId:o,tab:c,tabQuery:d="",filterValues:p={}}=e,m=!e.searchId;switch(c){case"inside":return o?m?(0,s.ZS)({frameId:t,buildingId:o,filterValues:p,query:d}):(0,l.me)(t,(e=>e.tabInside?Object.assign(Object.assign({},e),{tab:c,tabInside:Object.assign(Object.assign({},e.tabInside),{tabQuery:e.tabInside.query})}):e)):(0,n.ZT)();case"prices":{const e=r;return(0,n.Mf)((0,l.me)(t,(t=>Object.assign(Object.assign({},t),{tab:c,tabPrices:{searchId:e}}))),(0,h.gF)({categories:e=>(0,v.ch)({state:e,id:r})},(({categories:t})=>!t.meta&&(0,h._N)(g.O,(t=>(0,i.X)({branchId:r,offersSearchId:e,locale:t}))))))}case"realty":return(0,h.gF)({entity:e=>(0,u.nM)({state:e,entityId:r}).data},(({entity:e})=>{var a,i;const s="branch"===(null==e?void 0:e.type)&&(null===(i=null===(a=null==e?void 0:e.group)||void 0===a?void 0:a.find((e=>"building"===e.type)))||void 0===i?void 0:i.id)||r,o=s;return(0,n.Mf)((0,l.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c,tabRealty:Object.assign(Object.assign({},e.tabRealty),{geoId:s,searchId:o,page:1})}))),(0,y.$)({entityId:r,geoId:s,offersSearchId:o,page:1}))}));case"services":return o?m?E(t,o):(0,l.me)(t,(e=>{const t=e.tabServices?Object.assign(Object.assign({},e.tabServices),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabServices:t})})):(0,n.ZT)();case"providers":return o?m?C(t,o):(0,l.me)(t,(e=>{const t=e.tabProviders?Object.assign(Object.assign({},e.tabProviders),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabProviders:t})})):(0,n.ZT)();case"reviews":return(0,h.WW)(t,(e=>"entity"===e.type),(e=>{const i=!e.tabReviews;return(0,n.Mf)(i?(0,b.ah)({frameId:t,id:r,searchId:e.searchId,entityReviewsSearchId:(0,a.by)(),orgReviewsSearchId:(0,a.by)(),unconfirmedEntityReviewsSearchId:(0,a.by)(),unconfirmedOrgReviewsSearchId:(0,a.by)(),type:e.entityType}):(0,n.ZT)(),(0,l.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c}))))}));default:return(0,l.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c})))}})),E=(e,t)=>{const r=(0,a.by)(),i=(0,a.by)();return(0,n.vP)((0,l.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"services",tabServices:Object.assign(Object.assign({},e.tabServices),{searchId:r,gtaId:i,page:1})}))),k({buildingId:t,searchId:r,gtaId:i,page:1,withStandardPageSize:!0}))},C=(e,t)=>{const r=(0,a.by)(),i=(0,a.by)();return(0,n.vP)((0,l.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"providers",tabProviders:Object.assign(Object.assign({},e.tabProviders),{searchId:r,gtaId:i,page:1})}))),x({buildingId:t,searchId:r,gtaId:i,page:1,withStandardPageSize:!0}))},x=(0,n.gQ)("fetchFirmsProvidersWithCurrentViewpoint",(e=>(0,h.zh)((t=>(0,c.I)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t}))))),k=(0,n.gQ)("fetchFirmsMaintainersWithCurrentViewpoint",(e=>(0,h.zh)((t=>(0,o.r)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t})))))},69345:(e,t,r)=>{"use strict";r.d(t,{eY:()=>y,fE:()=>b,ah:()=>w});var n=r(81870),a=r(45436),i=r(10901),s=r(39662),o=r(10997),c=r(2615),l=r(74264),d=r(59554),u=r(11052),p=r(57052),m=r(89965),h=r(25437),g=r(43231),f=r(13310),v=r(62368);function y(e){const{id:t,type:r}=e;return(0,n.Rh)((({featureReadOnly:a,isSearchBot:i})=>a?(0,n.ZT)():(0,n.Mf)(i?w(e):(0,n.ZT)(),(0,n.XJ)((0,f.D)((e=>(0,m.XU)({state:e,entityId:t})),(0,d._N)(u.O,(e=>(0,v.k)({id:t,type:r,page:1,pageSize:4,locale:e}))))))))}function b(e,t,r,a,o,c){return(0,n.xJ)((d=>{var u,v;const y=(0,m.wj)({state:d,entityId:e,searchId:r});if(!y||!y.data||!(0,s.s)(y.data))return;const b=y.data,w=a.isOrg?"org":(0,l.J)(b)?"branch":"geo",I="org"===w&&(0,l.J)(b)?b.org.id:b.id,E=!!(null===(v=null===(u=b.ads)||void 0===u?void 0:u.options)||void 0===v?void 0:v.review),C=!!a.onlyAnswered||void 0;return(0,n.Mf)((0,i.B)({type:w,id:I,searchId:t,isAdvertiser:E,withAnswer:C,ratings:a.ratings,facts:c}),"geo"!==w&&(0,f.D)((0,h.UB)(I),(0,p.J)({id:I,isAdvertiser:E,type:w})),(0,g.WT)({entityId:e,frameId:o,orgId:a.isOrg?I:void 0}))}))}function w(e){const{id:t,searchId:r,frameId:u,entityReviewsSearchId:p,orgReviewsSearchId:m,unconfirmedOrgReviewsSearchId:h,unconfirmedEntityReviewsSearchId:f}=e;return(0,a.wN)({entityId:t,searchId:r},(e=>{var r,a,v;const y=e&&e.data;if(!y||!(0,s.s)(y))return;const b=(0,l.J)(y)&&!!(null===(r=y.reviews)||void 0===r?void 0:r.is_org_reviews)&&y.org.branch_count>1,w={entityReviewsSearchId:(0,c.Ue)(p),orgReviewsSearchId:(0,c.Ue)(m),unconfirmedOrgReviewsSearchId:h,unconfirmedEntityReviewsSearchId:f,isOrg:b,onlyAnswered:!1},I=(0,l.J)(y),E=(0,l.J)(y)?y.org.id:void 0,C=b&&E?"org":I?"branch":"geo",x=b?E:t,k=!!(null===(v=null===(a=y.ads)||void 0===a?void 0:a.options)||void 0===v?void 0:v.review),_="org"===C?m:p;return x?(0,n.Mf)((0,o.me)(u,(e=>Object.assign(Object.assign({},e),{tabReviews:w}))),(0,n.vP)((0,i.B)({id:x,type:C,isAdvertiser:k,searchId:_}),(0,d._N)((e=>{var t,r;return null===(r=null===(t=e.data.reviewSearch[_])||void 0===t?void 0:t.data)||void 0===r?void 0:r.total}),(e=>"branch"===C&&!e&&E?(0,i.B)({id:E,type:"org",isAdvertiser:k,searchId:m}):(0,n.ZT)()))),(0,g.Bf)({entityId:t})):void 0}))}},67758:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(45436),a=r(81870),i=r(97205),s=r(85594);function o({id:e,searchId:t}){return(0,n.wN)({entityId:e,searchId:t},(t=>{var r,n,o,c,l;const d=t.data;if(!d||"branch"!==d.type)return(0,a.ZT)();const u=null===(o=null===(n=null===(r=null==d?void 0:d.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.videos)||void 0===o?void 0:o[0],p=null===(c=(0,s.A)(d))||void 0===c?void 0:c.adsBuyHere,m=(null===(l=null==p?void 0:p.videos)||void 0===l?void 0:l[0])||u;return m?(0,i.o)({id:e,videoUrl:m.resources_description_url}):(0,a.ZT)()}))}},98559:(e,t,r)=>{"use strict";r.d(t,{L:()=>g});var n=r(81870),a=r(59554),i=r(93019),s=r(88073),o=r(71846),c=r(90961),l=r(86741),d=r(76457),u=r(60218),p=r(15402),m=r(45436),h=r(58521);const g=(0,n.gQ)("openFavoriteItem",(e=>{const{type:t,favoriteId:r,shouldCenterMap:g=!0}=e,f="private"===t?i.PP:s.jM;return(0,a._N)(f(r),(e=>{if(!e)return(0,n.ZT)();const t=e.point||e.source_point;if(e.object_id&&e.object_type){const r=(0,u.by)(),a=(0,u.by)(),i=(0,u.by)(),s=(0,u.by)(),c=e.object_id;return(0,m.wN)({entityId:c},(l=>{var u,m;const f=(0,h.m)(l.data);return!l.data||f&&f.id!==c?(0,n.vP)((0,d.HP)({frameId:r,gtaId:a,point:t,searchId:i,statusId:s}),(0,o.WZ)({entityId:c,frameId:r,statusId:s,searchId:i,gtaId:a}),g&&(0,p.vr)({entityId:c})):(0,o.xo)({id:null!==(u=null==f?void 0:f.id)&&void 0!==u?u:c,type:null!==(m=null==f?void 0:f.type)&&void 0!==m?m:e.object_type,shouldFitEntityInMapView:g,point:t})}))}return t?(0,n.vP)((0,c.BN)(),(0,l.W)({point:t,shouldCenterMap:g})):(0,n.ZT)()}))}))},16205:(e,t,r)=>{"use strict";r.d(t,{B:()=>d});var n=r(81870),a=r(97013),i=r(22491),s=r(59554),o=r(75873),c=r(95207),l=r(60218);const d=(0,n.gQ)("createCollection",(e=>{const{title:t,color:r,collectionId:d=(0,l.by)(),skipSync:u,isDefault:p,order:m}=e;return(0,s._N)(o.Z_,(e=>{const s=e.admDiv.data,o=e.project.data,l=s&&s.regionId||o&&o.id,h=s&&s.segmentId,g=(0,c.g)(l,h),f={id:d,type:"collection",color:r,collection_id:d,title:t,project_id:[g],is_default:p,order:m};return(0,n.vP)((0,a.D)({[d]:f}),u?(0,n.ZT)():(0,i.K)())}))}))},66834:(e,t,r)=>{"use strict";r.d(t,{d:()=>h});var n=r(45436),a=r(97013),i=r(60218),s=r(81870),o=r(59554),c=r(60404),l=r(95207),d=r(37360),u=r(13710),p=r(71846),m=r(89964);const h=(0,s.gQ)("createItemInCollection",(e=>{const{collectionId:t,item:r}=e;return(0,s.vP)((0,p.wk)({id:r.object_id,searchId:void 0}),(0,o._N)((0,u.vE)(t),(e=>{if(e.find((e=>(0,d.G)(e,r))))return(0,s.ZT)();const o=(0,i.by)();return"point"===r.object_type?(0,a.D)({[o]:g({itemId:o,collectionId:t,entity:{type:"point",point:r.point},point:r.point})}):(0,n.wN)({entityId:r.object_id},(e=>{const n=e.data;return n?(0,a.D)({[o]:g({itemId:o,collectionId:t,entity:n,point:r.point})}):(0,s.ZT)()}))})))}));function g(e){const{itemId:t,collectionId:r,entity:n,point:a}=e;return"point"===n.type?{id:t,collection_id:r,type:"favorite",project_id:[c.bw],point:a,source_point:a}:{id:t,collection_id:r,type:"favorite",object_id:n.id,object_type:n.type,project_id:[(0,l.g)(n.region_id,n.segment_id)],point:a,source_data:JSON.stringify((0,m.q)(n)),source_point:a,system_create_time:String(Date.now())}}},97013:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(59554),a=r(6071);function i(e){return(0,n._N)((e=>e.data.favoritesPersonal.sync),(t=>(0,a.D)({sync:t,objects:e})))}},22491:(e,t,r)=>{"use strict";r.d(t,{K:()=>l});var n=r(61274),a=r(59554),i=r(81870),s=r(31063),o=r(40805),c=r(64724);function l(){return(0,a._N)((e=>e.data.favoritesPersonal.sync),(e=>(0,c.M)((0,i.vP)((0,n.K)({sync:e}),(0,i.xJ)((e=>{const t=e.appContext.frames.find(s.f);return t?(0,o.R)(t.subtype,t.collectionId,t.visibleItemsLimit):(0,i.ZT)()}))))))}},5615:(e,t,r)=>{"use strict";r.d(t,{s:()=>d});var n=r(4678),a=r(59554),i=r(81870),s=r(1005),o=r(45436),c=r(20999),l=r(71846);function d(){return(0,a._N)((e=>e.data.favoritesPlaces.sync),(e=>(0,i.vP)((0,n.s)({sync:e}),(0,i.xJ)((e=>{const t=e.data.favoritesPlaces.objects,r=(0,s.s0)(t).map((e=>e&&e.object_id));if(0===r.length)return(0,i.ZT)();const n=r.map((e=>e?(0,o.wN)({entityId:e},(t=>(0,c.G)(t)?(0,l.DZ)({id:e,searchId:void 0}):(0,i.ZT)())):(0,i.ZT)()));return n.length>0?(0,i.Mf)(...n):(0,i.ZT)()})))))}},95969:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(59554),a=r(75873),i=r(9173),s=r(81870);function o(){return(0,n.gF)({projectId:a.yH,countryCode:e=>e.config.defaultCountryCode.toLowerCase(),sync:e=>e.data.favoritesPublic.sync},(({projectId:e,countryCode:t,sync:r})=>e?(0,i.gM)({projectId:e,countryCode:t,sync:r}):(0,s.ZT)()))}},89964:(e,t,r)=>{"use strict";r.d(t,{q:()=>a});var n=r(1005);function a(e){if("type"in e)return Object.assign(Object.assign({},(0,n.ei)(e,["access_comment","access","address_comment","address","adm_div","authors","barrier","building_name","capacity","comment","contact_groups","dates","description","floors","from_name","group","is_incentive","is_paid","level_count","name_ex","name","purpose_name","purpose","rubrics","subtype_specification","subtype","to_name","type"])),"org"in e?{org:{id:e.org.id}}:{})}},35914:(e,t,r)=>{"use strict";r.d(t,{e:()=>l});var n=r(81870),a=r(2615),i=r(2774),s=r(11052),o=r(75873),c=r(97883);const l=(0,n.gQ)("fetchDashboardGTA",(()=>(0,n.Rh)((e=>(0,n.xJ)((t=>{if(!e.featureDashboardGTA)return;const r=(0,s.O)(t),n=(0,o.fq)(t),l=(0,c.ls)(t);return(0,i.e)({gtaId:(0,a.sG)(t.appContext.weak.dashboard.transitions.gtaId),locale:r,viewport:l,regionId:l?void 0:n})}))))))},22147:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(88348);function a(){return(0,n.Kn)({type:"map:hint",event:void 0})}},90961:(e,t,r)=>{"use strict";r.d(t,{BN:()=>m,dc:()=>h,BJ:()=>g});var n=r(43858),a=r(6104),i=r(81870),s=r(65002),o=r(18521),c=r(67551),l=r(94822),d=r(9452),u=r(75873);function p(e){return{appContext:Object.assign(Object.assign({},e.appContext),{weak:void 0})}}const m=e=>{const t=(0,i.xJ)((e=>(0,n.O8)({url:(0,a.M)((0,s.V)(e)),state:p(e)})));return e?(0,i.vP)(t,e):t},h=e=>(0,i.xJ)((t=>(0,i.vP)((0,n.lO)({appContext:Object.assign(Object.assign({},e.appContext),{weak:t.appContext.weak})}),(0,d.xU)({suggesterKey:"primary",query:void 0}),(0,d.xU)({suggesterKey:"inbuilding",query:void 0}),(0,i.Mf)((0,c.G)(),(0,o.en)()))));function g(e,t){const r=p(e);return t&&(0,l.w)(r.appContext,p(t).appContext)&&(0,u.k2)(e)===(0,u.k2)(t)&&t.appContext.weak.showSlugsNeededOnlyForStartup===e.appContext.weak.showSlugsNeededOnlyForStartup?{url:void 0,historyState:void 0}:{url:(0,a.M)((0,s.V)(e)),historyState:r}}},21575:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(81870),a=r(59554),i=r(15402);const s=e=>{switch(e){case"parkings":return(0,n.XJ)("parkings"===e?(0,a._N)((e=>e.appContext.zoom),(e=>e<15.5?(0,i.Nr)({zoom:15.5}):(0,n.ZT)())):(0,n.ZT)());default:return(0,n.ZT)()}}},18533:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var n=r(81870),a=r(36623),i=r(20309),s=r(90363),o=r(43231),c=r(5958);const l=(0,n.gQ)("logout",(()=>(0,n.vP)((0,n.Mf)((0,i.e)(),(0,a.I)(),(0,c.Y)(),(0,s.K)({}),(0,o.A0)()),(0,n.PQ)((()=>{var e;"undefined"!=typeof window&&(null===(e=window.sdk)||void 0===e||e.logout({reload:!0}))})))))},15402:(e,t,r)=>{"use strict";r.d(t,{vr:()=>x,KO:()=>_,_4:()=>E,E2:()=>S,$x:()=>k,Nr:()=>C});var n=r(56372),a=r(81870),i=r(18521),s=r(90961),o=r(45436),c=r(59554),l=r(97883),d=r(9007),u=r(2613),p=r(92291),m=r(24973),h=r(6002),g=r(91437),f=r(75873),v=r(68411),y=r(40597),b=r(71846);var w=r(29782),I=r(87140);function E(e){return(0,a.Yz)("setMapViewManually")((0,s.BN)(),C(e))}function C(e){return(0,a.Yz)("updateMapView")((0,n.xN)({center:e.lon&&e.lat?[e.lon,e.lat]:void 0,zoom:e.zoom,rotation:e.rotation,pitch:e.pitch,duration:e.duration,easing:e.easing,animate:e.animate}))}const x=(0,a.gQ)("fitEntityInMapView",(e=>(0,a.vP)((0,b.wk)({id:e.entityId,searchId:void 0}),(0,o.wN)({entityId:e.entityId},((e,t)=>{const r=e.data;if(r){if(function(e){var t;return"adm_div"===e.type&&"city"===e.subtype&&(null===(t=e.flags)||void 0===t?void 0:t.is_default)}(r))return(0,a.vP)((0,i.sz)(t,r.region_id),(0,a.xJ)((e=>{const t=(0,w.D4)({state:e,id:r.region_id}),n=t&&t.data?t.data.default_pos:void 0;return n?C(n):(0,a.ZT)()})));{const e=(0,I.B)({entity:r,state:t});return e?C(e):(0,a.ZT)()}}}))))),k=(0,a.gQ)("updateAfterMapViewChange",(({center:e=[],rotation:t,pitch:r,zoom:s})=>(0,c._N)(l.Hr,(o=>(0,a.vP)(_(),(0,n.xn)({lon:e[0],lat:e[1],zoom:s,rotation:t,pitch:r}),(0,c.gF)({mapOutviewportFlightEmitted:e=>e.appContext.weak.mapOutviewportFlightEmitted},(({mapOutviewportFlightEmitted:e})=>e?(0,a.vP)((0,u.yy)({mapOutviewportFlightEmitted:!1}),(0,a.XJ)((0,a.vP)((0,y.lD)({update:!0}),S()))):(0,d.t)({prevZoom:o,afterMapViewChange:!0}))),(0,c._N)((e=>(0,f.Z_)(e).admDiv.data),(e=>(0,a.vP)((0,i.en)(),(0,v.Mh)(e)))),(0,n.og)()))))),_=(0,a.gQ)("onceMapInteractionStart",(()=>(0,a.XJ)((0,a.xJ)((e=>e.appContext.weak.mapInteractionStarted?(0,a.ZT)():(0,u.QT)()))))),O=(0,a.gQ)("setMapViewToMarkersOnFloor",(e=>(0,c.gF)({currentZoom:e=>e.appContext.zoom,rotation:e=>e.appContext.rotation,offset:l.v9,screen:e=>e.session.screen,searchFrame:e=>(0,g.Di)(e.appContext.frames)},(({currentZoom:t,rotation:r,offset:i,screen:s,searchFrame:o})=>{if(!o||"inbuilding"!==o.searchType)return(0,a.ZT)();const c=(0,h.o)(s,i),l=(0,m.getCenterZoomByPoints)(e.map((e=>e.point)),r,[c.width,c.height]);if(!l)return(0,a.ZT)();const{center:d,zoom:u}=l;return(0,n.xN)({center:d,zoom:u<t&&u>=17?u:t})})))),S=(0,a.gQ)("switchFloorIfNoMarkersOnCurrent",(()=>(0,c.gF)({markersOnFloors:l.S,currentFloor:e=>e.appContext.floors&&e.appContext.floors.currentFloor},(({markersOnFloors:e,currentFloor:t})=>{if(!e)return(0,a.ZT)();if(void 0!==t&&e[t]&&e[t].length>0)return O(e[t]);const r=(0,p.M)(e);return void 0!==r?(0,a.vP)((0,n.EL)({floorIndex:r}),O(e[r])):(0,a.ZT)()}))))},17041:(e,t,r)=>{"use strict";r.d(t,{f1:()=>E,jo:()=>C,Hi:()=>x,Xy:()=>O,_d:()=>S});var n=r(81870),a=r(60218),i=r(88835),s=r(90961),o=r(31253),c=r(96421),l=r(59554),d=r(11052),u=r(97883),p=r(2615),m=r(68864),h=r(10997),g=r(86757),f=r(60404),v=r(54917),y=r(123),b=r(45436),w=r(20999),I=r(71846);function E({offersFrameId:e,branchId:t,branchSearchId:r=f.Mt,query:s=""}){const u=(0,a.by)(),v=(0,a.by)(),y=(0,a.by)();return(0,l._N)((e=>e.appContext.frames.find(g.n)),(a=>a?(0,n.vP)((0,h.Bc)(e,(e=>Object.assign(Object.assign({},e),{page:(0,p.Ue)(1),searchId:u,filtersId:(0,p.gg)(e.filtersId,y),query:s,statusId:v,branchId:t,branchSearchId:r,filterValues:void 0}))),(0,i.P2)({id:e}),(0,l._N)((e=>(0,d.O)(e)),(e=>(0,o.V1)({branchId:t,offersSearchId:u,filtersId:y,query:s,page:1,locale:e,statusId:v}))),(0,l._N)((e=>(0,c.O9)({state:e,filtersId:y})),(t=>!!t&&!!t.meta&&"success"===t.meta.status&&(0,l.WW)(e,m.i,(e=>(0,h.Bc)(e.id,(t=>Object.assign(Object.assign({},t),{filtersId:(0,p._e)(e.filtersId)}))))))),(0,l._N)((e=>(0,c.ch)({state:e,id:u})),(e=>!!e&&!!e.data&&(0,g.c)(a.id,(e=>Object.assign(Object.assign({},e),{categoryId:void 0,offersSearchId:u,query:s})))))):(0,n.ZT)()))}function C({branchId:e,branchSearchId:t=f.Mt,categoryId:r}){const s=(0,a.by)(),u=(0,a.by)(),v=(0,a.by)(),b=r?(0,y.X)({valueType:"single",value:r,isChecked:!0,name:"category_ids"}):void 0;return(0,l.gF)({catalogFrame:e=>e.appContext.frames.find(g.n),offersFrame:e=>e.appContext.frames.find(m.i)},(({catalogFrame:f,offersFrame:y})=>{if(!f)return(0,n.ZT)();const w=y?y.id:(0,a.by)(),I=y&&y.query||"";return(0,n.vP)((0,g.c)(f.id,(e=>r===e.categoryId?e:Object.assign(Object.assign({},e),{categoryId:r}))),y?(0,h.Bc)(w,(r=>Object.assign(Object.assign({},r),{page:(0,p.Ue)(1),searchId:s,filtersId:(0,p.gg)(r.filtersId,v),statusId:u,branchId:e,branchSearchId:t,filterValues:b}))):(0,i.Jt)({id:w,type:"search",searchType:"offers",searchId:s,filtersId:(0,p.Ue)(v),query:I,filterValues:b,statusId:u,branchId:e,branchSearchId:t,filterPanelState:"auto",page:(0,p.Ue)(1)}),(0,i.P2)({id:w}),(0,l._N)((e=>(0,d.O)(e)),(t=>(0,o.V1)({branchId:e,offersSearchId:s,filtersId:v,query:I,page:1,locale:t,statusId:u,filters:b}))),y&&(0,l._N)((e=>(0,c.O9)({state:e,filtersId:v})),(e=>!!e&&!!e.meta&&"success"===e.meta.status&&(0,l.WW)(w,m.i,(e=>(0,h.Bc)(e.id,(t=>Object.assign(Object.assign({},t),{filtersId:(0,p._e)(e.filtersId)}))))))))}))}function x({frameId:e,filterValues:t,query:r="",parentSearchId:d,buildingId:u,viewpoint:m}){const g=(0,a.by)(),f=(0,a.by)(),y=(0,a.by)();return(0,n.vP)((0,s.BN)(),(0,i.P2)({id:e}),(0,n.vP)((0,h.iD)(e,(e=>Object.assign(Object.assign({},e),{tab:"market",statusId:f,tabMarket:Object.assign(Object.assign({},e.tabMarket),{searchId:g,viewpoint:m,markersId:u?e.tabMarket.markersId:(0,p.Ue)(g),buildingId:u,parentSearchId:d,filtersId:(0,p.gg)(e.tabMarket.filtersId,y),filterValues:t,page:(0,p.Ue)(1)})}))),(0,n.Mf)((0,o.g7)({query:r,searchId:g,filtersId:y,buildingId:u,page:1,viewpoint:m,filters:t}),S({query:r,filterValues:t,viewpoint:m,building_id:u}),!!u&&(0,b.wN)({entityId:u},(e=>{if((0,w.G)(e))return(0,I.DZ)({id:u,hash:(0,a._G)(u),searchId:void 0})}))),(0,l.WW)(e,v.E,(t=>"market"===t.tab&&(0,p.sG)(t.tabMarket.filtersId)===y&&(0,l.gF)({actualFilters:e=>(0,c.O9)({state:e,filtersId:(0,p.Gp)(t.tabMarket.filtersId)}),intendedFilters:e=>(0,c.O9)({state:e,filtersId:y})},(({actualFilters:r,intendedFilters:n})=>{const a=k(n);return(0,h.iD)(e,(e=>Object.assign(Object.assign({},e),{tabMarket:Object.assign(Object.assign({},t.tabMarket),{filtersId:a?(0,p._e)(t.tabMarket.filtersId):(0,p.d1)(t.tabMarket.filtersId),filterValues:_(e.tabMarket.filterValues,a?n:r)})})))}))))))}function k(e){return!!(e&&e.meta&&"success"===e.meta.status&&e.data&&e.data.filters&&e.data.filters.main&&e.data.filters.main.length)}function _(e,t){var r,n,a;if(!e||"success"!==(null===(r=null==t?void 0:t.meta)||void 0===r?void 0:r.status))return e;const i=null===(a=null===(n=t.data)||void 0===n?void 0:n.filters)||void 0===a?void 0:a.main;if(!(null==i?void 0:i.length))return{};const s=Object.assign({},e),o=i.map((e=>e.tag));let c=!1;return Object.keys(e).forEach((e=>{"category_ids"===e||o.includes(e)||(c=!0,delete s[e])})),c?s:e}function O({frameId:e,filterValues:t,branchId:r,query:u}){const g=(0,a.by)(),f=(0,a.by)(),v=(0,a.by)();return(0,n.vP)((0,s.BN)(),(0,h.Bc)(e,(e=>Object.assign(Object.assign({},e),{statusId:v,searchId:g,filtersId:(0,p.gg)(e.filtersId,f),filterValues:t,page:(0,p.Ue)(1)}))),(0,i.P2)({id:e}),(0,l._N)(d.O,(e=>(0,o.V1)({branchId:r,offersSearchId:g,filtersId:f,query:u,page:1,locale:e,filters:t}))),(0,l.WW)(e,m.i,(t=>(0,p.sG)(t.filtersId)===f&&(0,l.gF)({actualFilters:e=>(0,c.O9)({state:e,filtersId:(0,p.Gp)(t.filtersId)}),intendedFilters:e=>(0,c.O9)({state:e,filtersId:f})},(({actualFilters:r,intendedFilters:n})=>{const a=k(n);return(0,h.Bc)(e,(e=>Object.assign(Object.assign({},e),{filtersId:a?(0,p._e)(t.filtersId):(0,p.d1)(t.filtersId),filterValues:_(e.filterValues,a?n:r)})))})))))}function S(e){const{query:t,filterValues:r,viewpoint:a,building_id:i}=e;return(0,n.xJ)((e=>{const n=(0,u.KC)(e),s=n&&!!(0,c.BV)({state:e,searchId:(0,p.Gp)(n)});if(n&&!s)return(0,o.tp)({query:t,searchId:(0,p.Gp)(n),viewpoint:a,locale:(0,d.O)(e),filters:r,building_id:i})}))}},78263:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(59554),a=r(87776),i=r(32307);const s=e=>(0,n._N)((e=>{var t;return!(!(null===(t=e.appContext)||void 0===t?void 0:t.popup)||!("requireConfirmationOnClose"in e.appContext.popup))&&!!e.appContext.popup.requireConfirmationOnClose}),(t=>t?(0,i.$)((t=>(0,a.R)(t.tp._t("Закрыть окно? Ваши изменения не сохранятся"),e))):e()))},48618:(e,t,r)=>{"use strict";r.d(t,{Jd:()=>I,L:()=>b,Nm:()=>w});var n=r(63792),a=r(5851),i=r(60218),s=r(81870),o=r(45436),c=r(76608),l=r(98374),d=r(32307);function u(e){switch(e){case"branch":case"geo":case"profile":return e;default:return"geo"}}var p=r(59554),m=r(40333),h=r(31880),g=r(91437),f=r(11052),v=r(40388),y=r(62368);function b(e){return(0,a.m)((0,n.Mw)({id:(0,i.by)(),type:"photoUploader",entityId:e.entityId,searchId:e.searchId}))}const w=(0,s.gQ)("removePhoto",(e=>(0,p.gF)({userId:m.b1,oldPhoto:t=>(0,h.h)({state:t,id:e})},(({userId:t,oldPhoto:r})=>{if(!r.data||r.data.temporary)return(0,s.ZT)();const n=r.data.object;return n&&"profile"!==n.type?(0,s.vP)((0,v.z)({entityId:n.id,entityType:u(n.type),photoId:e,userId:t}),(0,o.KM)(e,(e=>e.data?(0,d.$)((({tp:e})=>(0,c.c)((0,l.v)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):void 0))):(0,s.ZT)()}))));function I(){return(0,p.gF)({galleryFrame:e=>(0,g.t0)(e.appContext.frames,"gallery"),entityFrame:e=>(0,g.t0)(e.appContext.frames,"entity"),dataLocale:f.O},(({galleryFrame:e,entityFrame:t,dataLocale:r})=>e?(0,y.k)({id:e.entityId,type:e.entityType,page:1,locale:r}):t?(0,y.k)({id:t.entityId,type:t.entityType,page:1,pageSize:4,locale:r}):(0,s.ZT)()))}},44027:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(81870),a=r(90961),i=r(63792),s=r(60218);function o(e,t){return(0,n.Mf)((0,a.BN)(),(0,i.Mw)({id:(0,s.by)(),type:"feedback",subtype:e,rating:t}))}},45578:(e,t,r)=>{"use strict";r.d(t,{h:()=>f});var n=r(81870),a=r(59554),i=r(76997),s=r(90057),o=r(88835),c=r(90961),l=r(39206),d=r(78921),u=r(45436),p=r(2910),m=r(95079),h=r(52534),g=r(91437);const f=(0,n.gQ)("closeRealtyFrames",(()=>(0,a.gF)({frame:e=>e.appContext.frames[0],realtyFrame:e=>(0,g.t0)(e.appContext.frames,"realty")},(({frame:e,realtyFrame:t})=>t?(0,i.yb)(e)?(0,n.vP)((0,o.t7)({id:e.id}),(0,d.C)((0,s.nv)((e=>(null==e?void 0:e.entity)&&"building"===e.entity.type?e.suggestId?(0,u.wN)({entityId:e.suggestId},(t=>!(null==t?void 0:t.data)||(0,p.N)(t.data)?(0,l.T)():(0,l.T)({entity:{id:t.data.id,type:t.data.type},suggestId:null==e?void 0:e.suggestId}))):(0,l.T)():(0,n.ZT)())))):(0,m.B)(e)&&t.previousRealtyId?(0,h.i)({realtyId:t.previousRealtyId}):(0,s.Bg)(e)?e.entity&&"building"===e.entity.type?(0,l.T)():(0,c.BN)((0,o.xO)()):(0,c.BN)((0,o.t7)({id:e.id})):(0,d.a)((0,l.T)())))))},18521:(e,t,r)=>{"use strict";r.d(t,{en:()=>z,sz:()=>O,ly:()=>M});var n=r(81870),a=r(11575);(0,n.gQ)("setRegionDetector",((e,t)=>(0,a.k8)({id:null==t?void 0:t.id,name:(null==t?void 0:t.name)||e.name,regionId:e.id,type:"adm_div.city",countryCode:e.country_code,overlapRegionId:e.id,allowChangeDomain:!0})));var i=r(29782),s=r(99116),o=r(75873),c=r(6002),l=r(60634),d=r(68411),u=r(5657),p=r(59554),m=r(26162),h=r(11052),g=r(82225);const f=(0,n.gQ)("trackAudienceCounter",(e=>(0,n.XJ)((0,p._N)(h.O,(t=>(0,m.u9)({payload:{audienceCounter:{counterType:"launch",link:window.location.href,referrer:"2gis",segmentInfo:{segmentId:e,baseLocale:"0"===e?void 0:t}}}}))))));var v=r(65002),y=r(6104),b=r(11883),w=r(97883),I=r(60218),E=r(29627),C=r(95969),x=r(14693);var k=r(60404);function _(){return(0,n.xJ)((e=>{const t=(0,o.Z_)(e).admDiv;if((0,x.e)(e.appContext.zoom))return(0,a.HV)();const r=e.appContext.center,i=(0,w.v9)(e),l=(0,c.o)(e.session.screen,i);if(0===l.width||0===l.height)return(0,n.ZT)();const d=e.appContext.pitch,u=e.appContext.rotation,p={width:Math.round(l.width/2),height:Math.round(l.height/2)},m=Math.round(e.appContext.zoom),h=(0,s.d)({center:r,zoom:m,mapSize:p,pitch:d,rotation:u});return(0,n.vP)((0,a.R)({geometry:h,searchId:k.Iv,zoomLevel:m}),(0,n.xJ)((e=>{const r=(0,o.kG)(e),n=r&&r.data;if(n&&(!t.data||t.data.id!==n.id))return O(e,n.regionId)})))}))}function O(e,t){if(t&&!(0,i.D4)({id:t,state:e}))return(0,a.TU)({id:t})}const S=(0,n.gQ)("countryDomainRedirectOnClient",(()=>(0,n.XJ)((0,n.Rh)((e=>(0,p._N)((t=>(0,o.g2)(t,window.location.hostname,e.isCountryRedirectsEnabled,e.enabledDomains)),(e=>!!e&&(0,p._N)((e=>(0,y.M)((0,v.V)(e).filter((e=>"mapview"===e.type)))),(t=>(0,b.k)({url:`${e}${t}`,name:"_self"})))))))))),z=(0,n.gQ)("detectRegionWithPostEffects",(()=>(0,p._N)((e=>(0,o.Z_)(e).admDiv.data),(e=>(0,n.vP)(_(),S(),(0,d.Oc)(),(0,u.VV)(),(0,u.Du)(),(0,p._N)((e=>(0,o.Z_)(e).admDiv.data),(t=>function(e,t){return t?(0,g.f)(e,t,"overlapRegionId")?f(t.overlapRegionId):(0,n.ZT)():e&&"0"!==e.overlapRegionId?f("0"):(0,n.ZT)()}(e,t))),(0,E.k)(),(0,p._N)((e=>(0,o.yH)(e)),(t=>(!e||e.regionId!==t)&&(0,C.A)()))))))),M=(0,n.gQ)("savePositionToCookie",(({lon:e,lat:t,zoom:r})=>(0,l.d)({name:"pos",value:[(0,I.DB)(e),(0,I.DB)(t),(0,I.DB)(r,2)].join(";")})))},5851:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(81870),a=r(59554),i=r(40333);const s=e=>"undefined"==typeof window?(0,n.ZT)():(0,a.gF)({isLoggedIn:i.Pc,isIE:e=>e.session.isIE},(({isLoggedIn:t,isIE:r})=>{if(t&&e)return e;window.__actionAfterLogin=e;const a=new URL(window.location.href);return a.pathname="/authorize"+a.pathname,window.sdk.ui({type:r?"current":"popup",redirectUrl:a.toString()}),(0,n.ZT)()}))},43231:(e,t,r)=>{"use strict";r.d(t,{kP:()=>T,Ir:()=>F,rQ:()=>j,WT:()=>R,Bf:()=>L,A0:()=>D,PN:()=>P,fL:()=>N});var n=r(45436),a=r(32307),i=r(40779),s=r(76608),o=r(98374),c=r(87776),l=r(81870),d=r(60218),u=r(88835),p=r(31940),m=r(63792),h=r(71846),g=r(59554),f=r(91437),v=r(40333),y=r(51187),b=r(49818),w=r(20999),I=r(89965),E=r(39662),C=r(10997),x=r(2615),k=r(10901),_=r(74264);function O(e){return"unconfirmedReviews"===e.type}var S=r(13310),z=r(95079),M=r(20749);const j=(0,l.gQ)("fetchPinnedUserReviewsByEntityId",(e=>(0,g._N)(v.b1,(t=>t?(0,b.r)({userId:t,entityId:e}):(0,l.ZT)())))),T=(0,l.gQ)("editReview",(e=>{const{reviewId:t,searchId:r}=e;return(0,n.f3)(t,(e=>{var n,a;const i=!(null===(n=e.data)||void 0===n?void 0:n.temporary)&&(null===(a=e.data)||void 0===a?void 0:a.object.id);return i?(0,l.vP)((0,h.wk)({id:i,searchId:r}),(0,m.Mw)({id:(0,d.by)(),type:"editReview",entityId:i,searchId:r,reviewId:t})):(0,l.ZT)()}))})),N=(0,l.gQ)("removeReview",(e=>(0,n.f3)(e,(t=>{const r=null==t?void 0:t.data;return r?(0,g.gF)({removableFrameId:e=>{var t;return null===(t=(0,f.t0)(e.appContext.frames,"currentReview"))||void 0===t?void 0:t.id},userId:e=>(0,v.b1)(e),frameEntity:e=>(0,f.t0)(e.appContext.frames,"entity"),frameRealtyCard:e=>(0,f.t0)(e.appContext.frames,"realtyCard")},(({removableFrameId:t,userId:p,frameEntity:m,frameRealtyCard:h})=>{const g=m?(0,y.l)(m,"reviews","actual"):null==h?void 0:h.reviewSearchId;return p?(0,a.$)((({tp:a})=>(0,c.R)(a._t("Удалить отзыв? Это действие нельзя отменить."),(()=>{const c=(0,d.by)(),m=r.temporary?void 0:r.object.id;return(0,l.vP)((0,i.Hg)({id:e,userId:p,statusId:c,searchId:g,entityId:m}),(0,n.$c)(c,(e=>e&&"success"===e.meta.status?(0,l.vP)((0,s.c)((0,o.V)({title:a._t("Готово"),message:a._t("Отзыв удалён!")})),!!t&&(0,u.t7)({id:t}),!!m&&j(m)):(0,s.c)((0,o.v)({title:a._t("Что-то пошло не так"),message:a._t("Не удалось удалить отзыв, попробуйте позднее.")})))))})))):(0,l.ZT)()})):(0,l.ZT)()})))),P=(0,l.gQ)("removeComment",(e=>{const{commentId:t,reviewId:r}=e;return(0,a.$)((({tp:e})=>(0,c.R)(e._t("Удалить комментарий к отзыву? Это действие нельзя отменить."),(()=>{const a=(0,d.by)();return(0,l.vP)((0,p.VM)({id:t,reviewId:r,statusId:a}),(0,n.$c)(a,(t=>t&&"success"===t.meta.status?(0,s.c)((0,o.V)({title:e._t("Готово"),message:e._t("Комментарий к отзыву удалён!")})):(0,s.c)((0,o.v)({title:e._t("Что-то пошло не так"),message:e._t("Не удалось удалить комментарий к отзыву, попробуйте позднее.")})))))}))))})),L=(0,l.gQ)("fetchUserPinnedReviewsIfNeeded",(e=>(0,l.XJ)((0,g.gF)({userId:v.b1,entity:t=>(0,I.nM)({state:t,entityId:e.entityId})},(({userId:t,entity:r})=>r.data&&(0,E.s)(r.data)&&t?(0,S.D)((0,v.Mq)(e.entityId),(0,b.r)({entityId:e.entityId,userId:t})):(0,l.ZT)()))))),F=(0,l.gQ)("ensureUnconfirmedReviews",(e=>(0,l.XJ)((0,l.xJ)((t=>{const{entityId:r,searchId:n,frameId:a,orgId:i}=e,s=(0,f.t0)(t.appContext.frames,"entity"),o=n?t.data.reviewSearch[n]:void 0;return(0,w.G)(o)&&s&&"reviews"===s.tab&&"branch"===s.entityType&&R({entityId:r,frameId:a,orgId:i})}))))),R=(0,l.gQ)("fetchUnconfirmedReviewsOnClient",(e=>{const{entityId:t,frameId:r,orgId:a}=e;return(0,l.xJ)((e=>{var i,s,o;const c=(0,f.iF)(e.appContext.frames,r);if(c&&(0,z.B)(c)){const u=(null===(i=c.tabReviews)||void 0===i?void 0:i.unconfirmedEntityReviewsSearchId)||(0,d.by)(),p=(null===(s=c.tabReviews)||void 0===s?void 0:s.unconfirmedOrgReviewsSearchId)||(0,d.by)(),m=a?p:u;return(m?null===(o=e.data.reviewSearch[m])||void 0===o?void 0:o.data:void 0)?(0,l.xJ)((e=>{const t=(0,f.t0)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,C.Yq)(t.id,O,(e=>Object.assign(Object.assign({},e),{searchId:m})))})):(0,n.wN)({entityId:t},(e=>{const n=null==e?void 0:e.data;if(n&&(0,_.J)(n))return(0,l.vP)((0,C.me)(r,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{unconfirmedEntityReviewsSearchId:u,unconfirmedOrgReviewsSearchId:p}):void 0}))),(0,l.xJ)((e=>{const t=(0,f.t0)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,C.Yq)(t.id,O,(e=>Object.assign(Object.assign({},e),{searchId:m})))})),(0,k.B)({id:a||t,type:a?"org":"branch",searchId:m,unconfirmed:!0}))}))}return(0,l.ZT)()}))})),H=(0,l.gQ)("refetchReviewsOnClientIfUserLoggedIn",(e=>(0,n.wN)({entityId:e.entityId,searchId:e.searchId},(t=>{var r,n;if(!t.data||!(0,E.s)(t.data))return(0,l.ZT)();const a=(0,d.by)();return(0,l.vP)((0,C.me)(e.frameId,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{entityReviewsSearchId:(0,x.Ue)(a)}):void 0}))),(0,k.B)({id:t.data.id,type:"branch"!==t.data.type?"geo":"branch",isAdvertiser:!!(null===(n=null===(r=t.data.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.review),searchId:a}))}))));function D(){return(0,g.gF)({entityFrame:e=>(0,f.t0)(e.appContext.frames,"entity"),realtyFrame:e=>(0,f.t0)(e.appContext.frames,"realtyCard")},(({entityFrame:e,realtyFrame:t})=>{if(e)return(0,l.vP)((0,l.Dc)(1e3),(0,l.Mf)(H({entityId:e.entityId,frameId:e.id,searchId:e.searchId}),L({entityId:e.entityId}),F({entityId:e.entityId,frameId:e.id})));const r=(0,M.ux)(t);return t&&r?(0,l.vP)((0,l.Dc)(1e3),(0,M.VX)(r,(e=>{var r;const n=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.building.id;return n?(0,l.Mf)(H({entityId:n,frameId:t.id,searchId:t.reviewSearchId}),L({entityId:n}),F({entityId:n,frameId:t.id})):(0,l.ZT)()}))):(0,l.ZT)()}))}},5657:(e,t,r)=>{"use strict";r.d(t,{VV:()=>w,Du:()=>I,HL:()=>E,dl:()=>C,$l:()=>x,Eu:()=>k});var n=r(2613),a=r(75873),i=r(81870),s=r(2615),o=r(11052),c=r(89592),l=r(81583),d=r(71146),u=r(99004),p=r(78438),m=r(59554),h=r(56172),g=r(88835),f=r(29782),v=r(11575),y=r(91437),b=r(97883);function w(){return C()}function I(){return(0,i.xJ)((e=>{const t=(0,y.t0)(e.appContext.frames,"rubric");return t&&"rubric"===t.type?E(t.parentId):(0,i.ZT)()}))}function E(e){return(0,i.xJ)((t=>{const r=(0,o.O)(t),a=(0,y.t0)(t.appContext.frames,"rubricator");if(!a||"rubricator"!==a.type)return(0,i.ZT)();const p=a.regionId,m=(0,c.J)(p,r,e);if((0,s.Gp)(t.appContext.weak.rubric.transition)===m)return(0,i.ZT)();const h=(0,u.of)(e)(t),g=(0,u.r1)(m)(t),f=(0,s.gg)(t.appContext.weak.rubric.transition,m);if(h&&g&&"success"===g.meta.status&&g.data&&g.data.length)return(0,n.Vj)((0,s._e)(f));const v=(0,b.Id)(t);return(0,i.vP)(h?(0,i.ZT)():(0,l.b)({regionId:p,locale:r,id:e}),(0,n.Vj)(f),(0,d.F)({key:m,regionId:p,viewpoint:v,locale:r,parentId:e}),(0,n.Vj)((0,s._e)(f)))}))}function C(){return(0,i.xJ)((e=>{const t=(0,o.O)(e),r=(0,a.yH)(e),l=(0,y.t0)(e.appContext.frames,"rubricator");if(!r||!l||"rubricator"!==l.type)return(0,i.ZT)();const p=`${l.id}_${(0,c.J)(r,t)}`;if((0,s.Gp)(e.appContext.weak.rubricator.transition)===p)return(0,i.ZT)();const m=(0,u.r1)(p)(e),h=(0,s.gg)(e.appContext.weak.rubricator.transition,p),w=(0,f.D4)({state:e,id:r});if(m&&"success"===m.meta.status&&m.data&&m.data.length)return(0,i.vP)((0,n.KK)((0,s._e)(h)),(0,g.D_)(l.id,(e=>Object.assign(Object.assign({},e),{regionId:r}))),w?(0,i.ZT)():(0,v.TU)({id:r}));const I=(0,b.Id)(e);return(0,i.vP)((0,n.KK)(h),(0,g.D_)(l.id,(e=>Object.assign(Object.assign({},e),{regionId:r}))),(0,d.F)({key:p,regionId:r,viewpoint:I,locale:t}),w?(0,i.ZT)():(0,v.TU)({id:r}),(0,n.KK)((0,s._e)(h)))}))}const x=(0,i.gQ)("onPseudorubricClick",(e=>(0,h.c)({actionType:e.item.action.type,value:e.item.action.value,caption:e.item.caption}))),k=(0,i.gQ)("onRubricClick",(e=>(0,m.zh)((t=>(0,p.gB)({viewpoint:t,query:e.item.caption,rubricId:e.item.id})))))},1882:(e,t,r)=>{"use strict";r.d(t,{q:()=>p,K:()=>m});var n=r(81870),a=r(90961),i=r(10997),s=r(2615),o=r(87587),c=r(59554),l=r(86184),d=r(60218),u=r(40597);const p=(0,n.gQ)("searchBuyHereMoreResult",(({frameId:e,page:t,adsIds:r,searchId:u,filters:p,filtersId:m})=>(0,n.vP)((0,n.Mf)((0,a.BN)((0,i.D$)(e,(e=>Object.assign(Object.assign({},e),{page:(0,s.gg)(e.page,t)})))),(0,c._N)((e=>e.session.geolocation.position),(e=>(0,c.zh)((n=>(0,o.Hq)({query:"",searchId:u,page:t,viewpoint:n,adsIds:r,filters:p,filtersId:m,sortPoint:e})))))),(0,c.WW)(e,l.o,(n=>(0,s.sG)(n.page)===t&&(0,i.D$)(e,(e=>Object.assign(Object.assign({},e),{adsIds:r,page:(0,s._e)(e.page),scrollIdHash:(0,d.by)()}))))))));function m(e){const{frame:t,filterValues:r,isViewportChanged:l}=e,p=(0,d.by)();return(0,n.vP)((0,a.BN)((0,i.D$)(t.id,(e=>Object.assign(Object.assign({},e),{filterValues:r,searchId:(0,s.gg)(e.searchId,p),page:(0,s.Ue)(1)})))),(0,c._N)((e=>e.session.geolocation.position),(e=>(0,c.zh)((n=>(0,o.Hq)({query:"",searchId:p,page:1,viewpoint:n,adsIds:t.adsIds,filters:r,filtersId:(0,d.by)(),sortPoint:e}))))),(0,i.D$)(t.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,s._e)(e.searchId)}))),(0,u.lD)({update:!0,isViewportChanged:l}))}},94207:(e,t,r)=>{"use strict";r.d(t,{h0:()=>C,pn:()=>x,kC:()=>k,ZS:()=>_,xu:()=>O,Nl:()=>S,lX:()=>z});var n=r(81870),a=r(60218),i=r(45436),s=r(88835),o=r(90961),c=r(91437),l=r(6925),d=r(44084),u=r(10997),p=r(71846),m=r(59554),h=r(15402),g=r(2615),f=r(65933),v=r(95079),y=r(54917),b=r(9452),w=r(40597);const I=(0,n.gQ)("searchByBuildingIdWithCurrentViewpoint",(e=>(0,m.zh)((t=>(0,d.Z)({buildingId:e.buildingId,page:e.page,more:e.more,searchId:e.searchId,gtaId:e.gtaId,filters:e.filters,viewpoint:t}))))),E=(0,n.gQ)("searchInBuildingByQueryWithCurrentViewpoint",(e=>(0,m._N)((e=>e.session.geolocation.position),(t=>(0,m.zh)((r=>(0,d.a)({buildingId:e.buildingId,query:e.query,page:e.page,searchId:e.searchId,more:e.more,gtaId:e.gtaId,filters:e.filters,viewpoint:r,sortPoint:t}))))))),C=({buildingId:e,query:t="",filterValues:r,gtaId:d=(0,a.by)(),loadedSearchId:u})=>{const h=u||(0,a.by)(),v=(0,a.by)();return(0,n.vP)((0,o.BN)(),(0,i.wN)({entityId:e},(t=>!t.data&&(0,p.DZ)({id:e,searchId:void 0}))),(0,m.gF)({hasSearchControls:t=>(0,l.Uz)({state:t,entityId:e}),frame:e=>(0,c.t0)(e.appContext.frames,"search")},(({hasSearchControls:i,frame:o})=>{let c;return o&&((0,y.E)(o)&&(c=o.query),(0,f.n)(o)&&(c=o.parentSearchQuery)),(0,n.Mf)((0,s.Jt)({id:(0,a.by)(),type:"search",searchType:"inbuilding",buildingId:e,searchId:(0,g.Ue)(h),page:(0,g.Ue)(1),gtaId:d,statusId:v,query:i?t:"",parentSearchQuery:c,filterPanelState:i?"auto":"manuallyClosed",filterValues:i?r:{},filtersId:(0,a.by)()}),z({buildingId:e,gtaId:d,page:1,query:t,searchId:h,filterValues:r,hasSearchControls:i,shouldNotFetchBranches:!!u}))})),(0,n.XJ)((0,w.lD)()))},x=(0,n.gQ)("searchInBuildingApplyFilterAndQuery",(({frameId:e,gtaId:t=(0,a.by)(),buildingId:r,filterValues:i,query:s=""})=>{const c=(0,a.by)(),d=(0,a.by)();return(0,n.vP)((0,o.BN)(),(0,m._N)((e=>(0,l.Uz)({state:e,entityId:r})),(a=>(0,n.vP)((0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,g.gg)(e.searchId,c),statusId:d,page:(0,g.Ue)(1),query:a?s:"",filterValues:a?i:{},buildingId:r,gtaId:t}))),z({buildingId:r,gtaId:t,page:1,query:s,searchId:c,filterValues:i,hasSearchControls:a}),(0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,g._e)(e.searchId)})))))),(0,n.XJ)((0,w.lD)()))})),k=({frameId:e,page:t,buildingId:r,query:i,searchId:s,filterValues:o={}})=>(0,n.vP)((0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{page:(0,g.gg)(e.page,t),statusId:(0,a.by)()}))),(0,m._N)((e=>(0,l.Uz)({state:e,entityId:r})),(e=>z({buildingId:r,searchId:s,page:t,query:i,filterValues:o,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,m.WW)(e,f.n,(r=>(0,g.sG)(r.page)===t&&(0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{page:(0,g._e)(e.page)})))))),_=({frameId:e,buildingId:t,filterValues:r,query:s=""})=>{const c=(0,a.by)(),d=(0,a.by)(),h=(0,a.by)();return(0,n.Mf)((0,o.BN)(),(0,i.wN)({entityId:t},(e=>!e.data&&(0,p.DZ)({id:t,searchId:void 0}))),(0,m._N)((e=>(0,l.Uz)({state:e,entityId:t})),(a=>(0,n.Mf)((0,u.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"inside",statusId:d,tabInside:{searchId:(0,g.Ue)(c),page:(0,g.Ue)(1),buildingId:t,gtaId:h,query:a?s:"",filterValues:a?r:void 0}}))),z({buildingId:t,searchId:c,page:1,gtaId:h,query:s,filterValues:r,hasSearchControls:a,shouldNotFetchMarkers:!0})))))},O=({frameId:e,searchId:t,buildingId:r,query:i,filterValues:s={},page:o})=>(0,n.vP)((0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:(0,a.by)(),tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,g.gg)(e.tabInside.page,o)})}):e)),(0,m._N)((e=>(0,l.Uz)({state:e,entityId:r})),(e=>z({buildingId:r,searchId:t,page:o,query:i,filterValues:s,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,m.WW)(e,v.B,(t=>t.tabInside&&(0,g.sG)(t.tabInside.page)===o&&(0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,g._e)(e.tabInside.page)})}):e))))),S=({frameId:e,buildingId:t,filterValues:r,query:i="",gtaId:s=(0,a.by)()})=>{const c=(0,a.by)(),d=(0,a.by)();return(0,n.vP)((0,o.BN)(),(0,m._N)((e=>(0,l.Uz)({state:e,entityId:t})),(a=>(0,n.Mf)((0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:d,tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,g.gg)(e.tabInside.searchId,c),page:(0,g.gg)(e.tabInside.page,1),query:a?i:"",filterValues:a?r:void 0,gtaId:s})}):e)),z({buildingId:t,searchId:c,gtaId:s,page:1,query:i,filterValues:r,hasSearchControls:a,shouldNotFetchMarkers:!0}),(0,b.xU)({suggesterKey:"inbuilding",query:i})))),(0,m.WW)(e,v.B,(t=>t.tabInside&&(0,g.sG)(t.tabInside.searchId)===c&&(0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,g._e)(e.tabInside.searchId),page:(0,g._e)(e.tabInside.page)})}):e)))))};function z({buildingId:e,searchId:t,gtaId:r,query:a,page:i,filterValues:s,hasSearchControls:o,shouldNotFetchBranches:c,shouldNotFetchMarkers:l,more:d}){return o&&a?(0,n.Mf)(!c&&E({buildingId:e,gtaId:r,page:i,query:a,searchId:t,filters:s,more:d}),!l&&(0,n.XJ)((0,n.vP)((0,w.lD)(),(0,h.E2)()))):!c&&I({buildingId:e,gtaId:r,page:i,searchId:t,filters:s,more:d})}},78438:(e,t,r)=>{"use strict";r.d(t,{tE:()=>W,Gf:()=>$,Nl:()=>B.Nl,xu:()=>B.xu,ZS:()=>B.ZS,qL:()=>A,QR:()=>U,h0:()=>B.h0,gB:()=>F,Qp:()=>H,QT:()=>R,pn:()=>B.pn,IE:()=>D});var n=r(81870),a=r(90961),i=r(87587),s=r(31253),o=r(71846),c=r(97883),l=r(14101),d=r(88835),u=r(60218),p=r(91437),m=r(59554),h=r(15402),g=r(2615),f=r(10997),v=r(40597),y=r(54603),b=r(24973),w=r(6002);var I=r(2613);const E=(0,n.gQ)("flights",(e=>(0,n.xJ)((t=>{const r=(0,l.rO)({state:t,searchId:e.searchId}).data,a=C(r&&r.searchAttributes,e.inviewport,t.appContext.weak.isMapViewRepresentedInOriginalRequest,"undefined"==typeof window);if(!a)return(0,n.ZT)();const i=t.session.screen,s=(0,c.v9)(t);return(0,n.vP)((0,I.yy)({mapOutviewportFlightEmitted:!0}),(0,h.Nr)(function(e,t){const r=e.map((e=>[e.longitude,e.latitude])),{screenSize:n,maxZoom:a,rotation:i=0,offset:s}=t,o=(0,w.o)(n,s),c=(0,b.getCenterZoomByPoints)(r,i,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:Math.min(c.zoom,a)}:{}}(a,{screenSize:i,offset:s,maxZoom:y.sZ,rotation:t.appContext.rotation})))}))));function C(e,t,r,n){const a=e&&e.out_viewport;if(a&&!(r&&n||x(a,t)))return a}function x(e,t){return t.every((t=>!!e.find((e=>t.lat===e.latitude&&t.lon===e.longitude))))}var k=r(32655),_=r(54917),O=r(9452),S=r(9007),z=r(96421),M=r(88710);const j=(0,n.gQ)("autoOpenCardFromSearchIfNeeded",(e=>{const{searchId:t}=e;return(0,n.xJ)((e=>{var r,a,i,s,c;const d=(0,l.rO)({state:e,searchId:t});if(null===(a=null===(r=d.data)||void 0===r?void 0:r.searchAttributes)||void 0===a?void 0:a.is_partial)return(0,n.ZT)();if(null===(s=null===(i=d.data)||void 0===i?void 0:i.searchAttributes)||void 0===s?void 0:s.is_auto_open_best_result){const r=(0,z.NP)({state:e,searchId:t});if((null===(c=r.data)||void 0===c?void 0:c.total)&&r.data.total>0)return(0,n.ZT)();const a=(0,l.Dx)({state:e,searchId:t}),i=a&&a[1],s=i&&i.data&&i.data[0];if(!s)return(0,n.ZT)();const d=(0,M.Q)(s,t)(e);return d?(0,o.ko)({id:s,searchId:t,skipHistoryPush:!0,type:d.type}):(0,n.ZT)()}return(0,n.ZT)()}))}));function T(e,t){const r=(0,l.rO)({state:e,searchId:t}),n=r.data&&r.data.total||0;return!(r.data&&r.data.searchAttributes&&r.data.searchAttributes.is_partial||!n)}function N(e,t){const r=(0,z.NP)({state:e,searchId:t});return!(!r.data||!r.data.total)}const P=(0,n.gQ)("changeSearchTabIfNeeded",(e=>{const{frameId:t,searchId:r}=e;return(0,n.xJ)((e=>{const a=(0,p.iF)(e.appContext.frames,t);if(!a||"search"!==a.type||!("tab"in a))return(0,n.ZT)();const i=T(e,r),s=N(e,r);if(!i&&!s||i&&s)return(0,n.ZT)();const o=a.tab,c=s?"market":"catalog";return c===o?(0,n.ZT)():(0,f.iD)(t,(e=>Object.assign(Object.assign({},e),{tab:c})))}))}));var L=r(17041);const F=(0,n.gQ)("searchByQuery",(e=>{const{query:t,rubricId:r,attributeId:p,catalogFilterValues:f={},marketFilterValues:y={},page:b=1,buildingId:w,tab:I="catalog",shouldNotAutoOpenCard:C=!1,shouldNotSwitchTabAutomatically:x=!1,viewpoint:_,regionId:S,isBuyHereRubric:z,cityId:M}=e,F=(0,u.by)(),R=(0,u.by)(),H=(0,u.by)(),D=(0,u.by)(),B=(0,u.by)(),A="catalog"===I?b:1,V="market"===I?b:1,Z="catalog"===I&&!(0,u.xb)(f);return(0,n.vP)((0,a.BN)(),(0,m._N)(c.KC,(e=>{const n=w&&e?e:(0,g.Ue)(R);return(0,d.Jt)({id:D,type:"search",filterPanelState:"auto",searchType:"query",query:t,statusId:B,tab:I,tabCatalog:{rubricId:r,attributeId:p,searchId:(0,g.Ue)(R),viewpoint:_,gtaId:(0,g.Ue)(F),page:(0,g.Ue)(A),filtersId:(0,g.Ue)(H),filterValues:f,isBuyHereRubric:z},tabMarket:{searchId:R,viewpoint:_,page:(0,g.Ue)(V),buildingId:w,markersId:n,filtersId:(0,g.Ue)(H),filterValues:y}})})),(0,n.Mf)((0,n.vP)((0,m._N)((e=>e.session.geolocation.position),(e=>(0,n.Mf)((0,O.xU)({suggesterKey:"primary",query:t}),(0,n.vP)((0,n.Mf)(w?(0,o.DZ)({id:w,searchId:void 0}):void 0,(()=>{if("market"!==I||!w)return r?(0,i.l1)({regionId:S,query:t,filters:f,filtersId:H,withFilters:!Z,rubrId:r,viewpoint:_,searchId:R,page:b,gtaId:F,sortPoint:e,cityId:M}):p?(0,i.fE)({query:t,filters:f,filtersId:H,withFilters:!Z,attrId:p,viewpoint:_,searchId:R,page:b,gtaId:F,sortPoint:e}):(0,i.Hq)({withFilters:!Z,query:t,filters:f,searchId:R,filtersId:H,searchType:I,page:A,viewpoint:_,statusId:B,gtaId:F,sortPoint:e,cityId:M})})()),(()=>{if(!r&&!p&&"market"!==I)return function(e){const{query:t,searchId:r}=e;return(0,n.xJ)((e=>{const n=(0,l.rO)({state:e,searchId:r});if(n.meta&&"success"===n.meta.status)return(0,k.r)(t)}))}({query:t,searchId:R})})()),Z&&(0,i.a$)({query:t,rubrId:r,filtersId:H,viewpoint:_,sortPoint:e})))),(0,m._N)((e=>T(e,R)),(e=>e?(0,n.XJ)((0,n.vP)((0,v.$n)(),(0,h.E2)())):(0,n.ZT)()))),(0,n.vP)("market"===I?(0,s.g7)({query:t,buildingId:w,searchId:R,filtersId:H,page:V,filters:y,viewpoint:_}):(0,n.XJ)((0,s.g7)({query:t,buildingId:w,searchId:R,filtersId:H,page:V,filters:y,viewpoint:_})),(0,m._N)((e=>N(e,R)),(e=>e?(0,n.XJ)((0,n.Mf)((0,v.Fb)(),(0,L._d)({query:t,building_id:w,filterValues:y,viewpoint:_}))):(0,n.ZT)())))),function({searchId:e,frameId:t,shouldCallFlights:r,shouldNotAutoOpenCard:a,shouldNotSwitchTabAutomatically:i,inviewport:s}){return(0,n.vP)(r&&E({searchId:e,inviewport:s}),!a&&j({searchId:e}),!i&&(0,n.vP)(P({frameId:t,searchId:e}),(0,n.XJ)((0,v.$n)())))}({searchId:R,frameId:D,shouldCallFlights:"market"!==I,shouldNotAutoOpenCard:C,shouldNotSwitchTabAutomatically:x,inviewport:_}))}));function R(e){const{frameId:t,page:r,query:s,rubricId:o,viewpoint:c,filtersId:l,filters:d={},searchId:p}=e,h=1===r?(0,u.by)():void 0;return(0,n.vP)((0,a.BN)(),(0,f.iD)(t,(e=>Object.assign(Object.assign({},e),{tab:"catalog",tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:d,viewpoint:c,gtaId:(0,g.gg)(e.tabCatalog.gtaId,h),page:(0,g.gg)(e.tabCatalog.page,r)})}))),o?(0,m._N)((e=>e.session.geolocation.position),(e=>(0,m.zh)((t=>(0,i.l1)({query:s,filters:d,filtersId:l,gtaId:h,rubrId:o,viewpoint:t,searchId:p,page:r,more:!0,sortPoint:e}))))):(0,m.Mb)(t,(e=>(0,_.E)(e)&&e.tabCatalog.attributeId?(0,m._N)((e=>e.session.geolocation.position),(t=>!!e.tabCatalog.attributeId&&(0,i.fE)({gtaId:h,query:s,filters:d,searchId:p,filtersId:l,attrId:e.tabCatalog.attributeId,page:r,viewpoint:c,sortPoint:t}))):(0,m._N)((e=>e.session.geolocation.position),(e=>(0,i.Hq)({withFilters:!1,query:s,filters:d,searchId:p,page:r,viewpoint:c,gtaId:h,sortPoint:e}))))),(0,m.WW)(t,_.E,(e=>(0,g.sG)(e.tabCatalog.page)===r&&(0,f.iD)(t,(t=>Object.assign(Object.assign({},t),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:d,gtaId:(0,g._e)(e.tabCatalog.gtaId),page:(0,g._e)(e.tabCatalog.page),scrollIdHash:(0,u.by)()})}))))))}const H=(0,n.gQ)("searchByQueryApplyFilter",(e=>{const{frameId:t,filterValues:r,query:s,rubricId:o,parentSearchId:c,isViewportChanged:l,preserveMarkers:d,viewpoint:p,filtersId:y=(0,u.by)()}=e,b=(0,u.by)(),w=(0,u.by)(),I=(0,u.by)(),E=!("filtersId"in e);return(0,n.vP)((0,a.BN)(),(0,f.iD)(t,(e=>Object.assign(Object.assign({},e),{statusId:w,tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{rubricId:o,searchId:(0,g.gg)(e.tabCatalog.searchId,b),filtersId:E?(0,g.gg)(e.tabCatalog.filtersId,y):e.tabCatalog.filtersId,gtaId:(0,g.gg)(e.tabCatalog.gtaId,I),page:(0,g.gg)(e.tabCatalog.page,1),parentSearchId:c,filterValues:r,viewpoint:p})}))),(0,m._N)((e=>e.session.geolocation.position),(e=>(0,n.Mf)(o?(0,i.l1)({query:s,filters:r,filtersId:y,rubrId:o,viewpoint:p,searchId:b,page:1,gtaId:I,sortPoint:e}):(0,m.Mb)(t,(t=>(0,_.E)(t)&&t.tabCatalog.attributeId?(0,i.fE)({gtaId:I,query:s,filters:r,searchId:b,filtersId:y,attrId:t.tabCatalog.attributeId,page:1,viewpoint:p,sortPoint:e}):(0,i.Hq)({gtaId:I,withFilters:!1,query:s,filters:r,searchId:b,filtersId:y,isViewportChanged:l,page:1,viewpoint:p,statusId:w,sortPoint:e}))),E&&(0,i.a$)({query:s,rubrId:o,filters:r,filtersId:y,viewpoint:p,sortPoint:e}),(0,n.vP)(!d&&(0,v.lD)({update:!0,isViewportChanged:l}),(0,h.E2)())))),(0,m.WW)(t,_.E,(e=>(0,g.sG)(e.tabCatalog.searchId)===b&&(0,f.iD)(t,(e=>Object.assign(Object.assign({},e),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{searchId:(0,g._e)(e.tabCatalog.searchId),filtersId:E?(0,g._e)(e.tabCatalog.filtersId):e.tabCatalog.filtersId,gtaId:(0,g._e)(e.tabCatalog.gtaId),page:(0,g._e)(e.tabCatalog.page)})}))))))}));function D(e){return(0,n.vP)((0,a.BN)(),(0,n.xJ)((t=>{const r=(0,p.t0)(t.appContext.frames,"search");if(r&&(0,_.E)(r)&&r.tab!==e.tab)return(0,n.Mf)((0,O.xU)({suggesterKey:"inbuilding",query:void 0}),(0,f.iD)(r.id,(t=>Object.assign(Object.assign({},t),{tab:e.tab}))),(0,v.lD)(),(0,d.P2)({id:r.id}),(0,m._N)(c.Hr,(e=>(0,S.t)({prevZoom:e}))))})))}var B=r(94207);function A(e){const{query:t,filters:r,page:i,searchId:o,filtersId:c,frameId:l,buildingId:d,viewpoint:u}=e;return(0,n.vP)((0,a.BN)(),(0,n.Mf)((0,s.g7)({searchId:o,query:t,buildingId:d,viewpoint:u,page:i,filters:r,filtersId:c}),(0,n.xJ)((e=>{const t=(0,p.iF)(e.appContext.frames,l),r=t&&"search"===t.type&&"query"===t.searchType?t.tabMarket.page:void 0;if(r)return(0,f.iD)(l,(e=>Object.assign(Object.assign({},e),{tab:"market",tabMarket:Object.assign(Object.assign({},e.tabMarket),{page:(0,g.gg)(r,i)})})))}))),(0,n.xJ)((e=>{const t=(0,z.pD)({searchId:o,state:e}),r=t&&t[i]&&t[i],n=(0,p.iF)(e.appContext.frames,l),a=n&&"search"===n.type&&"query"===n.searchType?n.tabMarket.page:void 0;if(a)return r&&"success"===r.meta.status?(0,f.iD)(l,(e=>Object.assign(Object.assign({},e),{tab:"market",tabMarket:Object.assign(Object.assign({},e.tabMarket),{page:(0,g._e)(a)})}))):void 0})))}var V=r(73973),Z=r(47787);const U=(0,n.gQ)("openFilials",(e=>{const t=(0,u.by)(),r=(0,u.by)(),i=(0,u.by)(),s=(0,u.by)(),{orgId:o,regionId:c,filterValues:l}=e,p=(0,u.$K)(l);return(0,m.zh)((e=>(0,n.vP)((0,a.BN)(),(0,d.Jt)({id:i,type:"search",searchType:"filials",gtaId:s,searchId:(0,g.Ue)(t),parentSearchId:t,page:(0,g.Ue)(1),orgId:o,filtersId:r,filterValues:l,query:"",filterPanelState:"auto"}),(0,n.Mf)((0,V.Y)({orgId:o,searchId:t,filtersId:r,regionId:c,filters:l,withFilters:!p,page:1,viewpoint:e,gtaId:s}),p&&(0,V.I)({orgId:o,filtersId:r,viewpoint:e}),(0,n.XJ)((0,v.lD)())),E({searchId:t,inviewport:e}))))}));function $(e){const{orgId:t,filtersId:r,frameId:a,page:i,searchId:s,filterValues:o}=e;return(0,n.vP)((0,f.s7)(a,(e=>Object.assign(Object.assign({},e),{page:(0,g.gg)(e.page,i)}))),(0,m.zh)((e=>(0,V.Y)({orgId:t,filters:o,withFilters:!1,searchId:s,filtersId:r,page:i,viewpoint:e}))),(0,m.WW)(a,Z.Y,(e=>(0,g.sG)(e.page)===i&&(0,f.s7)(a,(t=>Object.assign(Object.assign({},t),{page:(0,g._e)(e.page)}))))))}function W(e){const{frameId:t,orgId:r,filtersId:i,filterValues:s,isViewportChanged:o}=e,l=(0,u.by)(),d=(0,u.by)();return(0,n.vP)((0,a.BN)(),(0,f.s7)(t,(e=>Object.assign(Object.assign({},e),{searchId:(0,g.gg)(e.searchId,l),page:(0,g.gg)(e.page,1),statusId:d,filtersId:i,filterValues:s}))),(0,m._N)(c.Id,(e=>(0,n.Mf)((0,V.Y)({orgId:r,filters:s,withFilters:!1,searchId:l,filtersId:i,page:1,viewpoint:e,isViewportChanged:o}),(0,v.lD)({update:!0,isViewportChanged:o})))),(0,m.WW)(t,Z.Y,(e=>(0,g.sG)(e.searchId)===l&&(0,f.s7)(t,(t=>Object.assign(Object.assign({},t),{searchId:(0,g._e)(e.searchId),page:(0,g._e)(e.page)}))))))}},32655:(e,t,r)=>{"use strict";r.d(t,{r:()=>c,R:()=>l});var n=r(81870),a=r(40779),i=r(59554),s=r(62199);function o(e){return e.session.userId}function c(e){return(0,n.vP)((0,a.Wj)({query:e,timestamp:(new Date).getTime()}),l())}function l(){return(0,i.gF)({history:s.p,userId:o},(({history:e,userId:t})=>(0,a.kR)({history:e.data,userId:t})))}},5352:(e,t,r)=>{"use strict";r.d(t,{C:()=>u});var n=r(88348);var a=r(60985),i=r(31213);const s=(0,a.P1)((e=>e.appContext.center.lon),(e=>e.appContext.center.lat),((e,t)=>[e,t])),o=(0,a.P1)((e=>e.session.screen.width-(0,i.w)(e)),(e=>e.session.screen.height),((e,t)=>[e,t])),c=(0,a.zB)({zoom:e=>e.appContext.zoom,center:s,pitch:e=>e.appContext.pitch,rotation:e=>e.appContext.rotation,mapSize:o});var l=r(24973),d=r(81870);function u(e){return(0,d.Rh)((({rtl:t})=>(0,d.xJ)((r=>{const a=[e.point.lon,e.point.lat],s=(0,l.lonLatToScreenPoint)(a,c(r)),o={top:s[1],left:s[0]},d={top:o.top,left:t?o.left:o.left+(0,i.w)(r)};return function(e){return(0,n.Kn)({type:"map:hint",event:{text:e.text,point:e.point}})}({text:e.text,point:d})}))))}},23613:(e,t,r)=>{"use strict";r.d(t,{ff:()=>ee,$N:()=>W,en:()=>X,Cj:()=>U,XC:()=>V,_m:()=>K,p_:()=>$});var n=r(2615),a=r(81870),i=r(9452),s=r(31253),o=r(60218),c=r(25584),l=r(59554),d=r(97883),u=r(11052),p=r(7905),m=r(15459),h=r(82080),g=r(78438),f=r(88835),v=r(15402),y=r(90961),b=r(71846),w=r(40779),I=r(32655),E=r(91437),C=r(17041),x=r(96421);function k(e,t){for(const r of e){if(r.id===t)return r;if(r.children){const e=k(r.children,t);if(e)return e}}}var _=r(32307),O=r(75873),S=r(98934),z=r(29700),M=r(2613),j=r(7718),T=r(17497),N=r(86741),P=r(75881);const L=(0,a.gQ)("openEntityProfileCardNoType",(({id:e,shouldFitEntityInMapView:t})=>(0,l._N)((e=>{var t;return null===(t=(0,E.t0)(e.appContext.frames,"userProfile"))||void 0===t?void 0:t.searchId}),(r=>(0,a.vP)((0,P.Dz)({id:e,searchId:r||(0,o.by)()}),(0,l._N)((t=>{var r,n;return null===(n=null===(r=t.data.entity.profile[e])||void 0===r?void 0:r.data)||void 0===n?void 0:n.type}),(r=>r?(0,b.xo)({id:e,type:r,shouldFitEntityInMapView:t}):(0,a.ZT)()))))))),F=(0,a.gQ)("openPlace",(({object_id:e,point:t})=>e?L({id:e,shouldFitEntityInMapView:!0}):t?(0,N.W)({point:t,shouldCenterMap:!0}):(0,a.ZT)()));var R=r(43993);const H=(0,a.gQ)("showTraffic",(()=>(0,l._N)((e=>e.appContext.showTrafficOnMap),(e=>!e&&(0,R.$C)()))));var D=r(90358),B=r(39206),A=r(58630);const V=(0,a.gQ)("showSuggestions",((e="primary")=>{const t=(0,o.by)();return(0,l._N)((t=>(0,c.eq)(t,e)),(r=>{if(!r)return(0,a.ZT)();const{query:s}=r;if(!s)return(0,m.ej)();const o=r.suggestId;return(0,a.vP)((0,a.Mf)((0,l.gF)({viewpoint:d.Id,personalRecords:D.$b,regionId:O.fq,geolocationPosition:e=>e.session.geolocation.position},(({viewpoint:r,personalRecords:n,regionId:a,geolocationPosition:i})=>(0,m.DF)({searchId:t,suggesterType:Z(e),query:s,viewpoint:r,regionId:"typedFeedback"===e||"homework"===e?a:void 0,personalRecords:"primary"===e?n:void 0,sortPoint:i}))),(0,i.Bt)({suggesterKey:e,suggestId:o?(0,n.gg)(o,t):(0,n.Ue)(t)})),(0,l._N)((t=>(0,c.eq)(t,e)),(r=>{const s=r&&r.suggestId;return s&&t===(0,n.sG)(s)?(0,i.Bt)({suggesterKey:e,suggestId:(0,n._e)(s)}):(0,a.ZT)()})))}))}));function Z(e){switch(e){case"typedFeedback":case"homework":return"address";case"directions":return"route_endpoint";case"broadcast":case"products":case"primary":case"inbuilding":default:return}}function U(e){const{branchId:t,query:r}=e,p=(0,o.by)();return r?(0,a.vP)((0,l._N)((e=>(0,c.eq)(e,"products")),(e=>{if(e){const t=e.suggestId;return(0,i.Bt)({suggesterKey:"products",suggestId:t?(0,n.gg)(t,p):(0,n.Ue)(p)})}})),(0,l.gF)({locale:u.O,viewpoint:d.Id},(({locale:e,viewpoint:n})=>(0,s.mt)({searchId:p,branchId:t,query:r.trim().toLocaleLowerCase(),viewpoint:n,locale:e}))),(0,l._N)((e=>(0,c.eq)(e,"products")),(e=>{if(e){const t=e.suggestId;if(t&&p===(0,n.sG)(t))return(0,i.Bt)({suggesterKey:"products",suggestId:(0,n._e)(t)})}}))):(0,a.Mf)((0,i.Bt)({suggesterKey:"products",suggestId:(0,n.Ue)("")}),(0,s.RQ)())}const $=(0,a.gQ)("toggleSuggest",(({suggesterKey:e,show:t})=>(0,l._N)((t=>(0,c.eq)(t,e)),(r=>r&&r.show===t?(0,a.ZT)():(0,a.vP)(t?(0,m.ej)():(0,a.ZT)(),(0,i.p_)({suggesterKey:e,show:t})))))),W=(0,a.gQ)("handleSuggestNavigation",(e=>{const{suggesterKey:t,keyCode:r}=e;switch(r){case p.O_:return $({suggesterKey:t,show:!1});case p.HI:return q({suggesterKey:t,direction:"prev"});case p.P9:return q({suggesterKey:t,direction:"next"})}return(0,a.ZT)()})),q=(0,a.gQ)("highlightNextOrPrevSuggestion",(e=>{const{suggesterKey:t,direction:r,suggestionsLimit:n=A.Z}=e;return(0,_.$)((({tp:e})=>(0,l.gF)({suggest:e=>(0,c.eq)(e,t),allSuggestions:e=>(0,c.vt)(e,t),featureRealty:e=>e.config.featureRealty},(({suggest:s,allSuggestions:o,featureRealty:c})=>{if(!s||!o)return(0,a.ZT)();const l=c&&"primary"===t?(0,A.r)(o,e):[...o].slice(0,n),{highlightedIndex:d}=s,u=n?Math.min(l.length,n):l.length;let p=void 0!==d?d:-1;"next"===r?(p+=1,p>u-1&&(p=0)):(p-=1,p<0&&(p=u-1));const m=l[p];return(0,a.Mf)((0,a.Rh)((e=>(0,_.$)((({tp:r})=>(0,i.xU)({suggesterKey:t,query:(0,j.C)(m,{tp:r,config:e})}))))),(0,i.r4)({suggesterKey:t,index:p}))}))))})),G=(0,a.gQ)("changeCity",(e=>(0,a.vP)((0,y.BN)(),(0,f.IW)(),(0,i.xU)({suggesterKey:"primary",query:void 0}),(0,M.jP)((0,n.Ue)((0,o.by)())),(0,v.vr)({entityId:e})))),Q=(0,a.gQ)("addObjectToHistory",((e,t)=>e.entity?(0,a.vP)((0,w.tF)({entity:e.entity,text:t,timestamp:(new Date).getTime()}),(0,I.R)()):(0,a.ZT)())),K=(0,a.gQ)("submitNewSearch",(e=>(0,l.gF)({viewpoint:d.Id,frame:e=>(0,E.t0)(e.appContext.frames,"search")},(({viewpoint:t,frame:r})=>(0,a.vP)((0,f.IW)(),(0,g.gB)({query:e.query,viewpoint:t,tab:e.tab||r&&(0,E.DO)(r),attributeId:e.attributeId,rubricId:e.rubricId})))))),J=(0,a.gQ)("openObjectSuggestionOrMakeSearch",(e=>{var t;const{suggestion:r,query:n}=e,{entity:i}=r;if(i&&i.id){if("adm_div"===i.type&&("city"===i.subtype||"settlement"===i.subtype))return G(i.id);switch(i.type){case"adm_div":case"branch":case"building":case"station":case"route":case"street":case"road":case"attraction":const e=null===(t=i.context)||void 0===t?void 0:t.entrance_id;return(0,a.vP)((0,f.IW)(),(0,b.xo)({id:i.id,type:i.type,query:n,entranceId:e,shouldFitEntityInMapView:!0}),"object"===r.type?Q(r):void 0);case"rubric":return(0,a.vP)(K({query:n,rubricId:i.id}),"object"===r.type?Q(r):void 0);case"attribute":return(0,a.vP)(K({query:n,attributeId:i.id}),"object"===r.type?Q(r,n):void 0);case"org":return(0,a.vP)((0,f.IW)(),(0,g.QR)({orgId:i.id,regionId:i.region_id}),"object"===r.type?Q(r):void 0);case"market.category":case"market.attribute":case"market.brand":return(0,a.vP)(K({query:n,tab:"market"}),"object"===r.type?Q(Object.assign(Object.assign({},r),{entity:Object.assign({name:n},i)})):void 0);case"special":switch(i.id){case"1":return(0,l._N)(T.eb,(e=>e&&F(e)));case"2":return(0,l._N)(T.M6,(e=>e&&F(e)));case"3":return(0,w.Fd)();case"4":case"5":return H();case"6":return(0,B.T)()}}}return K({query:n})})),X=(0,a.gQ)("pickPrimarySuggestion",(e=>{const t="primary",{suggestion:r,query:n,pickedIndex:s,frameId:o,suggestions:d,searchAttributes:u}=e;return(0,a.vP)((0,S.AB)({suggestion:r,query:n,pickedIndex:s,frameId:o,suggestions:d,searchAttributes:u}),(0,l._N)((e=>(0,c.eq)(e,t)),(e=>e?(0,h.F)(r)&&e.query!==n+" "?(0,a.Mf)((0,i.xU)({suggesterKey:t,query:n+" "}),(0,i.r4)({suggesterKey:t,index:void 0})):(0,a.vP)((0,i.xU)({suggesterKey:t,query:n}),$({suggesterKey:t,show:!1}),J({suggestion:r,query:n})):(0,a.ZT)())))})),Y=((0,a.gQ)("pickMarketSuggestion",(({frameId:e,suggestion:t,branchId:r,categoryId:n})=>{const s="products";return(0,l._N)((e=>(0,c.eq)(e,s)),(o=>{if(!o||!o.query)return(0,a.ZT)();if("category"===t.subtype&&t.id){const e=t.id;return e===n?(0,a.ZT)():(0,a.Mf)((0,z.l)({branchId:r,categoryId:e}),Y({branchId:r,categoryId:e}),$({suggesterKey:s,show:!1}))}return(0,a.Mf)((0,C.f1)({offersFrameId:e,query:t.name,branchId:r}),(0,i.xU)({suggesterKey:s,query:t.name}),$({suggesterKey:s,show:!1}))}))})),(0,a.gQ)("setLabelByCategory",(({branchId:e,categoryId:t})=>(0,l._N)((t=>(0,x.ch)({state:t,id:e})),(e=>{const r=e.data&&e.data.children,n=r&&k(r,t);return n?(0,i.xU)({suggesterKey:"products",query:n.label}):(0,a.ZT)()}))))),ee=(0,a.gQ)("handleSuggestInputClick",(({query:e,suggesterKey:t})=>(0,l._N)((e=>(0,c.eq)(e,t)),(r=>r&&r.show?(0,a.ZT)():(0,a.Mf)($({suggesterKey:t,show:!0}),(0,i.xU)({suggesterKey:t,query:e}),V())))))},98934:(e,t,r)=>{"use strict";r.d(t,{vc:()=>p,Wu:()=>l,AB:()=>c});var n=r(81870),a=r(26162),i=r(60218),s=r(57570),o=r(93277);const c=e=>{const{query:t,frameId:r,pickedIndex:n,suggestions:a,searchAttributes:i}=e;return"history"===e.suggestion.type?u({suggestion:e.suggestion,query:t,frameId:r,pickedIndex:n,suggestions:a,searchAttributes:i}):d(Object.assign(Object.assign({},e),{suggestion:e.suggestion,suggestions:a,searchAttributes:i}))},l=e=>{const t={uiElement:{name:"myLocation",ownerName:0===e.pointIndex?"pointA":"pointB",frameUuid:e.frameId},action:"tap"};return(0,a.zs)(t)},d=e=>{var t;const{suggestion:r,query:s,pickedIndex:c,frameId:l,suggestions:d,searchAttributes:u}=e,p=c+1,f=r.search_attributes?function(e){switch(e){case 0:return"openRecord";case 1:return"expandRecord";case 2:return"searchSuggestedText";case 3:return"incompleteQuery";default:return}}(r.search_attributes.handling_type):void 0,v=m(r.entity),y={text:s||("text"in r?r.text:""),entity:"special"!==(null==v?void 0:v.type)||"3"!==v.id?v:void 0,handlingType:f,resultClass:null===(t=r.search_attributes)||void 0===t?void 0:t.dgis_source_type,personalPriority:h(r),hybridEntities:(0,o.c)(r.entity)},b={size:d.length,searchSegmentId:null==u?void 0:u.dgis_project_id,firstResultClass:null==u?void 0:u.first_result_class,searchType:null==u?void 0:u.search_type,rtwVersion:null==u?void 0:u.rtw_version},w={uiElement:{name:"suggestItem",ownerName:"suggestList",position:p,frameUuid:l},payload:{suggestItem:y,suggestList:b,searchRequest:g("show",s,v)}},I={uiElement:{name:"suggestItem",ownerName:"suggestList",position:p,frameUuid:l},action:"tap",payload:{searchRequest:g("tap",s,v),suggestItem:y,suggestList:b}};return(0,n.vP)((0,a.GM)(Object.assign({showEventKey:(0,i.by)(),autoEvent:!0},w)),(0,a.zs)(I))},u=e=>{const{suggestion:t,query:r,pickedIndex:s,frameId:c,suggestions:l}=e,d=s+1,u=m(t.entity),p={uiElement:{name:"historyItem",ownerName:"historyList",position:d,frameUuid:c},payload:{historyItem:{text:r,handlingType:t.entity?"openRecord":void 0,entity:u,hybridEntities:(0,o.c)(t.entity)},historyList:{size:l.length}}},h={uiElement:{name:"historyItem",ownerName:"historyList",position:d,frameUuid:c},action:"tap",payload:{searchRequest:{text:r,entities:u?[u]:void 0},historyItem:{text:r,handlingType:t.entity?"openRecord":void 0,entity:u,hybridEntities:(0,o.c)(t.entity)},historyList:{size:l.length}}};return(0,n.vP)((0,a.GM)(Object.assign({showEventKey:(0,i.by)(),autoEvent:!0},p)),(0,a.zs)(h))},p=e=>(0,a.zs)({uiElement:{name:"searchStart",ownerName:"searchBar",frameUuid:e.frameId},action:"tap",payload:{searchRequest:{text:e.query}}});function m(e){if(e)return{type:e.type,segmentInfo:(0,s.U)(e),id:e.id,subtype:"subtype"in e?e.subtype:void 0}}function h(e){var t;if("special"===(null===(t=e.entity)||void 0===t?void 0:t.type))return 8}function g(e,t,r){if("special"===(null==r?void 0:r.type)){if("3"===r.id&&"tap"===e)return;if(("1"===r.id||"2"===r.id)&&"tap"===e)return{entities:r?[r]:void 0}}return{text:t,entities:r?[r]:void 0}}},29627:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var n=r(81870),a=r(59554),i=r(75873),s=r(4638),o=r(45778),c=r(64724);function l({forced:e}={}){return(0,n.XJ)((0,a._N)(i.kL,(t=>t&&t.flags.traffic&&(0,a._N)((0,o.s)(t.code),(r=>(!r||e)&&(0,c.M)((0,s.S)({regionCode:t.code})))))))}},43993:(e,t,r)=>{"use strict";r.d(t,{yt:()=>M,Hm:()=>T,rA:()=>j,kn:()=>N,oD:()=>R,$q:()=>L,$C:()=>H,CV:()=>F});var n=r(81870),a=r(67551),i=r(35036),s=r(88835),o=r(90961),c=r(89965),l=r(63792),d=r(76608),u=r(98374),p=r(32307),m=r(78185),h=r(15402),g=r(40779),f=r(97883),v=r(6002),y=r(24973),b=r(54603);var w=r(9452),I=r(9007),E=r(59554),C=r(40597),x=r(75873),k=r(78263),_=r(72463),O=r(45578),S=r(7300),z=r(68786);const M=(0,n.gQ)("closeLastFrame",(()=>(0,E.gF)({activeLayer:e=>e.appContext.activeLayer,frame:e=>e.appContext.frames[0]},(({activeLayer:e,frame:t})=>{if(!t)return(0,n.ZT)();const{type:r,id:a}=t;return"realty"===e?(0,n.vP)((0,O.h)(),P()):"exchange"===e&&"exchange"===r?(0,S.t)({}):(0,n.vP)((0,o.BN)(),(0,s.t7)({id:a}),(0,E._N)((e=>e.appContext.frames.length),(e=>0===e?P():(0,n.ZT)())),(0,C.lD)(),(0,E.gF)({prevZoom:f.Hr,frame:e=>e.appContext.frames[e.appContext.frames.length-1]},(({prevZoom:e,frame:t})=>t&&"search"===t.type&&"query"===t.searchType&&"market"===t.tab&&(0,I.t)({prevZoom:e}))))}))));function j(){return(0,n.xJ)((e=>e.appContext.popup?e.appContext.popup.isModal?(0,n.ZT)():"paymentForm"===e.appContext.popup.type?(history.back(),(0,n.ZT)()):(0,k.O)(l.j4):_.Y.get()?(0,n.PQ)((()=>{_.Y.set((()=>!1))})):0===e.appContext.frames.length?(0,i.kG)({isMinimized:!e.appContext.isDataViewerMinimized}):"gallery"===e.appContext.frames[0].type?T():1===e.appContext.frames.length?(0,i.kG)({isMinimized:!e.appContext.isDataViewerMinimized}):M()))}function T(){return(0,n.vP)((0,o.BN)(),(0,s.hp)(),P(),(0,a.G)())}function N(){return(0,n.vP)((0,o.BN)(),(0,s.IW)(),P())}function P(){return(0,n.Mf)((0,w.xU)({suggesterKey:"primary",query:void 0}),(0,w.xU)({suggesterKey:"inbuilding",query:void 0}))}function L(e){return(0,n.xJ)((t=>{const r=t.appContext.frames[0];if(!r||"gallery"!==r.type)return;const n=(0,c.Te)({state:t,entityId:r.entityId}),a=n.data&&n.data.items;if(!a)return;const i=a.findIndex((e=>!(!e.data||!("id"in e.data))&&e.data.id===r.photoId)),o="forward"===e?a[i+1]:a[i-1],l=o&&o.data&&"id"in o.data?o.data.id:void 0;return l?(0,s.D_)(r.id,(e=>Object.assign(Object.assign({},e),{photoId:l}))):void 0}))}const F=(0,n.gQ)("updateMyGeolocation",(e=>(0,n.Mf)((0,m.l6)({lonLat:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy}),(0,n.xJ)((t=>{if(!t.session.geolocation.following)return(0,n.ZT)();const r=function({position:e,accuracy:t,state:r}){const n={lon:e.lon,lat:e.lat,zoom:b.CH};if(!t)return n;const a=t/111319.492*3,i=[[e.lon-a,e.lat+a],[e.lon+a,e.lat+a],[e.lon+a,e.lat-a],[e.lon-a,e.lat-a]],s=(0,f.v9)(r),o=(0,v.o)(r.session.screen,s),c=(0,y.getCenterZoomByPoints)(i,r.appContext.rotation,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:c.zoom}:n}({position:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy,state:t});return(0,n.Mf)((0,m.hL)({follow:!1}),(0,h._4)(Object.assign(Object.assign({},r),{rotation:0,pitch:0})))}))))),R=(0,n.gQ)("setMyGeolocationFailed",(e=>(0,n.Mf)((0,g.ck)(),(0,p.$)((({tp:t})=>{switch(e){case"PERMISSION_DENIED":return(0,d.c)((0,u.v)({title:t._t("Не удалось определить местоположение"),message:t._t("Доступ к геоданным не разрешён")}));default:return(0,d.c)((0,u.v)({title:t._t("Не удалось определить местоположение"),message:""}))}}))))),H=()=>(0,E.gF)({regionCode:x.SJ,showTraficOnMap:e=>e.appContext.showTrafficOnMap},(()=>(0,n.vP)((0,z.P)(),(0,i.Tz)())))},59554:(e,t,r)=>{"use strict";r.d(t,{_N:()=>s,gF:()=>o,zh:()=>c,Mb:()=>l,WW:()=>d});var n=r(81870),a=r(97883),i=r(6279);function s(e,t){return(0,n.xJ)((r=>{const n=e(r);return t(n)}))}function o(e,t){return(0,n.xJ)((r=>{const n=(0,i.u)(e).reduce(((t,n)=>(t[n]=e[n](r),t)),{});return t(n)}))}function c(e){return s(a.Id,e)}const l=(e,t)=>s((t=>t.appContext.frames.find((t=>t.id===e))),t),d=(e,t,r)=>s((t=>t.appContext.frames.find((t=>t.id===e))),(e=>!!e&&t(e)&&r(e)))},67675:(e,t,r)=>{"use strict";r.d(t,{Ue:()=>n,FY:()=>a,hC:()=>i,oN:()=>s,Rw:()=>o,q0:()=>c,yG:()=>l,F0:()=>d,Yq:()=>u,Vz:()=>p,Mp:()=>m,$h:()=>h,qH:()=>g,KU:()=>f});const n={normal:400,medium:500,bold:700},a={fontSize:"18px",lineHeight:"20px",fontWeight:n.normal,wordWrap:"break-word"},i={fontSize:"18px",lineHeight:"20px",fontWeight:n.medium,wordWrap:"break-word"},s={fontSize:"13px",lineHeight:"16px",fontWeight:n.normal},o=Object.assign(Object.assign({},s),{fontWeight:n.bold}),c=Object.assign(Object.assign({},s),{fontWeight:n.medium}),l={fontSize:"11px",lineHeight:"12px",fontWeight:n.normal},d=Object.assign(Object.assign({},l),{fontWeight:n.medium}),u=Object.assign(Object.assign({},l),{fontWeight:n.bold}),p={fontSize:"9px",lineHeight:"12px"},m={fontWeight:n.bold,fontSize:"11px",lineHeight:"16px",textTransform:"uppercase",letterSpacing:"0.5px"},h={fontSize:"29px",lineHeight:"32px"},g=Object.assign(Object.assign({},s),{fontFamily:"inherit"});function f(e,t){const r=parseInt(t.lineHeight,10);return Object.assign(Object.assign({},t),{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:e,overflow:"hidden",textOverflow:"ellipsis",maxHeight:r?e*r:"none"})}},49808:(e,t,r)=>{"use strict";r.d(t,{zb:()=>a,Ay:()=>i,wQ:()=>s,it:()=>o,P6:()=>c});var n=r(67675);const a={fontSize:"11px",fontWeight:n.Ue.bold,lineHeight:"16px",wordWrap:"break-word",letterSpacing:"-0.3px"},i={fontSize:"8px",fontWeight:n.Ue.bold,lineHeight:"16px",wordWrap:"break-word",letterSpacing:"-0.2px"},s=Object.assign(Object.assign({},n.Rw),{fontWeight:n.Ue.medium}),o={fontSize:"16px",lineHeight:"18px",fontWeight:n.Ue.normal,wordWrap:"break-word",hyphens:"auto"},c={fontSize:"16px",lineHeight:"16px",fontWeight:n.Ue.normal,wordWrap:"break-word"}},66017:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(46184);function a(e){return e?n.S[e]:n.S.default}},82225:(e,t,r)=>{"use strict";function n(e,t,r="id"){return!(!e&&!t)&&(!!t&&(!e||e[r]!==t[r]))}r.d(t,{f:()=>n})},24348:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var n=r(9259);function a(e){return"point"in e&&!!e.point||!!(0,n.Y)(e)}},3238:(e,t,r)=>{"use strict";function n(e,...t){return r=>({type:e,payload:r,reducers:t.map((e=>(t,r)=>e(t,r.payload)))})}r.d(t,{P:()=>n})},53849:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(88835);function a(e){return(t,r)=>(0,n.D_)(t,(t=>e(t)?r(t):void 0))}},27671:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var n=r(81870);function a(e){return t=>(0,n.xJ)((r=>{const n=r.appContext.frames.find(e);return t(n)}))}},26294:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});const n=e=>{if("search"===(null==e?void 0:e.type)&&("buyHere"===e.searchType||"fmcg"===e.searchType))return e.adsIds}},2418:(e,t,r)=>{"use strict";function n(e,t){const{tp:r}=t;return e.is_default?e.title||r._t("Избранное"):e.title||r._t("Подборка без названия")}r.d(t,{c:()=>n})},91437:(e,t,r)=>{"use strict";r.d(t,{iF:()=>i,t0:()=>s,WZ:()=>o,b0:()=>c,QB:()=>l,DO:()=>d,vr:()=>u,GK:()=>p,fp:()=>m,Fq:()=>h,Ks:()=>g,Di:()=>f,Bj:()=>v,yP:()=>y});var n=r(22487),a=r(2615);function i(e,t){return e.find((e=>e.id===t))}function s(e,t){return e.find(function(e){return t=>!!t&&t.type===e}(t))}function o(e,t){return e.find((e=>t.includes(e.type)))}function c(e){switch(e.searchType){case"query":return e.tabMarket.searchId;case"offers":return e.searchId}}function l(e,t){const r="actual"===t?a.Gp:a.sG;switch(e.searchType){case"query":return r(e.tabCatalog.searchId);case"buyHere":case"fmcg":case"inbuilding":case"filials":return r(e.searchId)}}function d(e){return"search"===e.type&&"query"===e.searchType?e.tab:void 0}function u(e){switch(e.type){case"search":switch(e.searchType){case"query":return e.tabCatalog.parentSearchId||(0,a.Gp)(e.tabCatalog.searchId);case"buyHere":case"fmcg":case"inbuilding":case"filials":default:return(0,a.Gp)(e.searchId)}case"entity":return"inside"===e.tab&&e.tabInside?(0,a.Gp)(e.tabInside.searchId):""}}function p(e){switch(e.searchType){case"query":return e.tabMarket.parentSearchId||e.tabMarket.searchId;case"offers":return e.searchId}}function m(e){const t=(0,n.A)(e);return t?t.rubric_id:void 0}function h(e){const t=s(e,"entity");if(t&&"entity"===t.type)return t}function g(e,t){return e.find((e=>"entity"===e.type&&e.entityId===t))}function f(e){const t=s(e,"search");if(t&&"search"===t.type)return t}function v(e){const t=s(e,"pending");if(t&&"pending"===t.type&&"entity"===t.subtype)return t}function y(e,t){const r=e[0],n=i(e,t);return!(!r||!n)&&("search"===r.type&&"offers"===r.searchType&&2===e.length?"entity"===n.type:r===n)}},12799:(e,t,r)=>{"use strict";function n(e,t){return e||(t[0]?t[0].id:void 0)}r.d(t,{q:()=>n})},22149:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=e=>`d${e.slice(0,5)}q`},59123:(e,t,r)=>{"use strict";function n({first_name:e,last_name:t,display_name:r},n){const a=e?e[0]:"",i=t?t[0]:"",s=a&&i?`${a[0]}${i[0]}`:"",o=r?r[0]:"",c=n._t("Я");return s||o||c}r.d(t,{C:()=>n})},66032:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});const n=(e,t)=>{const r=a(e,t);return{size:null==t?void 0:t.total,uiFilters:r}},a=(e,t)=>{var r;const n=[];e.action&&n.push({name:"buy"===e.action?"exchangeBuy":"exchangeSell",value:String(e.volume||!0)});const a=e.currencyCode||(null===(r=null==t?void 0:t.currencies[0])||void 0===r?void 0:r.code);return a&&n.push({name:"exchangeToCurrency",value:a}),n}},93277:(e,t,r)=>{"use strict";r.d(t,{c:()=>n.c});var n=r(56216)},95084:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(89965),a=r(45435),i=r(91437);function s(e){const{state:t,entityFrameId:r}=e,s=(0,i.iF)(t.appContext.frames,r);if(!s||"entity"!==s.type)return;const o=(0,n.wj)({state:t,entityId:s.entityId,searchId:s.searchId}).data;return o?(0,a.Pj)({entity:o}):void 0}},45435:(e,t,r)=>{"use strict";r.d(t,{h:()=>n.h,Pj:()=>n.Pj});var n=r(48391)},88540:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var n=r(96952),a=r(91437),i=r(96421),s=r(54917),o=r(51558),c=r(30859),l=r(2615);function d({frameId:e,state:t}){var r,d,u;if(!e)return;const p=(0,a.iF)(t.appContext.frames,e);if(!p||!(0,s.E)(p))return;const{data:m,meta:h}=(0,i.NP)({state:t,searchId:p.tabMarket.searchId});if(!h||"success"!==h.status||!m)return;const g=null===(u=null===(d=null===(r=(0,i.O9)({state:t,filtersId:(0,l.Gp)(p.tabMarket.filtersId)}))||void 0===r?void 0:r.data)||void 0===d?void 0:d.filters)||void 0===u?void 0:u.main;return{size:m.total||0,searchParameters:m.bss&&m.bss.searchParameters,auctionId:m.bss&&m.bss.auctionId,building:p.tabMarket.buildingId,uiFilters:(0,o.h)((0,c.T)({widgets:g,filterValues:p.tabMarket.filterValues}),void 0),sort:(0,n.C)(p.tabMarket.filterValues)}}},30998:(e,t,r)=>{"use strict";r.d(t,{a:()=>u});var n=r(96952),a=r(91437),i=r(96421),s=r(20869),o=r(89066),c=r(80119),l=r(51558),d=r(30859);function u({frameId:e,state:t}){var r,u,p;if(!e)return;const m=(0,a.iF)(t.appContext.frames,e);if(!m||!(0,o.U)(m))return;const h=m.offersSearchId,{data:g,meta:f}=(0,i.PC)({state:t,searchId:h})||c.Y;if(!f||"success"!==f.status||!g||!g.total)return;const v=(0,s.Q)(m),y=null===(p=null===(u=null===(r=(0,i.O9)({state:t,filtersId:m.filtersId}))||void 0===r?void 0:r.data)||void 0===u?void 0:u.filters)||void 0===p?void 0:p.main;return{entity:{id:m.productId,type:"orgProduct"},size:g.total,sort:(0,n.C)(v),uiFilters:(0,l.h)((0,d.T)({widgets:y,filterValues:v}),void 0),searchParameters:g.bss&&g.bss.searchParameters,auctionId:g.bss&&g.bss.auctionId}}},18398:(e,t,r)=>{"use strict";r.d(t,{PD:()=>h,Tp:()=>p});var n=r(88869),a=r(14101),i=r(53634),s=r(59364),o=r(96952);function c(e){if(e&&4===e.length)return e.map((e=>({lat:e.latitude,lon:e.longitude})))}var l=r(91437),d=r(60985),u=r(51558);const p=()=>(0,d.P1)([({state:e,frame:t})=>(0,a.rO)({state:e,searchId:(0,n.r)(t)||""}),({state:e,frame:t})=>(0,i.O)({state:e,filtersId:(0,s.p)(t)})],((e,t)=>{var r;if(!e.meta||!e.data||"loading"===e.meta.status)return;const{total:n,searchType:a,contextRubrics:i,buildingId:s,searchAttributes:l,filters:d}=e.data,p=(0,o.C)(d),m=null===(r=null==l?void 0:l.query_context)||void 0===r?void 0:r.reduce(((e,t)=>("attribute"===t.table_name&&e.push(t.record_id),e)),[]);return{uiFilters:(0,u.h)(d,t&&t.filters&&t.filters.attributes),sort:p,size:n||0,searchType:a,firstResultClass:a,contextRubrics:i&&i.length?i.map((e=>e.id)):void 0,contextAttributes:(null==m?void 0:m.length)?m:void 0,hasGeoRestriction:!!l&&!!l.geo_restriction,partialResult:!!l&&l.is_partial,advertisers:l&&l.advertisers?l.advertisers.map((({org:e,rubr:t})=>({org:e,contextRubric:t}))):void 0,searchStatisticsTags:(null==l?void 0:l.statistic_tags)||void 0,outviewport:l?c(l.out_viewport):void 0,building:s,searchSegmentId:l&&l.dgis_project_id,rtwVersion:null==l?void 0:l.rtw_version}})),m=p();function h(e){const{state:t,searchFrameId:r}=e,n=(0,l.iF)(t.appContext.frames,r);if(n&&("search"!==n.type||"filials"!==n.searchType))return m({state:t,frame:n})}},82326:(e,t,r)=>{"use strict";function n(e){if(e.state.appContext.weak.fullScreenBanner)return;const t="frame"in e?i(e.frame):e.name;return t?{uiElement:{type:"frame",uuid:"frame"in e?e.frame.id:e.uuid,name:t,framesLayout:{dataViewer:a(e.state)}}}:void 0}function a(e){return e.appContext.frames.length?e.appContext.frames.map((e=>({uuid:e.id,name:i(e)}))).reverse():[{name:"dashboardFrame",uuid:e.appContext.staticFrames.dashboard.id}]}function i(e){switch(e.type){case"dashboard":return"dashboardFrame";case"search":switch(e.searchType){case"offers":return"branchMarketSearchResultsFrame";default:return"directorySearchResultsFrame"}case"prices":return"pricesFrame";case"collection":switch(e.subtype){case"private":return"userCollectionFrame";case"public":default:return"specialProjectCollectionFrame"}case"userProfile":return"userProfileFrame";case"gallery":return"galleryFrame";case"entity":return"directoryObjectCardFrame";case"offer":return"branchMarketProductOfferFrame";case"direction":return"directionFrame";case"directions":return"routeSearchFrame";case"rubric":return"rubricatorSubrubricsFrame";case"rubricator":return"rubricatorFirstLevelFrame";case"pending":return"directoryObjectCardFrame";case"product":return"productFrame";case"publicFavorites":switch(e.subtype){case"guidebook":return"guidebookFrame";case"award2019":return"award2gisFrame";case"interesting":default:return"interestingFrame"}case"unconfirmedReviews":return"unconfirmedReviewsFrame";case"achievements":return"achievementsFrame";case"currentReview":return"currentReviewFrame";case"tUgc":return"tUGCCardFrame";case"marketCatalog":return"marketCatalogFrame";case"userFriendsActivity":return"friendsActivitiesHereFrame";case"realty":return"realtyLayerFrame";case"realtyCard":return"realtyLayerProductOfferFrame";case"error":return"errorFrame";case"exchange":return"exchangeCurrencyFrame"}}r.d(t,{x:()=>n,E:()=>i})},95610:(e,t,r)=>{"use strict";function n(e){return"building"===e.type?e.id:"branch"===e.type||"station_entrance"===e.type?e.address&&e.address.building_id:void 0}r.d(t,{V:()=>n})},87140:(e,t,r)=>{"use strict";r.d(t,{B:()=>l});var n=r(97883),a=r(6002),i=r(24973),s=r(60218),o=r(9259),c=r(24348);function l({entity:e,state:t}){if(!(0,c.V)(e))return;const r=(0,o.Y)(e);if(r){if(!Array.isArray(r))return{lon:r.lon,lat:r.lat,zoom:Math.max(t.appContext.zoom,16)};const e=(0,n.v9)(t),o=(0,s.xH)(r).map((e=>[e.lon,e.lat])),c=(0,a.o)(t.session.screen,e),l=(0,i.getCenterZoomByPoints)(o,t.appContext.rotation,[c.width,c.height]);if(l)return{lon:l.center[0],lat:l.center[1],zoom:Math.min(l.zoom-.1,16)}}return"point"in e&&e.point?{lon:e.point.lon,lat:e.point.lat,zoom:Math.max(t.appContext.zoom,16)}:void 0}},89230:(e,t,r)=>{"use strict";function n(e){const t="links"in e&&e.links;return t&&t.servicing&&t.servicing.count||0}r.d(t,{F:()=>n})},43667:(e,t,r)=>{"use strict";function n(e){const t="links"in e&&e.links;return t&&t.providers&&t.providers.count||0}r.d(t,{k:()=>n})},6212:(e,t,r)=>{"use strict";function n(e,t){return t&&e.some((e=>e.tab===t))?t:e[0].tab}r.d(t,{d:()=>n})},45635:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var n=r(60404),a=r(40842);function i(e,t){var r,i;switch(e.type){case"entity":case"pending":case"gallery":return{entityId:e.entityId,searchId:e.searchId};case"prices":return{entityId:e.entityId,searchId:e.entitySearchId};case"realtyCard":return{entityId:(0,a.W)(t)};case"realty":return"building"===(null===(r=e.entity)||void 0===r?void 0:r.type)?{entityId:null===(i=e.entity)||void 0===i?void 0:i.id,searchId:e.searchId}:n.Nu;case"product":return{entityId:e.buildingId};case"search":switch(e.searchType){case"query":return"market"===e.tab?{entityId:e.tabMarket.buildingId}:{};case"inbuilding":return{entityId:e.buildingId};case"offers":return{entityId:e.branchId,searchId:e.branchSearchId}}return{}}return{}}},9259:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(13776),a=r(60218);function i(e){if("route"===e.type)return e.directions&&e.directions.map((e=>e.geometry.selection?(0,n.h_)(e.geometry.selection):void 0)).filter(a.Gg);const t=e.geometry&&e.geometry.selection&&(0,n.$W)(e.geometry.selection);return t?t.geometry:void 0}},13673:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(39662);function a(e){if("reviews"in e&&(0,n.s)(e))return e.reviews&&e.reviews.general_rating?e.reviews.general_rating:0}},19416:(e,t,r)=>{"use strict";function n(e){switch(e){case"services":case"providers":return"services";default:return e}}r.d(t,{W:()=>n})},27401:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(42721);function a(e){switch(e.type){case"branch":return(0,n.i)(e)?["contacts","inside","reviews","prices","realty","services","providers","discounts"]:["contacts","info","inside","reviews","prices","realty","services","providers","discounts"];case"building":return["info","inside","realty","reviews","services","providers"];case"station_entrance":return["info","inside","realty","reviews"];case"station":case"station_platform":case"route":return["info"];default:return["info","reviews"]}}},67254:(e,t,r)=>{"use strict";function n(e,t){var r;const n="links"in e&&(null===(r=e.links)||void 0===r?void 0:r.database_entrances),a=t&&n?n.find((e=>e.id===t)):void 0;return null==a?void 0:a.entity_name}r.d(t,{O:()=>n})},55902:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(34990);function a(){return{hardwareInfo:(0,n.T)(),sourceUrl:window.location.href.split("://")[1]}}},92291:(e,t,r)=>{"use strict";function n(e){const t=Math.max(0,...e.map((e=>e.length)));if(0===t)return;const r=e.map(((e,t)=>({markers:e,floorIndex:t}))).filter((e=>e.markers.length===t));if(r.length>1){const e=r.map((e=>Math.min(...e.markers.map((e=>e.index))))),t=Math.min(...e);return r[e.indexOf(t)].floorIndex}return r[0].floorIndex}r.d(t,{M:()=>n})},88869:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(2615),a=r(51187);function i(e,t){const r="actual"===t?n.Gp:n.sG;switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?r(e.tabCatalog.searchId):e.tabMarket.searchId;case"inbuilding":case"filials":case"buyHere":case"fmcg":return r(e.searchId);default:return e.searchId}case"entity":return(0,a.l)(e,e.tab,t);case"gallery":return e.searchId;case"prices":return e.offersSearchId;case"directions":return r(e.searchId)}}},23953:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(2615);function a(e){switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?(0,n.Gp)(e.tabCatalog.page):(0,n.Gp)(e.tabMarket.page);case"offers":case"filials":case"buyHere":case"fmcg":return(0,n.Gp)(e.page)}}return 1}},22487:(e,t,r)=>{"use strict";function n(e){switch(e.type){case"search":return"query"===e.searchType?"catalog"===e.tab?e.tabCatalog.filterValues:void 0:e.filterValues;case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0}}r.d(t,{A:()=>n})},51187:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(2615);function a(e,t,r){const a="actual"===r?n.Gp:n.sG;switch(t){case"inside":return e.tabInside?a(e.tabInside.searchId):void 0;case"providers":return e.tabProviders?e.tabProviders.searchId:void 0;case"services":return e.tabServices?e.tabServices.searchId:void 0;case"prices":return e.tabPrices?e.tabPrices.searchId:void 0;case"realty":return e.tabRealty?e.tabRealty.searchId:void 0;case"reviews":if(!e.tabReviews)return;return e.tabReviews.isOrg?a(e.tabReviews.orgReviewsSearchId):a(e.tabReviews.entityReviewsSearchId);case"info":case"contacts":default:return}}},20869:(e,t,r)=>{"use strict";function n(e){switch(e.type){case"search":return"query"===e.searchType?"catalog"===e.tab?e.tabCatalog.filterValues:e.tabMarket.filterValues:"filterValues"in e?e.filterValues:void 0;case"product":return e.filterValues;case"directions":return e.filterValuesByTab[e.tab];case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0}}r.d(t,{Q:()=>n})},59364:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(2615);function a(e,t){const r="actual"===t?n.Gp:n.sG;switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?r(e.tabCatalog.filtersId):r(e.tabMarket.filtersId);case"offers":return r(e.filtersId);case"buyHere":case"fmcg":case"filials":case"inbuilding":return e.filtersId||"";default:return""}case"entity":return"";case"product":return e.filtersId}return""}},59389:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n=r(2615);function a(e,t){const r="actual"===t?n.Gp:n.sG;switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?r(e.tabCatalog.gtaId):void 0;case"filials":case"inbuilding":return e.gtaId;default:return}case"entity":switch(e.tab){case"inside":return e.tabInside?e.tabInside.gtaId:void 0;case"services":return e.tabServices?e.tabServices.gtaId:void 0;case"providers":return e.tabProviders?e.tabProviders.gtaId:void 0;default:return}default:return"gtaId"in e?e.gtaId:void 0}}},38601:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(2615);function a(e){switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?(0,n.sG)(e.tabCatalog.page):(0,n.sG)(e.tabMarket.page);case"offers":case"inbuilding":case"filials":case"buyHere":case"fmcg":return(0,n.sG)(e.page);default:return 1}case"realty":case"exchange":case"product":return e.page;case"entity":switch(e.tab){case"inside":return e.tabInside?(0,n.sG)(e.tabInside.page):1;case"services":return e.tabServices?e.tabServices.page:1;case"providers":return e.tabProviders?e.tabProviders.page:1;default:return 1}default:return 1}}},99988:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var n=r(88869),a=r(60218),i=r(19416),s=r(23953);function o(e){const t=[e.id];switch(e.type){case"search":switch(t.push((0,n.r)(e,"actual")),"query"===e.searchType&&t.push(e.tab),e.searchType){case"query":t.push((0,s.X)(e).toString()),t.push(c(e));break;case"buyHere":case"fmcg":case"offers":t.push(c(e))}break;case"entity":t.push(e.tab?(0,i.W)(e.tab):void 0);break;case"directions":t.push((0,n.r)(e,"actual")),t.push(e.tab);break;case"realty":case"exchange":t.push(e.scrollId)}return(0,a.oA)(t).join("_")}function c(e){switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?e.tabCatalog.scrollIdHash:e.tabMarket.scrollIdHash;case"offers":case"buyHere":case"fmcg":return e.scrollIdHash}break;default:return""}}},67138:(e,t,r)=>{"use strict";function n(e){return"product"===e.type?e.viewpoint:"catalog"===e.tab?e.tabCatalog.viewpoint:e.tabMarket.viewpoint}r.d(t,{v:()=>n})},95207:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(60404);function a(e,t){return e&&"0"!==e?e:t&&"0"!==t?t:n.bw}},40842:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var n=r(91437);function a(e){var t;return null===(t=(0,n.t0)(e.appContext.frames,"realtyCard"))||void 0===t?void 0:t.buildingId}},33295:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});const n="#3E7C17",a={suburban_train:n,tram:n,trolleybus:n,metro:n,mcc:n,mcd:n,funicular_railway:n,monorail:n,river_transport:n,cable_car:n,light_rail:n,premetro:n,light_metro:n,bus:"#5D86DD",aeroexpress:"#EB212D",shuttle_bus:"#f2990c"};function i(e){return e?a[e]:n}},53923:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var n=r(72891),a=r(41984);function i(e,t,r){if(!(0,a.U)(e,t,r))return;let i=n.dp.searchBarWrapperHeight;switch(e.type){case"search":("inbuilding"===e.searchType||"query"===e.searchType&&"market"===e.tab&&e.tabMarket.buildingId)&&(i+=16);break;case"product":i+=16}return i}},7718:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var n=r(29940),a=r(9931);function i(e,{tp:t,config:r}){if("market"===e.type)return(0,a.R)({tp:t,config:r},e);switch(e.entity&&e.entity.type){case"attribute":return function(e){var t;const r=(("object"===e.type?null===(t=null==e?void 0:e.search_attributes)||void 0===t?void 0:t.suggested_text:e.text)||"").toLowerCase(),a=(e.entity&&"attribute"===e.entity.type&&e.entity.extend&&e.entity.extend.subcode_label||"").toLowerCase();if(r.includes(a))return(0,n.Ez)(r);if(a.includes(r))return(0,n.Ez)(a);return(0,n.Ez)(`${r} (${a})`)}(e);default:return(0,a.R)({tp:t,config:r},e)}}},31272:(e,t,r)=>{"use strict";function n(e){return e<=0?0:"undefined"!=typeof window?Math.ceil(window.screen.height/e):0}r.d(t,{n:()=>n})},2551:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(63206);function a(e){const t=(0,n.SI)(e);switch(t&&t.tab){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian"}return"default"}},46711:(e,t,r)=>{"use strict";function n(e,t,r){var n,a;switch(e.type){case"crash":if(!e.lanes)return;return e.lanes.map((e=>{switch(e){case"center":return t._t("Средний ряд.");case"left":return t._t("Левый ряд.");case"right":return t._t("Правый ряд.")}})).join(" ");case"camera":{const i=null===(n=e.data)||void 0===n?void 0:n.speed,s=new Set(null===(a=e.data)||void 0===a?void 0:a.violation);if(!s||s.size<2)return;const o=[1,9,10,11,4,2].reduce(((e,r)=>{if(!s.has(r))return e;switch(r){case 1:return i?[...e,t._t("%1 км/ч",[i])]:e;case 9:return i?[...e,t._t("среднюю скорость %1 км/ч",[i])]:e;case 10:return[...e,t._t("остановку")];case 11:return[...e,t._t("разметку")];case 4:return[...e,t._t("полосу ОТ")];case 2:return[...e,t._t("перекресток")];default:return e}}),[]);if(0===o.length)return;return t._t("Камера на %1",[o.join(r.comma+" ")])}}}r.d(t,{j:()=>n})},31897:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(11027);function a(e,t){switch(e.type){case"crash":return t._pt("tUgcType","ДТП");case"camera":return function(e,t){var r,a,i;const s=1===new Set(null===(r=e.data)||void 0===r?void 0:r.violation).size?(0,n.y)(e):"camera",o=null===(a=e.data)||void 0===a?void 0:a.speed,c=null===(i=e.data)||void 0===i?void 0:i.violation;if(s===`camera-${o}`&&(null==c?void 0:c.includes(1)))return t._t("Камера на %1 км/ч",[o]);if(s===`camera-${o}`&&(null==c?void 0:c.includes(9)))return t._t("Камера средней скорости на %1 км/ч",[o]);if("camera-parking"===s)return t._t("Камера контроля остановки");if("camera-line"===s)return t._t("Камера контроля разметки");if("camera-bus"===s)return t._t("Камера контроля полосы общественного транспорта");if("camera-tl"===s)return t._t("Камера контроля перекрестка");return t._pt("tUgcType","Камера")}(e,t);case"roadwork":return t._pt("tUgcType","Дорожные работы");case"restriction":return t._pt("tUgcType","Перекрытие");case"comment":return t._pt("tUgcType","Сообщение на карте");case"other":return t._pt("tUgcType","Прочее")}}},87346:(e,t,r)=>{"use strict";function n(e){return e>25}r.d(t,{q:()=>n})},48215:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});const n=e=>!!e&&["1"].includes(e)},95079:(e,t,r)=>{"use strict";function n(e){return"entity"===e.type}r.d(t,{B:()=>n})},41984:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});const n=["offer","directions","prices","realty","realtyCard","exchange"];function a(e,t,r){if(n.includes(e.type))return!1;if("search"===e.type&&"offers"===e.searchType)return!1;if(!t.isLeftMost)return!1;const{isMobileDevice:a}=r;if(a){if(t.areFiltersOpened)return!1;if("gallery"===e.type)return!1}return!0}},68864:(e,t,r)=>{"use strict";function n(e){return"search"===e.type&&"offers"===e.searchType}r.d(t,{i:()=>n})},86184:(e,t,r)=>{"use strict";function n(e){return"search"===e.type&&("buyHere"===e.searchType||"fmcg"===e.searchType)}r.d(t,{o:()=>n})},47787:(e,t,r)=>{"use strict";function n(e){return!!e&&"search"===e.type&&"filials"===e.searchType}r.d(t,{Y:()=>n})},65933:(e,t,r)=>{"use strict";function n(e){return!!e&&"search"===e.type&&"inbuilding"===e.searchType}r.d(t,{n:()=>n})},54917:(e,t,r)=>{"use strict";function n(e){return!!e&&"search"===e.type&&"query"===e.searchType}r.d(t,{E:()=>n})},25382:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(13877);function a(e){return(0,n.M)(e.type)}},14693:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});function n(e){return e<6}},51945:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(27780),a=r(11253);function i(e,t){switch(e){case"mcc":case"mcd":case"metro":case"premetro":case"light_metro":return!0;default:return(0,n.Z)(t)||(0,a.I)(t)}}},39670:(e,t,r)=>{"use strict";function n(e){return"route"===e.type}r.d(t,{C:()=>n})},86769:(e,t,r)=>{"use strict";function n(e,t){if(!e||!t)return;const{floorNames:r,firmsToFloorIndexMap:n}=e,a=r.map((()=>[]));return Object.keys(n).forEach((e=>{const r=t.indexHashMap[e];if(void 0!==r){const i=n[e];a[i].push({index:r,point:t.markers[r].lonLat})}})),a}r.d(t,{e:()=>n})},49207:(e,t,r)=>{"use strict";function n(e,t,r){switch(e){case"failRead":return r._t("Ошибка при чтении файла");case"failSize":return r._t("Размер фото слишком большой");case"failFormat":case"failFormatHEIF":return r._t("Фото не соответствует формату jpg или png");case"failLimit":return r._t("Можно прикрепить не более %1 фотографий",[t.maxPhotoCount]);case"smallWidth":return r._t("Ширина фото должна быть не менее %1 px",[t.minWidth]);case"smallHeight":return r._t("Высота фото должна быть не менее %1 px",[t.minHeight]);case"largeWidth":return r._t("Ширина фото должна быть не более %1 px",[t.maxWidth]);case"largeHeight":return r._t("Высота фото должна быть не более %1 px",[t.maxHeight]);case"wide":return r._t("Фото слишком широкое");case"narrow":return r._t("Фото слишком узкое");case"deletedError":return r._t("Ошибка при удалении. Попробуйте снова");case"failServerLimit":return r._t("Вы можете загрузить не более %1 фотографий в карточку",[t.maxDailyPhotoCount]);case"somethingWrong":default:return r._t("Ошибка при загрузке")}}r.d(t,{R:()=>n})},22816:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(66017),a=r(46184);function i(e,t,r){return r?(0,n.p)("pedestrian-underground"):t?a.S.border:e&&"passage"===e.type&&e.outcoming_line&&e.outcoming_line.color?e.outcoming_line.color:(0,n.p)(e&&e.type)}},18881:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(66017);function a(e){const t=(0,n.p)(e.type);return"walkway"===e.type||"crossing"===e.type?e.incoming_line&&e.incoming_line.color||t:"passage"!==e.type?t:e.outcoming_line&&e.outcoming_line.color||t}},21431:(e,t,r)=>{"use strict";r.d(t,{W:()=>c});var n=r(12230),a=r(91871),i=r(89965),s=r(29782),o=r(14670);function c(e){const t=(0,o.v9)((t=>{var r,o;const c=e&&n.o.includes(e.type)&&"id"in e?e.id:void 0,l=c?(0,i.nM)({state:t,entityId:c}).data:void 0;return l?(0,a.i)(l)||(null===(o=null===(r=(0,s.D4)({state:t,id:l.region_id}))||void 0===r?void 0:r.data)||void 0===o?void 0:o.uri_code):(0,s.Rg)(t)})),r=(0,o.v9)((e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0));return e?(0,n.B)(Object.assign({cityAlias:t,lang:r},e)):void 0}},73515:(e,t,r)=>{var n={"./ar.po":[26361,6921],"./az.po":[30526,4373],"./en.po":[12937,5023],"./uk.po":[25888,2970],"./uz.po":[35394,4945]};function a(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((()=>r.t(a,7)))}a.keys=()=>Object.keys(n),a.id=73515,e.exports=a}},e=>{"use strict";e.O(0,[1321,4736,9554,5514,9685],(()=>{return t=31078,e(e.s=t);var t}));e.O()}]);